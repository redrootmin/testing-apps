<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Incompatible Changes &mdash; Ren&#39;Py Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=c659a740" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css?v=70edf1c7" />

  
    <link rel="canonical" href="https://www.renpy.org/doc/html/incompatible.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=986d2f06"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
        <script src="_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="Changelog (Ren&#39;Py 6.11 - 6.99)" href="changelog6.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

<a href="https://www.renpy.org/" style="margin-bottom: 0">Ren'Py Visual Novel Engine
<img src="_static/navbar-logo.png" alt="Logo" style="width: 93px; height: 100px; border-radius: 0; margin: 0 auto; padding: 0; margin-top: 5px; background-color: unset;" />
</a>

<a href="index.html" style="margin-bottom: 0px">8.3.4 Documentation</a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI Customization Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Ren'Py Language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="language_basics.html">Language Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">Labels &amp; Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="dialogue.html">Dialogue and Narration</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaying_images.html">Displaying Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="menus.html">In-Game Menus</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditional.html">Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio_filters.html">Audio Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="movie.html">Movie</a></li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">Voice</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Text, Displayables, Transforms, and Transitions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="displayables.html">Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform_properties.html">Transform Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="transitions.html">Transitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrixcolor.html">Matrixcolor</a></li>
<li class="toctree-l1"><a class="reference internal" href="layeredimage.html">Layered Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="3dstage.html">3D Stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="live2d.html">Live2D Cubism</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customizing Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="style.html">Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="style_properties.html">Style Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="screens.html">Screens and Screen Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_actions.html">Screen Actions, Values, and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_special.html">Special Screen Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_optimization.html">Screen Language Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">Preference Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="store_variables.html">Store Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="mouse.html">Custom Mouse Cursors</a></li>
<li class="toctree-l1"><a class="reference internal" href="textshaders.html">Text Shaders</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="launcher.html">Launcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_tools.html">Developer Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="director.html">Interactive Director</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Functionality</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nvl_mode.html">NVL-Mode Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="bubble.html">Speech Bubbles</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Text Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="side_image.html">Side Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms.html">Image Gallery, Music Room, and Replay Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="drag_drop.html">Drag and Drop</a></li>
<li class="toctree-l1"><a class="reference internal" href="sprites.html">Sprites</a></li>
<li class="toctree-l1"><a class="reference internal" href="keymap.html">Customizing the Keymap</a></li>
<li class="toctree-l1"><a class="reference internal" href="achievement.html">Achievements</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Dialogue History</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple.html">Multiple Character Dialogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="splashscreen_presplash.html">Splashscreen and Presplash</a></li>
<li class="toctree-l1"><a class="reference internal" href="lifecycle.html">Lifecycle of a Ren'Py game</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python and Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="statement_equivalents.html">Statement Equivalents</a></li>
<li class="toctree-l1"><a class="reference internal" href="save_load_rollback.html">Saving, Loading, and Rollback</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent.html">Persistent Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_advanced.html">Advanced GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_python.html">Screens and Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="cdd.html">Creator-Defined Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="cds.html">Creator-Defined Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_text_tags.html">Custom Text Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="character_callbacks.html">Character Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_python.html">File Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="color_class.html">Color Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix.html">Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model-Based Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">Other Functions and Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="ren_py.html">_ren.py Files - Ren'Py in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">HTTPS/HTTP Fetch</a></li>
<li class="toctree-l1"><a class="reference internal" href="screenshot.html">Screenshots</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building, Updating, and Other Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="android.html">Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios.html">iOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web.html">Web / HTML5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chromeos.html">Chrome OS/Chromebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="raspi.html">Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="iap.html">In-App Purchasing</a></li>
<li class="toctree-l1"><a class="reference internal" href="updater.html">HTTPS/HTTP Updater</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloader.html">Downloader for Large Games on Mobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="gesture.html">Gestures</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">End-User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems.html">Dealing with Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="self_voicing.html">Self-Voicing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library and Tool Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="template_projects.html">Template Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Engine Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="editor.html">Text Editor Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="skins.html">Skins</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating_renpy.html">Translating Ren'Py</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes, License, and Credits</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog (Ren'Py 7.x-)</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog6.html">Changelog (Ren'Py 6.11 - 6.99)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Incompatible Changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pending-deprecations">Pending Deprecations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-8-4">8.3.4 / 7.8.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-8-0">8.3.0 / 7.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-7-2">8.2.2 / 7.7.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-7-1">8.2.1 / 7.7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-7-0">8.2.0 / 7.7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-6-2">8.1.2 / 7.6.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-6-1">8.1.1 / 7.6.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-6-0">8.1.0 / 7.6.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-5-2">8.0.2 / 7.5.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-5-0">8.0.0 / 7.5.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4-11">7.4.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4-9">7.4.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4-7">7.4.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4-6">7.4.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4-5">7.4.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4-3">7.4.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4-1">7.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-4">7.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-3-3">7.3.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-3-0">7.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-2-2">7.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-1-1">7.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-1">7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-7-0">7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-99">6.99.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id26">6.99.12.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id27">6.99.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id28">6.99.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id29">6.99.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-18">6.18</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-16">6.16</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-15-7">6.15.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-14">6.14</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-13">6.13.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id35">6.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-12-1">6.12.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-12-0">6.12.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-11-1">6.11.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-11-0">6.11.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-10-1">6.10.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incompatible-6-9-2">6.9.2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="sponsors.html">Ren'Py Development Sponsors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ren'Py Visual Novel Engine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Incompatible Changes</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/renpy/renpy/blob/master/sphinx/source/incompatible.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="incompatible-changes">
<h1>Incompatible Changes<a class="headerlink" href="#incompatible-changes" title="Link to this heading"></a></h1>
<p>This is a list of changes that may require intervention in the form of
changes to scripts or your development environment. Our intent is that
all other changes should not affect existing scripts.</p>
<p>Note that setting <a class="reference internal" href="config.html#var-config.script_version"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.script_version</span></code></a> will cause many of
these changes to be reverted, at the cost of losing access to recent
features.</p>
<p>Incompatible changes to the GUI are documented at <a class="reference internal" href="gui.html#gui-changes"><span class="std std-ref">Incompatible GUI Changes</span></a>, as
such changes only take effect when the GUI is regenerated.</p>
<section id="pending-deprecations">
<h2>Pending Deprecations<a class="headerlink" href="#pending-deprecations" title="Link to this heading"></a></h2>
<p>Ren'Py 7.8 is the last release to support Python 2.</p>
<p>Ren'Py 8.4 will drop support for the original OpenGL renderer (gl1), and for Windows 7, 8, and 8.1.</p>
</section>
<section id="incompatible-7-8-4">
<span id="incompatible-8-3-4"></span><span id="id1"></span><h2>8.3.4 / 7.8.4<a class="headerlink" href="#incompatible-7-8-4" title="Link to this heading"></a></h2>
<p><strong>Dissolving Different-Sized Displayables, part two.</strong> When ImageDissolving or AlphaDissolving between
displayables of different sizes, Ren'Py will give the result the size of the largest displayable, in
each access. To revert to the pre-8.1.2 behavior (the smallest size on each axis), add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">dissolve_shrinks</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p><strong>Removal of the ATL 'update' event.</strong> Previous versions of Ren'Py could deliver and &quot;update&quot; event to ATL
inside screens when the screen was changed in major ways, such as when changing translations. This event
was not delivered reliably, and is unlikely to have been used, so it has been removed.</p>
</section>
<section id="incompatible-7-8-0">
<span id="incompatible-8-3-0"></span><span id="id2"></span><h2>8.3.0 / 7.8.0<a class="headerlink" href="#incompatible-7-8-0" title="Link to this heading"></a></h2>
<p><strong>Box_reverse and Box_align</strong> The <a class="reference internal" href="style_properties.html#style-property-box_reverse"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_reverse</span></code></a> property now no longer adjusts the box
alignment. To adjust the box alignment, set the <a class="reference internal" href="style_properties.html#style-property-box_align"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_align</span></code></a> property to 1.0, or use:</p>
<blockquote>
<div><p>define config.box_reverse_align = true</p>
</div></blockquote>
<p>To get the 8.2 behavior.</p>
<p><strong>Retained speech bubbles</strong> are now automatically cleared away when other say, menu, or call screen
statements are invoked. This is controlled by the <a class="reference internal" href="bubble.html#var-bubble.clear_retain_statements"><code class="xref std std-var docutils literal notranslate"><span class="pre">bubble.clear_retain_statements</span></code></a> variable.</p>
<p>To disable this, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">bubble</span><span class="o">.</span><span class="n">clear_retain_statements</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>
</pre></div>
</div>
<p><strong>How ATL sets the child from parameters</strong> The rules as for how and when ATL
transforms get their child set, based upon the parameters they accept and the
arguments they are passed, has slightly changed. It is unlikely to have any
impact on existing games, especially if you were only using documented features.</p>
<ul>
<li><p>The <cite>old_widget</cite> parameter taking a value from a positional argument does not
set the child anymore. That was an undocumented misuse of
<a class="reference internal" href="transitions.html#atl-transitions"><span class="std std-ref">ATL Transitions</span></a>.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">transform</span> <span class="n">t</span><span class="p">(</span><span class="n">old_widget</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">t</span><span class="p">(</span><span class="s2">&quot;eileen&quot;</span><span class="p">)</span> <span class="c1"># will no longer have a child set to the &quot;eileen&quot; image</span>
</pre></div>
</div>
</li>
<li><p>A <cite>child</cite> keyword argument being passed to a transform having a <cite>child</cite>
parameter now sets the child, just as it would in a transform with no
<cite>child</cite> parameter, or if the <cite>child</cite> parameter got a value from a positional
argument. The documentation was ambiguous about this.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">transform</span> <span class="n">t1</span><span class="p">(</span><span class="na">child</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">transform</span> <span class="n">t2</span><span class="p">(</span><span class="na">delay</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">t1</span><span class="p">(</span><span class="na">child</span><span class="o">=</span><span class="s2">&quot;eileen happy&quot;</span><span class="p">)</span> <span class="c1"># will now have a child set to the &quot;eileen happy&quot; image, but previously didn&#39;t.</span>
<span class="n">t2</span><span class="p">(</span><span class="na">child</span><span class="o">=</span><span class="s2">&quot;eileen happy&quot;</span><span class="p">)</span> <span class="c1"># the child is set, as before.</span>
<span class="n">t1</span><span class="p">(</span><span class="s2">&quot;eileen happy&quot;</span><span class="p">)</span>       <span class="c1"># the child is set, as before.</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Character Callbacks</strong> have been changed to take a large number of additional arguments,
as documented at <a class="reference internal" href="character_callbacks.html"><span class="doc">Character Callbacks</span></a>. This should not require changes as character
callbacks should have been written to ignore unknown keyword arguments, but if not
the character callbacks may need to be updated.</p>
<p><strong>Window Statement</strong> The <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">show</span></code> annd <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">hide</span></code> statements
no longer disable the <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span></code> flag. If you'd like to do this, then
either use the new <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span> <span class="pre">False</span></code> statement, or change your game
to include:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">window_functions_set_auto</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>When a <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">show</span></code> occurs after <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">hide</span></code>, Ren'Py will look forward
to the next say statement to determine the type of thr window to show. Previously,
it looked back to the last say statement. To revert this change, include:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">window_next</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p id="munge-8-3-0"><strong>String Munging</strong> Munging of names beginning with __ but not containing a second instance of __
will now occur inside a string just like it does in the rest of a script. What this means is that:</p>
<blockquote>
<div><p>$ __foo = 1
&quot;Add one and __foo and you get [1 + __foo].&quot;</p>
</div></blockquote>
<p>will be rewritten to:</p>
<blockquote>
<div><p>$ _m1_script__foo = 1
&quot;Add one and _m1_script__foo and you get [1 + _m1_script__foo].&quot;</p>
</div></blockquote>
<p>To disable this, in a file named 01nomunge.rpy in your game directory, write:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">munge_in_strings</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Cropping Outside the Bounds of a Displayable</strong> The behavior of cropping a
displayable with a box larger than the displayable has changed. As of this
release, values passed to <a class="reference internal" href="displayables.html#Crop" title="Crop"><code class="xref py py-func docutils literal notranslate"><span class="pre">Crop()</span></code></a>, <a class="reference internal" href="transform_properties.html#transform-property-crop"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">crop</span></code></a>, <a class="reference internal" href="transform_properties.html#transform-property-corner1"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">corner1</span></code></a> and
<a class="reference internal" href="transform_properties.html#transform-property-corner2"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">corner2</span></code></a> are not bound by the original boundaries of the displayable.</p>
<p>In 8.2.x and 7.7.x releases of Ren'Py, the behavior was to crop the right/bottom of the displayable,
but unconstrain the left/top. This behavior can be restored by adding to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">limit_transform_crop</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Before 8.2 and 7.7, the behavior was to crop the right/bottom of the displayable if the value was a
float, and leave left/top unconstrained. This behavior can be restored by adding to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">limit_transform_crop</span> <span class="o">=</span> <span class="s2">&quot;only_float&quot;</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-7-2">
<span id="incompatible-8-2-2"></span><span id="id3"></span><h2>8.2.2 / 7.7.2<a class="headerlink" href="#incompatible-7-7-2" title="Link to this heading"></a></h2>
<p><strong>Fill and Frames</strong> In certain cases in 8.2.1 and earlier, the <a class="reference internal" href="style_properties.html#style-property-xfill"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xfill</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-yfill"><code class="xref std std-propref docutils literal notranslate"><span class="pre">yfill</span></code></a>
style properties could cause Frames, Windows, and Buttons to shrink in size. Now, only expansion in
size is allowed. To revert this, add:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">fill_shrinks_frame</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-7-1">
<span id="incompatible-8-2-1"></span><span id="id4"></span><h2>8.2.1 / 7.7.1<a class="headerlink" href="#incompatible-7-7-1" title="Link to this heading"></a></h2>
<p><strong>*Vertical Text</strong> Vertical text had been improved in the harfbuzz shaper,
with the text now being rendered in the correct place. This may cause
position changes, but since the previous version was wildly incorrect,
no compatibility define is provided.</p>
</section>
<section id="incompatible-7-7-0">
<span id="incompatible-8-2-0"></span><span id="id5"></span><h2>8.2.0 / 7.7.0<a class="headerlink" href="#incompatible-7-7-0" title="Link to this heading"></a></h2>
<p><strong>Stringified annotations and the aborted future of PEP 563</strong> Since Ren'Py
version 8.0.2, Python code in Ren'Py 8 was always compiled using the
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code> directive, with no possible opt-out
for creators.</p>
<p>Given that this change will most likely not be implemented by default in future
versions of Python, we rolled that change back.</p>
<p>In order to keep using the <code class="docutils literal notranslate"><span class="pre">annotations</span></code> future for stringified annotations,
you can add the following line at the top of your files:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">rpy</span> <span class="k">python</span> <span class="n">annotations</span>
</pre></div>
</div>
<p><strong>Text Changes</strong> Ren'Py uses harfbuzz for shaping, which may produce
different glyphs than would have been produced differently, and may change
the spacing of text. The positioning of vertical text has also been
changed by harfbuzz rendering.</p>
<p>To revert this changes, include in your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="k">default</span><span class="p">:</span>
    <span class="na">shaper</span> <span class="s2">&quot;freetype&quot;</span>
</pre></div>
</div>
<p>Ren'Py will automatically use an Emoji font when required. To disable this,
add:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="k">default</span><span class="p">:</span>
    <span class="na">emoji_font</span> <span class="kc">None</span>
</pre></div>
</div>
<p><strong>Interpolation Changes</strong> Interpolations in strings are now treated as Python
expressions, this results in mostly equivelent behaviour when interpreting
fields except when item getters are in use. For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># Previously</span>
<span class="n">e</span> <span class="s2">&quot;[player[money]]&quot;</span> <span class="c1">#=&gt; player[&#39;money&#39;]</span>
<span class="c1"># But now</span>
<span class="n">e</span> <span class="s2">&quot;[player[money]]&quot;</span> <span class="c1">#=&gt; player[money]</span>
</pre></div>
</div>
<p>To revert this behaviour, add the following to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">interpolate_exprs</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>To help other developers work while you're migrating your game to the new
behavior, there is a fallback mode that will first try the new behavior, and
then fall back to the old behavior if the new behavior fails. To enable this,
add the following to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">interpolate_exprs</span> <span class="o">=</span> <span class="s2">&quot;fallback&quot;</span>
</pre></div>
</div>
<p><strong>Polar Coordinate Changes</strong> Ren'Py now enforces that the angles given to
the <a class="reference internal" href="transform_properties.html#transform-property-angle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">angle</span></code></a> and <a class="reference internal" href="transform_properties.html#transform-property-anchorangle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchorangle</span></code></a>
properties are in the range 0 to 360 degrees, inclusive of 0 but not of 360.
Previously, angles outside this range  gave undefined behavior, now the angles
will be clamped to this range. A 360 degree change will no longer cause motion,
but will instead be treated as a 0 degree change.</p>
<p>When animating <a class="reference internal" href="transform_properties.html#transform-property-angle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">angle</span></code></a> and <a class="reference internal" href="transform_properties.html#transform-property-anchorangle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchorangle</span></code></a> with ATL, if a direction
is not supplied, the shortest arc will be used, even if it passes through 0.</p>
<p>There is not a compatibility define for these changes, as they are unlikely to
affect the visible behavior of games in practice.</p>
<p><strong>Empty ATL Blocks Forbidden</strong> Previously, Ren'Py would allow an empty ATL block.
Now it will report that a block is required. You'll need to change:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span><span class="p">:</span>
<span class="s2">&quot;...&quot;</span>
</pre></div>
</div>
<p>to:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span>
<span class="s2">&quot;...&quot;</span>
</pre></div>
</div>
<p>In the unlikely case that you have an empty ATL block.</p>
<p><strong>Box Reverse</strong> The <a class="reference internal" href="style_properties.html#style-property-box_reverse"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_reverse</span></code></a> style property has changed its
behavior in two ways:</p>
<ul class="simple">
<li><p>Space is offered to displayables in the order the displayables are presented in
the screen, where previously the space was offered in reverse order when
<a class="reference internal" href="style_properties.html#style-property-box_reverse"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_reverse</span></code></a> was enabled. This can change the sizes of some displayables.</p></li>
<li><p>A hbox that has <a class="reference internal" href="style_properties.html#style-property-box_wrap"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_wrap</span></code></a> set will wrap from top to
bottom, rather than bottom to top. A vbox with <a class="reference internal" href="style_properties.html#style-property-box_wrap"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_wrap</span></code></a>
set will wrap from left to right, rather than right to left.</p></li>
</ul>
<p>The goal of these changes is to make the behavior of box_reverse more useful
for laying out interfaces in right-to-left languages. To revert these changes,
add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">simple_box_reverse</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p><strong>build.itch_channels</strong> That variable was always documented as a dict but was
mistakenly implemented as a list of tuples. It's now truly a dict. If you
were using list operations on it, you'll need to change your code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># formerly</span>
<span class="k">$</span> <span class="n">build</span><span class="o">.</span><span class="n">itch_channels</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot;pattern&quot;</span><span class="p">,</span> <span class="s2">&quot;channel&quot;</span><span class="p">))</span>
<span class="k">$</span> <span class="n">build</span><span class="o">.</span><span class="n">itch_channels</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="s2">&quot;pattern&quot;</span><span class="p">,</span> <span class="s2">&quot;channel&quot;</span><span class="p">)])</span>
<span class="k">define</span> <span class="n">build</span><span class="o">.</span><span class="n">itch_channels</span> <span class="o">+=</span> <span class="p">[(</span><span class="s2">&quot;pattern&quot;</span><span class="p">,</span> <span class="s2">&quot;channel&quot;</span><span class="p">)]</span>

<span class="c1"># now</span>
<span class="k">$</span> <span class="n">build</span><span class="o">.</span><span class="n">itch_channels</span><span class="p">[</span><span class="s2">&quot;pattern&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;channel&quot;</span>
<span class="k">$</span> <span class="n">build</span><span class="o">.</span><span class="n">itch_channels</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;channel&quot;</span><span class="p">})</span>
<span class="k">define</span> <span class="n">build</span><span class="o">.</span><span class="n">itch_channels</span><span class="p">[</span><span class="s2">&quot;pattern&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;channel&quot;</span>
<span class="k">define</span> <span class="n">build</span><span class="o">.</span><span class="n">itch_channels</span> <span class="o">|=</span> <span class="p">{</span><span class="s2">&quot;pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;channel&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>New position type</strong> The new <a class="reference internal" href="style_properties.html#position" title="position"><code class="xref py py-func docutils literal notranslate"><span class="pre">position()</span></code></a> type has been added to the list
of <a class="reference internal" href="style_properties.html#term-position"><span class="xref std std-term">position</span></a> types. As a result, it can be returned by the
<a class="reference internal" href="displaying_images.html#renpy.get_placement" title="renpy.get_placement"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_placement()</span></code></a> function at any time, even in cases when it
previously returned another type or if you don't use the new type anywhere in
your game.</p>
<p>To prevent this, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">mixed_position</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Drag Group Add Changes</strong> Adding a displayable to a <a class="reference internal" href="drag_drop.html#DragGroup" title="DragGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">DragGroup</span></code></a> now
adds it above the other displayables in the group, rather than below them.</p>
<p>To change this, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">drag_group_add_top</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Translate Statements and config.statement_callbacks</strong> Translate statements
(including internal statements that Ren'Py automatically generates) will no
longer cause <a class="reference internal" href="config.html#var-config.statement_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.statement_callbacks</span></code></a> to be called.</p>
<p><strong>Transitions Use Child Placements</strong> If the child of a transitions provides
placement information, that will be used by the transition itself. This
only makes sense when the transition is used by an ATL transition, and both
the old and new children provide the same placement information.</p>
<p>To disable this, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">transitions_use_child_placement</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Containers Pass Transform Events</strong>
Containers (including fixed, hbox, vbox, side, grid, viewport, and vpgrid) now
pass some transform events (hover, idle, insensitive, selected_hover, and selected_idle)
to their children, meaning that children of a button can have their own transforms to respond to those
events.</p>
<p>To disable this, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">containers_pass_transform_events</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Say Screens Are Supplied the Replace Event.</strong> Say screens are now supplied
the &quot;replace&quot; (rather than &quot;show&quot;) transform event for the second and subsequent pauses.</p>
<p>To disable this, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">say_replace_event</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Re-showing A Screen No Longer Cancels a Hide Event</strong> Previously, if a screen
was hidden and re-shown, a hide or replace transform event associated with the same
screen would be cancelled, and the hiding or replaced screen would instantly
disappear. Now, the event will be allowed to run to completion.</p>
<p>To disable this, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">screens_never_cancel_hide</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-6-2">
<span id="incompatible-8-1-2"></span><span id="id6"></span><h2>8.1.2 / 7.6.2<a class="headerlink" href="#incompatible-7-6-2" title="Link to this heading"></a></h2>
<p><strong>Dissolving Different-Sized Displayables</strong> When dissolving between two displayables
of different sizes, Ren'Py will give the result the size of the largest displayable, in
each access. To revert to the previous behavior (the smallest size on each axis), add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">dissolve_shrinks</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-6-1">
<span id="incompatible-8-1-1"></span><span id="id7"></span><h2>8.1.1 / 7.6.1<a class="headerlink" href="#incompatible-7-6-1" title="Link to this heading"></a></h2>
<p id="android-key-migration"><strong>Android Key Migration</strong> We've received reports of games uploaded to the Google Play as bundles
having their APKs rejected for having different keys. This was caused by
an old release of Ren'Py that used the APK key for bundles. In the Play Console,
this produced an error message like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">You</span> <span class="n">uploaded</span> <span class="n">an</span> <span class="n">APK</span> <span class="n">that</span> <span class="k">is</span> <span class="k">not</span> <span class="n">signed</span> <span class="k">with</span> <span class="n">the</span> <span class="n">upload</span> <span class="n">certificate</span><span class="o">.</span> <span class="n">You</span> <span class="n">must</span> <span class="k">use</span>
<span class="n">the</span> <span class="n">same</span> <span class="n">certificate</span><span class="o">.</span> <span class="n">The</span> <span class="n">upload</span> <span class="n">certificate</span> <span class="k">has</span> <span class="n">fingerprint</span><span class="p">:</span>

    <span class="n">SHA1</span><span class="p">:</span> <span class="o">...</span>

<span class="k">and</span> <span class="n">the</span> <span class="n">certificate</span> <span class="n">used</span> <span class="n">to</span> <span class="n">sign</span> <span class="n">the</span> <span class="n">APK</span> <span class="n">you</span> <span class="n">uploaded</span> <span class="k">has</span> <span class="n">fingerprint</span><span class="p">:</span>

    <span class="n">SHA1</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>While this can be cause by other problems (like simply using entirely incorrect
keys), one potential fix is:</p>
<ol class="arabic simple">
<li><p>In your project's base directory, rename <code class="docutils literal notranslate"><span class="pre">bundle.keystore</span></code> to <code class="docutils literal notranslate"><span class="pre">bundle.keystore.bak</span></code>.</p></li>
<li><p>In your project's base directory, copy <code class="docutils literal notranslate"><span class="pre">android.keystore</span></code> to <code class="docutils literal notranslate"><span class="pre">bundle.keystore</span></code>.</p></li>
</ol>
<p>Then rebuild and re-upload your bundle.</p>
</section>
<section id="incompatible-7-6-0">
<span id="incompatible-8-1-0"></span><span id="id8"></span><h2>8.1.0 / 7.6.0<a class="headerlink" href="#incompatible-7-6-0" title="Link to this heading"></a></h2>
<p><strong>Conflicting properties</strong> The former default input screen, which may have found
its way into your game, contains conflicting style properties. The fix for that
is as follows:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gi">+define config.check_conflicting_properties = True</span>

<span class="w"> </span>screen input(prompt):
<span class="w"> </span>    style_prefix &quot;input&quot;
<span class="w"> </span>    window:

<span class="w"> </span>        vbox:
<span class="gd">-            xalign gui.dialogue_text_xalign</span>
<span class="gi">+            xanchor gui.dialogue_text_xalign</span>
<span class="w"> </span>            xpos gui.dialogue_xpos
<span class="w"> </span>            xsize gui.dialogue_width
<span class="w"> </span>            ypos gui.dialogue_ypos
<span class="w"> </span>            text prompt style &quot;input_prompt&quot;
<span class="w"> </span>            input id &quot;input&quot;
</pre></div>
</div>
<p><strong>Speech Bubbles</strong> Adding bubble support to an existing game requires
adding files and script to the game. The <a class="reference internal" href="bubble.html"><span class="doc">Speech Bubbles</span></a> documentation
includes the required changes.</p>
<p><strong>Live2D</strong> Ren'Py now requires Live2D Cubism 4 SDK for Native R6_2 or later.
It may refuse to run if an older version is used.</p>
<p><strong>Texture Memory</strong> Ren'Py now accounts for texture memory more precisely.
In general, games can raise <a class="reference internal" href="config.html#var-config.image_cache_size_mb"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.image_cache_size_mb</span></code></a> by 33%, and
use the same amount of memory.</p>
<p><strong>Audio Fadeout</strong> When audio is stopped or changed using <code class="docutils literal notranslate"><span class="pre">play</span></code>, there is now
a default fadeout of 0.016 seconds, to prevent pops. This is controlled by
the <a class="reference internal" href="config.html#var-config.fadeout_audio"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.fadeout_audio</span></code></a> variable. To disable the fadeout:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">fadeout_audio</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>Fading is now logarithmic, which sounds smoother to the human ear as it matches
the way ears perceive sound. To revert to the old linear fades:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">linear_fades</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p><strong>Translate None</strong> Ren'Py will now produce an error when encountering an explicit
<code class="docutils literal notranslate"><span class="pre">translate</span> <span class="pre">None</span></code> statement that does not translate strings, styles, or python.
These should be rare, in practice. The recommended change is to replace:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">translate</span> <span class="kc">None</span> <span class="n">start_abcd1234</span><span class="p">:</span>
    <span class="n">e</span> <span class="s2">&quot;This is a test&quot;</span>
</pre></div>
</div>
<p>with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="s2">&quot;This is a test&quot;</span> <span class="na">id</span> <span class="n">start_abcd1234</span>
</pre></div>
</div>
<p>This change can also be reverted with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">check_translate_none</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Keymap</strong> The <a class="reference internal" href="keymap.html"><span class="doc">keymap</span></a> has changed substantially, which means that
if your game changes the default keymap - usually a bad idea - it
will need to be updated to reflect the new keysyms.</p>
<p><strong>File Search</strong> Ren'Py will now only look for image files in game/images,
rather than all files. To look for all files in game/images, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">search_prefixes</span> <span class="o">+=</span> <span class="p">[</span> <span class="s2">&quot;images/&quot;</span> <span class="p">]</span>
</pre></div>
</div>
<p>The paths that are searched consider the purpose of the file, rather than the
type or extensions. So <code class="docutils literal notranslate"><span class="pre">renpy.loadable(&quot;dlc.jpg&quot;)</span></code> won't look for game/images/dlc.jpg.
If you'd like to find that file, write <code class="docutils literal notranslate"><span class="pre">renpy.loadable(&quot;images/dlc.jpg&quot;)</span></code>. If you'd
like to search for a file that can be in either game/ or game/images, write
<code class="docutils literal notranslate"><span class="pre">renpy.loadable(&quot;dlc.jpg&quot;,</span> <span class="pre">&quot;images&quot;)</span></code>.</p>
<p><strong>Android</strong> Android has been changed so that the <code class="docutils literal notranslate"><span class="pre">android.keystore</span></code> file and
<code class="docutils literal notranslate"><span class="pre">bundle.keystore</span></code> file are expected to be found in the project's base
directory, and not in the rapt directory. This allows projects to be
built with different keys, and helps ensure the same keys are used
with multiple Android versions.</p>
<p>If you'd like to use your own keys, configure your game, edit <code class="docutils literal notranslate"><span class="pre">android.json</span></code>
to set update_keystores to false, and then edit <code class="docutils literal notranslate"><span class="pre">local.properties</span></code> and
<code class="docutils literal notranslate"><span class="pre">bundle.properties</span></code> in <code class="docutils literal notranslate"><span class="pre">rapt/project</span></code> to point to your own keystore files.</p>
<p>The android configuration file has been renamed from <code class="docutils literal notranslate"><span class="pre">.android.json</span></code> to
<code class="docutils literal notranslate"><span class="pre">android.json</span></code>. Ren'Py will automatically create the new file if the old
exists.</p>
<p><strong>Dialogue history</strong> Dialogue is now present in the history list
(and hence the history screen) during the statement in which the
dialogue is shown. Previously, it was only present at the end of the
statement. During the statement, the dialogue is shown with a kind of
&quot;current&quot;.</p>
<p>In rare cases, your game might have relied on the old behavior. If so,
it can be disabled with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">history_current_dialogue</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Steam appid</strong> When <a class="reference internal" href="achievement.html#var-config.steam_appid"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.steam_appid</span></code></a> is not set, Ren'Py will delete
any existing <code class="docutils literal notranslate"><span class="pre">steam_appid.txt</span></code> file in the game directory. This is to prevent
the wrong app id from being used.</p>
<p><strong>Sticky layers</strong> This release introduces the concept of sticky layers
which help automatically manage tags being placed on layers other than
their default. In the rare case that a game requires multiple of the
same tag, to be displayed at the same time, on different layers then
this may not be desirable.</p>
<p>To disable sticky layers entirely, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">sticky_layers</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>
</pre></div>
</div>
<p>Alternatively, to prevent only specific layers from being sticky, update
their definitions to include <code class="docutils literal notranslate"><span class="pre">sticky=False</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">renpy</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="s2">&quot;ptfe&quot;</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Lenticular bracket ruby text</strong> This release of Ren'Py introduces
lenticular bracket ruby text, an easier way of writing ruby text. If
a game included a literal 【, it needs to be doubled, to &quot;【【&quot;, to
quote it properly. (This is only strictly necessary when the text
is succeded by a full-width vertical bar, but works always.)</p>
<p>To disable lenticular bracket ruby text, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">lenticular_bracket_ruby</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Constant stores.</strong> This release of Ren'Py introduces <a class="reference internal" href="python.html#constant-stores"><span class="std std-ref">constant stores</span></a>, and
makes some of the built-in stores constant. Constant stores should not change
outside of the init phase. The following stores are constant:</p>
<blockquote>
<div><p>_errorhandling
_gamepad
_renpysteam
_warper
audio
achievement
build
director
iap
layeredimage
updater</p>
</div></blockquote>
<p>If your game changes a variable in one of these stores, outside of the init,
the store can be set to non-constant with (for example):</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">audio</span><span class="o">.</span><span class="n">_constant</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Mixer volumes</strong> now must be specified using a new format, where 0.0 is -40 dB (power)
and 1.0 is 0 dB (power). To use the old format, where the samples were multiplied
by volume ** 2, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">quadratic_volumes</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Alternatively, you can determine new default volumes for <code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_music_volume</span></code>,
<code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_sfx_volume</span></code>, and <code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_voice_volume</span></code> variables. If any
of these is 0.0 or 1.0, it can be left unchanged.</p>
<p><strong>At Transform and Global Variables</strong> An at transform block that uses a global variable
is not re-evaluated when the variable changes. This matches the behavior
for ATL that is not in screens.</p>
<p>The recommended fix is to capture the global variable into a local, by changing:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">test</span><span class="p">():</span>
    <span class="n">test</span> <span class="s2">&quot;Test&quot;</span><span class="p">:</span>
        <span class="k">at</span> <span class="k">transform</span><span class="p">:</span>
            <span class="na">xpos</span> <span class="n">global_xpos</span>
</pre></div>
</div>
<p>to:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">test</span><span class="p">():</span>
    <span class="k">$</span> <span class="n">local_xpos</span> <span class="o">=</span> <span class="n">global_xpos</span>

    <span class="n">test</span> <span class="s2">&quot;Test&quot;</span><span class="p">:</span>
        <span class="k">at</span> <span class="k">transform</span><span class="p">:</span>
            <span class="na">xpos</span> <span class="n">local_xpos</span>
</pre></div>
</div>
<p>This change can be reverted with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">at_transform_compare_full_context</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-5-2">
<span id="incompatible-8-0-2"></span><span id="id9"></span><h2>8.0.2 / 7.5.2<a class="headerlink" href="#incompatible-7-5-2" title="Link to this heading"></a></h2>
<p>A modal screen now blocks the <code class="docutils literal notranslate"><span class="pre">pause</span></code> statement and <code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.pause`()</span></code>
function from timing out. This was the indended behavior, but didn't work
in some cases. This change can be reverted with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">modal_blocks_pause</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The default games no longer filter Ruby/Furigana text tags from the history.
This requires the line in screens.rpy that sets <code class="xref std std-var docutils literal notranslate"><span class="pre">gui.history_allow_tags</span></code>
to be changed to:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">history_allow_tags</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;alt&quot;</span><span class="p">,</span> <span class="s2">&quot;noalt&quot;</span><span class="p">,</span> <span class="s2">&quot;rt&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">,</span> <span class="s2">&quot;art&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>This change is only required if your game uses Ruby/Furigana text tags.</p>
</section>
<section id="incompatible-7-5-0">
<span id="incompatible-8-0-0"></span><span id="id10"></span><h2>8.0.0 / 7.5.0<a class="headerlink" href="#incompatible-7-5-0" title="Link to this heading"></a></h2>
<p>The &quot;Windows, Mac, and Linux for Markets&quot; distribution has been changed to
no longer prefix the contents of the zip file created with the directory
name and version number. If you'd like to retain the old behavior, add
to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">build</span><span class="o">.</span><span class="n">package</span><span class="p">(</span><span class="s2">&quot;market&quot;</span><span class="p">,</span> <span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="s2">&quot;windows linux mac renpy all&quot;</span><span class="p">,</span> <span class="s2">&quot;Windows, Mac, Linux for Markets&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For the noalt text tag to work with history, you'll need to edit
screens.rpy to make sure that <code class="xref std std-var docutils literal notranslate"><span class="pre">gui.history_allow_tags</span></code> contains
&quot;noalt&quot;. The defaultfor this variable is:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">history_allow_tags</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;alt&quot;</span><span class="p">,</span> <span class="s2">&quot;noalt&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>(This change was necessary in 7.4, but only documented now.)</p>
<p>The behavior of Ren'Py changed sometime in the 7.4 series, such that
rollback through a load behaved correctly, and reverted the changes
performed in the <code class="docutils literal notranslate"><span class="pre">after_load</span></code> label, and by <a class="reference internal" href="config.html#var-config.after_load_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.after_load_callbacks</span></code></a>.
(The previous behavior was undefined, with some changes reverted and some not,
leaving the game in an inconsistent state.) If your game has to migrate
data after a load, it's now recommended to call <a class="reference internal" href="save_load_rollback.html#renpy.block_rollback" title="renpy.block_rollback"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.block_rollback()</span></code></a>
to prevent the changes from being rolled back.</p>
<p>The <a class="reference internal" href="config.html#var-config.narrator_menu"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.narrator_menu</span></code></a> variable now defaults to True. It's been
set to true in the default screens.rpy for some time. In the unlikely event
it was false in your game, restore the old behavior with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">narrator_menu</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The sound and voice channels are now stopped when ending the main menu.
To revert to the prior behavior (only the movie channel was stopped), add
to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">main_menu_stop_channels</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;movie&quot;</span> <span class="p">]</span>
</pre></div>
</div>
<p>Screens called by <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">screen</span></code> no longer support roll forward by default.
See <a class="reference internal" href="changelog.html#call-screen-roll-forward"><span class="std std-ref">the changelog</span></a> for the problems it can
cause. Roll forward can be enabled on a per screen basis with the <cite>roll_forward</cite> property,
or for all screens with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">call_screen_roll_forward</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Key and timer statements no longer take up space inside a vbox or hbox, and
the showif statement does not take up space when its child is hidden. To revert
this change:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">box_skip</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="style_properties.html#style-property-focus_mask"><code class="xref std std-propref docutils literal notranslate"><span class="pre">focus_mask</span></code></a> style property now defaults to None for drag displayables.
This improves performance, but means that the displayable can be dragged by
transparent pixels. To revert this, the focus_mask property can be set to True
for individual drags, or globally with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="k">drag</span><span class="p">:</span>
    <span class="na">focus_mask</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Both options reduce performance.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-outline_scaling"><code class="xref std std-propref docutils literal notranslate"><span class="pre">outline_scaling</span></code></a> style property now defaults to &quot;linear&quot;. This means
the window scaling factor is applied to the outline size, and then rounded to an
integer. This can cause multiple outlines of similar sizes to disappear. To revert
this, the outline_scaling property can be set to &quot;step&quot; for individual text elements,
or globally with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="k">default</span><span class="p">:</span>
    <span class="na">outline_scaling</span> <span class="s2">&quot;step&quot;</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="transform_properties.html#transform-property-crop_relative"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">crop_relative</span></code></a> transform property now defaults to True instead of False.
Absolute numbers of pixels to set the cropping should be expressed with ints or
<code class="docutils literal notranslate"><span class="pre">absolute</span></code> numbers. To revert to the former default behavior, which casts floats to
an absolute number of pixels, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">crop_relative_default</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>However, be warned that like most things documented only on this page, this will
conflict with - and cannot be used at the same time as - some other new features.
This setting applies to <a class="reference internal" href="transform_properties.html#transform-property-crop"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">crop</span></code></a>, and also now to <a class="reference internal" href="transform_properties.html#transform-property-corner1"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">corner1</span></code></a> and
<a class="reference internal" href="transform_properties.html#transform-property-corner2"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">corner2</span></code></a>.</p>
<p>The platform-specific directories inside lib/ have had name changes. The
<code class="docutils literal notranslate"><span class="pre">lib/windows-x86_64</span></code> directory is now <code class="docutils literal notranslate"><span class="pre">lib/py2-windows-x86_64</span></code>. This
change helps support the development of the Python 3 powered Ren'Py 8.
These directories are not documented, and may change between Ren'Py
versions, but we do guarantee that <code class="docutils literal notranslate"><span class="pre">sys.executable</span></code> is set.</p>
<p>Vpgrids cannot be overfull anymore, and can only be underfull if the
<code class="docutils literal notranslate"><span class="pre">allow_underfull</span></code> property is passed, or if <code class="xref std std-var docutils literal notranslate"><span class="pre">config.allow_underfull_grids</span></code> is
set to True.</p>
<p>The way <a class="reference internal" href="layeredimage.html"><span class="doc">layered images</span></a> place their children, and how children
with variable size are sized, has changed. Instead of taking into account the available
area in the context the layeredimage is displayed, it now presumes the size of the
screen is available, unless an explicit size has been given with <a class="reference internal" href="transform_properties.html#transform-property-xsize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xsize</span></code></a>,
<a class="reference internal" href="transform_properties.html#transform-property-ysize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">ysize</span></code></a> or <a class="reference internal" href="transform_properties.html#transform-property-xysize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xysize</span></code></a>. To revert to the old behavior, where a layeredimage
can display differently in different contexts, you can use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">layeredimage_offer_screen</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Or you can also toggle it for specific layeredimages by passing them the
<code class="docutils literal notranslate"><span class="pre">offer_screen</span></code> property.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">function</span></code> statement in ATL will only block catch-up in cases where it
executes more than once. To revert to the old behavior, where ATL would block
at a function, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">atl_function_always_blocks</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-4-11">
<span id="id11"></span><h2>7.4.11<a class="headerlink" href="#incompatible-7-4-11" title="Link to this heading"></a></h2>
<p>Ren'Py will now run a button's unhovered property even when focus is
changed by default, such as when a screen is shown or unshown. To
revert to the old behavior, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">always_unfocus</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-4-9">
<span id="id12"></span><h2>7.4.9<a class="headerlink" href="#incompatible-7-4-9" title="Link to this heading"></a></h2>
<p>Ren'Py will now interpret floating point numbers given to a Transform's
<a class="reference internal" href="transform_properties.html#transform-property-xsize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xsize</span></code></a> or <a class="reference internal" href="transform_properties.html#transform-property-ysize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">ysize</span></code></a> properties as a size relative to the area
available to the Transform. To revert this change:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">relative_transform_size</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The order in which Ren'Py's self-voicing reads out layers, screens, and displayables
in screens has changed so that screens and displayables closest to the player
are read first. To revert to the old order:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">tts_front_to_back</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-4-7">
<span id="id13"></span><h2>7.4.7<a class="headerlink" href="#incompatible-7-4-7" title="Link to this heading"></a></h2>
<p>When <a class="reference internal" href="style_properties.html#style-property-xminimum"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xminimum</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-xmaximum"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xmaximum</span></code></a> are both floats, the
minimum is interpreted as being a fraction of the available area. This
means that <a class="reference internal" href="style_properties.html#style-property-xsize"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xsize</span></code></a> will have the expected result when being
given a float. This may cause some displayables to change size. To revert
this change:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">adjust_minimums</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>An ATL displayable will now start its animation when it first
appears, rather than when the screen itself is shown. To revert this change:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">atl_start_on_show</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Input carets now blink by default. To change this:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">input_caret_blink</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-4-6">
<span id="id14"></span><h2>7.4.6<a class="headerlink" href="#incompatible-7-4-6" title="Link to this heading"></a></h2>
<p>The change regarding the layer at list in 7.4.5 was reverted. The new <code class="docutils literal notranslate"><span class="pre">camera</span></code>
statement defaults to the new semantics, while leaving <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">layer</span></code> alone.</p>
</section>
<section id="incompatible-7-4-5">
<span id="id15"></span><h2>7.4.5<a class="headerlink" href="#incompatible-7-4-5" title="Link to this heading"></a></h2>
<p>Games produced with this version use the model-based renderer by default.
To disable the model-based renderer, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">gl2</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Reverted in 7.4.6</strong>
The <code class="docutils literal notranslate"><span class="pre">scene</span></code> statement no longer clears the layer at list. To clear the
layer at list, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="na">layer</span> <span class="n">master</span>
</pre></div>
</div>
<p>Where &quot;master&quot; is the name of the layer. Alternatively, the old behavior
can be restored with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">scene_clears_layer_at_list</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-4-3">
<span id="id16"></span><h2>7.4.3<a class="headerlink" href="#incompatible-7-4-3" title="Link to this heading"></a></h2>
<p>It is now possible to click to dismiss transitions introduced with
<a class="reference internal" href="other.html#renpy.transition" title="renpy.transition"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.transition()</span></code></a>, and places that use it like the <code class="docutils literal notranslate"><span class="pre">with</span></code> clause
of say or <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">screen</span></code> statement. To prevent this, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">dismiss_blocking_transitions</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-4-1">
<span id="id17"></span><h2>7.4.1<a class="headerlink" href="#incompatible-7-4-1" title="Link to this heading"></a></h2>
<p>Pause with a delay now uses <a class="reference internal" href="statement_equivalents.html#renpy.pause" title="renpy.pause"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.pause()</span></code></a> rather than <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">Pause(...)</span></code>.
This means that the user will have to click to bypass multiple pauses in a row.
To revert to the old behavior, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">pause_with_transition</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-4">
<span id="id18"></span><h2>7.4<a class="headerlink" href="#incompatible-7-4" title="Link to this heading"></a></h2>
<p>Mobile platforms now use hardware, rather than software, video playback.
To restore the old behavior, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">hw_video</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Ren'Py will now only show side images if with at least one attribute in
addition to the image tag. To disable this, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">side_image_requires_attributes</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>While setting config variables, like <a class="reference internal" href="config.html#var-config.mouse"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse</span></code></a>, outside of the init
phase was never supported, it will not work in 7.4. Consider using the
<a class="reference internal" href="store_variables.html#var-default_mouse"><code class="xref std std-var docutils literal notranslate"><span class="pre">default_mouse</span></code></a> variable to set a custom mouse cursor, instead.</p>
</section>
<section id="incompatible-7-3-3">
<span id="id19"></span><h2>7.3.3<a class="headerlink" href="#incompatible-7-3-3" title="Link to this heading"></a></h2>
<p>Callbacks registered with <a class="reference internal" href="config.html#var-config.start_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.start_callbacks</span></code></a> are now run
after <code class="docutils literal notranslate"><span class="pre">default</span></code> statements in all cases. To restore the old behavior
(where callbacks were run before <code class="docutils literal notranslate"><span class="pre">default</span></code> statements during game
but not replay start), use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">early_start_store</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>When given to a viewport or vpgrid with scrollbars, the minimum, xminimum,
and yminimum side properties now apply to the side containing the scrollbars
and viewport, and not solely the viewport.</p>
<p>To work around this, either use <code class="docutils literal notranslate"><span class="pre">viewport_minimum</span></code>, <code class="docutils literal notranslate"><span class="pre">viewport_xminimum</span></code>,
and <code class="docutils literal notranslate"><span class="pre">viewport_yminimum</span></code>, or include:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">compat_viewport_minimum</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-3-0">
<span id="id20"></span><h2>7.3.0<a class="headerlink" href="#incompatible-7-3-0" title="Link to this heading"></a></h2>
<p>Screen language now produces the error &quot;a non-constant keyword argument ...
is not allowed after a python block.&quot; when it encounters screens similar
to the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">test</span><span class="p">():</span>

    <span class="k">default</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">button</span><span class="p">:</span>
        <span class="k">$</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="na">action</span> <span class="n">Return</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="k">text</span> <span class="s2">&quot;Test&quot;</span>
</pre></div>
</div>
<p>This is because the property <cite>action</cite> is run before the python assignment,
meaning this was returning 0 when clicked, not 1. To disable this check, add</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">keyword_after_python</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>to a file named 01compat.rpy in your game's game directory. However, your
game will have the old behavior.</p>
<p>The order in which children of the <code class="docutils literal notranslate"><span class="pre">side</span></code> layout are drawn is now
taken from the control string. To revert to the old fixed order, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">keep_side_render_order</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The interface of <a class="reference internal" href="config.html#var-config.say_attribute_transition_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.say_attribute_transition_callback</span></code></a> has
been changed in an incompatible way, to allow sets of old and new tags
to be given. To revert to the old interface, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">say_attribute_transition_callback_attrs</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>It's mode parameter has also been slightly changed, and will now return
a value of <code class="docutils literal notranslate"><span class="pre">both</span></code> when both a <code class="docutils literal notranslate"><span class="pre">permanent</span></code> and <code class="docutils literal notranslate"><span class="pre">temporary</span></code>
attribute transition is occuring.</p>
</section>
<section id="incompatible-7-2-2">
<span id="id21"></span><h2>7.2.2<a class="headerlink" href="#incompatible-7-2-2" title="Link to this heading"></a></h2>
<p><a class="reference internal" href="config.html#var-config.say_attribute_transition_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.say_attribute_transition_callback</span></code></a> has been changed to
accept a new argument, the image being displayed.</p>
</section>
<section id="incompatible-7-1-1">
<span id="id22"></span><h2>7.1.1<a class="headerlink" href="#incompatible-7-1-1" title="Link to this heading"></a></h2>
<p>Ren'Py's window auto function will now determine if dialogue or a caption
is associated with a menu statement, and will attempt to hide or show the
dialogue window as appropriate. A &quot;Force Recompile&quot; is necessary to include
the information that enables this feature. While it should work with older
games, this can be disabled and the old behavior restored with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">menu_showed_window</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">window_auto_show</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;say&quot;</span> <span class="p">]</span>
<span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">window_auto_hide</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;scene&quot;</span><span class="p">,</span> <span class="s2">&quot;call screen&quot;</span> <span class="p">]</span>
</pre></div>
</div>
<p>While not technically an incompatible change, there is a recommend change
to the history screen. Please see <a class="reference internal" href="changelog.html#history-7-1-1"><span class="std std-ref">the changelog entry</span></a>
for details of how to update your game.</p>
</section>
<section id="incompatible-7-1">
<span id="id23"></span><h2>7.1<a class="headerlink" href="#incompatible-7-1" title="Link to this heading"></a></h2>
<p>When an image is not being show, say-with-attributes now resolves a side
image, rather than just using the attributes given. To disable this, add:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">say_attributes_use_side_image</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="incompatible-7-0">
<span id="id24"></span><h2>7.0<a class="headerlink" href="#incompatible-7-0" title="Link to this heading"></a></h2>
<p>Ren'Py now defines automatic images at init 0, rather than at a very late
init level. To revert to the prior behavior, add to your game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
    <span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">late_images_scan</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="transitions.html#Dissolve" title="Dissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">Dissolve()</span></code></a>, <a class="reference internal" href="transitions.html#ImageDissolve" title="ImageDissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageDissolve()</span></code></a>, and <a class="reference internal" href="transitions.html#AlphaDissolve" title="AlphaDissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">AlphaDissolve()</span></code></a>
transitions now default to using the alpha channel of the source
displayables, as if <code class="docutils literal notranslate"><span class="pre">alpha=True</span></code> was given. To revert this change, add:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">dissolve_force_alpha</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Showing a movie sprite that is already showing will now replay the movie.
To revert to the previous behavior:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">replay_movie_sprites</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="incompatible-6-99">
<span id="id25"></span><h2>6.99.13<a class="headerlink" href="#incompatible-6-99" title="Link to this heading"></a></h2>
<p>The size of a hyperlink is now inherited from the size of the enclosing text.
To disable this, add:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">hyperlink_inherit_size</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The {nw} text tag now waits until voice and self-voicing are finished before
it continues.  To disable this behavior, add:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">nw_voice</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>ATL Transforms now show at least one frame whenever a pause or interpolation
occurs. When a game doesn't expect this, it can show up as a series of
rapidly displayed single frames. This can be disabled with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">atl_one_frame</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The show layer at statement now persists the state of a transform like
any other ATL transform. This can lead to a behavior change in which,
for example, an offset persists between multiple show layer at
statements. To disable this, write:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">keep_show_layer_state</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>While not an incompatible change, <a class="reference internal" href="file_python.html#renpy.list_files" title="renpy.list_files"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.list_files()</span></code></a> has been
changed to sort its output in a  standard order. The causes Ren'Py
to commit to behavior that had been ambiguous. For example, when
multiple files in the images directory had the same name, Ren'Py
would pick one at random. (The file picked could change from
system to system.) Now, the same file  is chosen wherever Ren'Py
is run.</p>
</section>
<section id="id26">
<h2>6.99.12.3<a class="headerlink" href="#id26" title="Link to this heading"></a></h2>
<p>Ren'Py will no longer search for system-installed fonts when in developer
mode. If you game was using a system installed font, the font file should
be copied into the game/ directory. (But please make sure that this is
compatible with the font file's license.)</p>
</section>
<section id="id27">
<h2>6.99.11<a class="headerlink" href="#id27" title="Link to this heading"></a></h2>
<p>The order of execution of <code class="docutils literal notranslate"><span class="pre">style</span></code> and <code class="docutils literal notranslate"><span class="pre">translate</span></code> statements has
changed, as documented in <a class="reference internal" href="changelog6.html#renpy-6-99-11"><span class="std std-ref">the changelog</span></a>. To
revent this change, add the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">new_translate_order</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Note that reverting this change may prevent the new GUI from working.</p>
<p>The <a class="reference internal" href="config.html#var-config.quit_action"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.quit_action</span></code></a> variable has changed its default to one
that causes the quit prompt to be displayed of the in-game context. To
revert to the old behavior, add the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">quit_action</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">gamemenus</span><span class="p">(</span><span class="s2">&quot;_quit_prompt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Ren'Py now enforces maximum sizes given to buttons and windows. To disable
this behavior, add the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">enforce_window_max_size</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="id28">
<h2>6.99.9<a class="headerlink" href="#id28" title="Link to this heading"></a></h2>
<p>Ren'Py now plays interface sounds on a channel named &quot;audio&quot;, that
supports multiple sound playback at once. This channel might not have
the same settings as a customized sound channel. The audio channel
settings can be changed by adjusting <a class="reference internal" href="config.html#var-config.auto_channels"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.auto_channels</span></code></a>,
or the sound channel can be used by adding the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">play_channel</span> <span class="o">=</span> <span class="s2">&quot;sound&quot;</span>
</pre></div>
</div>
</section>
<section id="id29">
<h2>6.99.2<a class="headerlink" href="#id29" title="Link to this heading"></a></h2>
<p>Ren'Py will now scan the an image directory (the directory named images
underneath the game directory) for images, and define them based on their
filename. To disable this behavior, use the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">config</span><span class="o">.</span><span class="n">image_directory</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</section>
<section id="incompatible-6-18">
<span id="id30"></span><h2>6.18<a class="headerlink" href="#incompatible-6-18" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">screen</span></code> and <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">screen</span></code> statements may now evaluate their
arguments as part of the screen prediction process. If evaluating the
arguments to a screen causes side effects to occur, the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">screen</span></code>
or <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">screen</span></code> statements should be given the new <code class="docutils literal notranslate"><span class="pre">nopredict</span></code>
clause, which prevents prediction.</p>
<p>Screens now participate in transitions – transitions now go from the old
state of the screen to the new state. To disable this, set
<a class="reference internal" href="config.html#var-config.transition_screens"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.transition_screens</span></code></a> to false.</p>
<p>Ren'Py no longer uses structural equality to transfer state (for example,
the state of a transform) when a screen replaces a screen with the same
tag. Instead, the <a class="reference internal" href="screens.html#sl-use"><span class="std std-ref">use statement</span></a> now supports an <code class="docutils literal notranslate"><span class="pre">id</span></code>
property, which can be used to explicitly transfer state.</p>
</section>
<section id="incompatible-6-16">
<span id="id31"></span><h2>6.16<a class="headerlink" href="#incompatible-6-16" title="Link to this heading"></a></h2>
<p>The meaning of the <cite>loop</cite> parameter to <a class="reference internal" href="rooms.html#MusicRoom" title="MusicRoom"><code class="xref py py-func docutils literal notranslate"><span class="pre">MusicRoom()</span></code></a> has changed. To
get the old behavior, set both <cite>loop</cite> and <cite>single_track</cite> to true.</p>
</section>
<section id="incompatible-6-15-7">
<span id="id32"></span><h2>6.15.7<a class="headerlink" href="#incompatible-6-15-7" title="Link to this heading"></a></h2>
<p>Ren'Py now expects auto-forward mode to be controlled by the &quot;auto-forward&quot; <a class="reference internal" href="screen_actions.html#Preference" title="Preference"><code class="xref py py-func docutils literal notranslate"><span class="pre">Preference()</span></code></a>.
To have it controlled by the auto-forward mode slider, set <code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_afm_enable</span></code> to
None.</p>
</section>
<section id="incompatible-6-14">
<span id="id33"></span><h2>6.14<a class="headerlink" href="#incompatible-6-14" title="Link to this heading"></a></h2>
<p>Previously, Ren'Py moved archived files into the archived/
directory. It would search this directory automatically when running a
game or building archives. One-click builds make this unnecessary,
and files in archived/ should be moved back into the game directory.</p>
<p><a class="reference internal" href="transitions.html#MoveTransition" title="MoveTransition"><code class="xref py py-func docutils literal notranslate"><span class="pre">MoveTransition()</span></code></a> has changed its interface. The old version of
MoveTransition can be accessed as OldMoveTransition, if you don't want
to rewrite your code. (The changes only matter if you use factories with
MoveTransition.)</p>
<p><a class="reference internal" href="transforms.html#Transform" title="Transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">Transform()</span></code></a> has changed its behavior with regards to
asymmetrically scaled and rotated images. It's unlikely the old
behavior was ever used.</p>
</section>
<section id="incompatible-6-13">
<span id="id34"></span><h2>6.13.8<a class="headerlink" href="#incompatible-6-13" title="Link to this heading"></a></h2>
<p>Old-style string interpolation has been re-enabled by default. If you
wrote code (between 6.13 and 6.13.7) that uses % in say or menu statements, you should either
write %% instead, or include the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">config</span><span class="o">.</span><span class="n">old_substitutions</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="id35">
<h2>6.13<a class="headerlink" href="#id35" title="Link to this heading"></a></h2>
<p>The changes to text behavior can affect games in development in many
ways. The biggest change is the introduction of new-style
(square-bracket) text substitutions, and the elimination of old-style
(percent-based) substitutions. These changes can be reverted with the
code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">config</span><span class="o">.</span><span class="n">old_substitutions</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">config</span><span class="o">.</span><span class="n">new_substitutions</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>New- and old-style substitutions can coexist in the same game, by
setting both variables to True.</p>
<p>Ren'Py has also changed the default line-wrapping behavior. While
the new behavior should never increase the number of lines in a
paragraph, it may change which words fall on each line. To restore
the old behavior, add the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="k">style</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="na">layout</span> <span class="o">=</span> <span class="s2">&quot;greedy&quot;</span>
    <span class="k">style</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="na">language</span> <span class="o">=</span> <span class="s2">&quot;western&quot;</span>
</pre></div>
</div>
<p>A bug with negative line_spacing was fixed. This fix can cause blocks of
text to shrink in height. To revert to the old behavior, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">config</span><span class="o">.</span><span class="n">broken_line_spacing</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Finally, the new text code may lead to artifacts when displaying slow
text, especially in conjunction with a negative line spacing. Consider
adjusting <a class="reference internal" href="style_properties.html#style-property-line_overlap_split"><code class="xref std std-propref docutils literal notranslate"><span class="pre">line_overlap_split</span></code></a> to fix this.</p>
</section>
<section id="incompatible-6-12-1">
<span id="id36"></span><h2>6.12.1<a class="headerlink" href="#incompatible-6-12-1" title="Link to this heading"></a></h2>
<p>Image names have changed from being static names to being
attribute-based. This can lead to image names that were previously
distinct becoming ambiguous. To disable attribute-based image names,
set <code class="xref std std-var docutils literal notranslate"><span class="pre">config.image_attributes</span></code> to False.</p>
<p>Showing an image without providing a transform or ATL block will now
continue the previous transform that the image was using. This means
that a moving image may continue moving once it has changed. To revert
to the old behavior, set <a class="reference internal" href="config.html#var-config.keep_running_transform"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.keep_running_transform</span></code></a> to False.</p>
<p>The <cite>image</cite> argument to <a class="reference internal" href="dialogue.html#Character" title="Character"><code class="xref py py-func docutils literal notranslate"><span class="pre">Character()</span></code></a> has changed meaning. While
the old meaning was unsupported in the screens-based environment, it
can be restored for compatibility purposes by setting
<code class="xref std std-var docutils literal notranslate"><span class="pre">config.new_character_image_argument</span></code> to False.</p>
</section>
<section id="incompatible-6-12-0">
<span id="id37"></span><h2>6.12.0<a class="headerlink" href="#incompatible-6-12-0" title="Link to this heading"></a></h2>
<p>The definition of the <cite>items</cite> parameter of the <a class="reference internal" href="screen_special.html#choice-screen"><span class="std std-ref">Choice</span></a> and
<code class="docutils literal notranslate"><span class="pre">nvl_choice</span></code> screens has changed. The <code class="docutils literal notranslate"><span class="pre">nvl_choice</span></code> screen is
deprecated in favor of the <a class="reference internal" href="screen_special.html#nvl-screen"><span class="std std-ref">NVL</span></a> screen.</p>
<p>Screens may be invoked at any time, in order to allow for image
prediction, unless they have a predict property of False. When the
predict property is not False, screens should not cause side effects
to occur upon their initial display.</p>
<p>For performance reason, Ren'Py now ignores the position properties of
ImageReferences. This means that the position properties of
style.image_placement are now ignored. To revert to the old behavior,
set <code class="xref std std-var docutils literal notranslate"><span class="pre">config.imagereference_respects_position</span></code> to True.</p>
</section>
<section id="incompatible-6-11-1">
<span id="id38"></span><h2>6.11.1<a class="headerlink" href="#incompatible-6-11-1" title="Link to this heading"></a></h2>
<p>MoveTransition has been modified to respect the xoffset and yoffset
parameters of the displayables it is moving. The factory functions
that are used for movement now take <cite>xoffset</cite> and <cite>yoffset</cite>
parameters.  While the built-in movement factories take these
parameters without problem, user-defined factories may need to
be upgraded to use or ignore these additional parameters.</p>
</section>
<section id="incompatible-6-11-0">
<span id="id39"></span><h2>6.11.0<a class="headerlink" href="#incompatible-6-11-0" title="Link to this heading"></a></h2>
<ul>
<li><p>The transform specified by the <a class="reference internal" href="config.html#var-config.default_transform"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_transform</span></code></a>
variable is used to initialize the transform properties of images
shown using the show and hide statements. The default value of this
transform sets <a class="reference internal" href="style_properties.html#style-property-xpos"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xpos</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-xanchor"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xanchor</span></code></a> to 0.5, and
<a class="reference internal" href="style_properties.html#style-property-ypos"><code class="xref std std-propref docutils literal notranslate"><span class="pre">ypos</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-yanchor"><code class="xref std std-propref docutils literal notranslate"><span class="pre">yanchor</span></code></a> to 1.0.</p>
<p>This represents a change in the default value of these style
properties, which were previously uninitialized and hence defaulted
to 0.</p>
<p>By including the <a class="reference internal" href="transforms.html#var-reset"><code class="xref std std-var docutils literal notranslate"><span class="pre">reset</span></code></a> transform in ATL transforms, these
properties can be reset back to 0. Alternatively, one can stop using
the default transform, and revert to the old behavior, using the
code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="k">style</span><span class="o">.</span><span class="n">image_placement</span><span class="o">.</span><span class="na">xpos</span> <span class="o">=</span> <span class="mf">0.5</span>
    <span class="k">style</span><span class="o">.</span><span class="n">image_placement</span><span class="o">.</span><span class="na">ypos</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">style</span><span class="o">.</span><span class="n">image_placement</span><span class="o">.</span><span class="na">xanchor</span> <span class="o">=</span> <span class="mf">0.5</span>
    <span class="k">style</span><span class="o">.</span><span class="n">image_placement</span><span class="o">.</span><span class="na">yanchor</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="n">config</span><span class="o">.</span><span class="n">default_transform</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</li>
<li><p>If a transform does not define one of the position properties
<a class="reference internal" href="style_properties.html#style-property-xpos"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xpos</span></code></a>, <a class="reference internal" href="style_properties.html#style-property-ypos"><code class="xref std std-propref docutils literal notranslate"><span class="pre">ypos</span></code></a>, <a class="reference internal" href="style_properties.html#style-property-xanchor"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xanchor</span></code></a>, or
<a class="reference internal" href="style_properties.html#style-property-yanchor"><code class="xref std std-propref docutils literal notranslate"><span class="pre">yanchor</span></code></a>, that property will be taken from the transform's
child, if the defines that property.</p>
<p>This makes it possible to have one transform control a displayable's
vertical motion, and the other control the horizontal. But this is
incompatible with previous behavior, and so can be disabled with the
<a class="reference internal" href="config.html#var-config.transform_uses_child_position"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.transform_uses_child_position</span></code></a> variable.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">config</span><span class="o">.</span><span class="n">transform_uses_child_position</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="incompatible-6-10-1">
<span id="id40"></span><h2>6.10.0<a class="headerlink" href="#incompatible-6-10-1" title="Link to this heading"></a></h2>
<ul>
<li><p>The default positions (left, right, center, truecenter,
offscreenleft, and offscreenright) are now defined as ATL
transforms. This means that showing an image at such a position will
cause the position to be remembered. If you do not want this
behavior, you need to redefine these positions, by adding the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">left</span> <span class="o">=</span> <span class="n">Position</span><span class="p">(</span><span class="na">xalign</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="k">define</span> <span class="n">center</span> <span class="o">=</span> <span class="n">Position</span><span class="p">(</span><span class="na">xalign</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="k">define</span> <span class="n">truecenter</span> <span class="o">=</span> <span class="n">Position</span><span class="p">(</span><span class="na">xalign</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="na">yalign</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="k">define</span> <span class="n">right</span> <span class="o">=</span> <span class="n">Position</span><span class="p">(</span><span class="na">xalign</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="k">define</span> <span class="n">offscreenleft</span> <span class="o">=</span> <span class="n">Position</span><span class="p">(</span><span class="na">xpos</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="na">xanchor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="k">define</span> <span class="n">offscreenright</span> <span class="o">=</span> <span class="n">Position</span><span class="p">(</span><span class="na">xpos</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="na">xanchor</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="incompatible-6-9-2">
<span id="id41"></span><h2>6.9.2<a class="headerlink" href="#incompatible-6-9-2" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>To migrate your game from Ren'Py 6.9.2 or later, copy the directory
containing your game into your projects directory. You can choose a
projects directory by clicking &quot;Options&quot;, &quot;Projects Directory&quot; in the
Launcher. Please see the
<a class="reference external" href="http://www.renpy.org/wiki/renpy/releases/6.9.2">Ren'Py 6.9.2 release notes</a>
for information about migrating from older releases.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="changelog6.html" class="btn btn-neutral float-left" title="Changelog (Ren&#39;Py 6.11 - 6.99)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="license.html" class="btn btn-neutral float-right" title="License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>