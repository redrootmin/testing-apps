<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Changelog (Ren&#39;Py 7.x-) &mdash; Ren&#39;Py Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=c659a740" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css?v=70edf1c7" />

  
    <link rel="canonical" href="https://www.renpy.org/doc/html/changelog.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=986d2f06"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
        <script src="_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog (Ren&#39;Py 6.11 - 6.99)" href="changelog6.html" />
    <link rel="prev" title="Translating Ren&#39;Py" href="translating_renpy.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

<a href="https://www.renpy.org/" style="margin-bottom: 0">Ren'Py Visual Novel Engine
<img src="_static/navbar-logo.png" alt="Logo" style="width: 93px; height: 100px; border-radius: 0; margin: 0 auto; padding: 0; margin-top: 5px; background-color: unset;" />
</a>

<a href="index.html" style="margin-bottom: 0px">8.3.4 Documentation</a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI Customization Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Ren'Py Language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="language_basics.html">Language Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">Labels &amp; Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="dialogue.html">Dialogue and Narration</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaying_images.html">Displaying Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="menus.html">In-Game Menus</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditional.html">Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio_filters.html">Audio Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="movie.html">Movie</a></li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">Voice</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Text, Displayables, Transforms, and Transitions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="displayables.html">Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform_properties.html">Transform Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="transitions.html">Transitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrixcolor.html">Matrixcolor</a></li>
<li class="toctree-l1"><a class="reference internal" href="layeredimage.html">Layered Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="3dstage.html">3D Stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="live2d.html">Live2D Cubism</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customizing Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="style.html">Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="style_properties.html">Style Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="screens.html">Screens and Screen Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_actions.html">Screen Actions, Values, and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_special.html">Special Screen Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_optimization.html">Screen Language Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">Preference Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="store_variables.html">Store Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="mouse.html">Custom Mouse Cursors</a></li>
<li class="toctree-l1"><a class="reference internal" href="textshaders.html">Text Shaders</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="launcher.html">Launcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_tools.html">Developer Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="director.html">Interactive Director</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Functionality</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nvl_mode.html">NVL-Mode Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="bubble.html">Speech Bubbles</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Text Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="side_image.html">Side Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms.html">Image Gallery, Music Room, and Replay Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="drag_drop.html">Drag and Drop</a></li>
<li class="toctree-l1"><a class="reference internal" href="sprites.html">Sprites</a></li>
<li class="toctree-l1"><a class="reference internal" href="keymap.html">Customizing the Keymap</a></li>
<li class="toctree-l1"><a class="reference internal" href="achievement.html">Achievements</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Dialogue History</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple.html">Multiple Character Dialogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="splashscreen_presplash.html">Splashscreen and Presplash</a></li>
<li class="toctree-l1"><a class="reference internal" href="lifecycle.html">Lifecycle of a Ren'Py game</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python and Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="statement_equivalents.html">Statement Equivalents</a></li>
<li class="toctree-l1"><a class="reference internal" href="save_load_rollback.html">Saving, Loading, and Rollback</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent.html">Persistent Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_advanced.html">Advanced GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_python.html">Screens and Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="cdd.html">Creator-Defined Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="cds.html">Creator-Defined Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_text_tags.html">Custom Text Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="character_callbacks.html">Character Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_python.html">File Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="color_class.html">Color Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix.html">Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model-Based Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">Other Functions and Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="ren_py.html">_ren.py Files - Ren'Py in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">HTTPS/HTTP Fetch</a></li>
<li class="toctree-l1"><a class="reference internal" href="screenshot.html">Screenshots</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building, Updating, and Other Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="android.html">Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios.html">iOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web.html">Web / HTML5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chromeos.html">Chrome OS/Chromebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="raspi.html">Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="iap.html">In-App Purchasing</a></li>
<li class="toctree-l1"><a class="reference internal" href="updater.html">HTTPS/HTTP Updater</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloader.html">Downloader for Large Games on Mobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="gesture.html">Gestures</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">End-User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems.html">Dealing with Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="self_voicing.html">Self-Voicing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library and Tool Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="template_projects.html">Template Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Engine Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="editor.html">Text Editor Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="skins.html">Skins</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating_renpy.html">Translating Ren'Py</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes, License, and Credits</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog (Ren'Py 7.x-)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-8-4">8.3.4 / 7.8.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-changes">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-8-3">8.3.3 / 7.8.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-8-2">8.3.2 / 7.8.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-8-1">8.3.1 / 7.8.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-8-0">8.3.0 / 7.8.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#audio-filters">Audio Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-shaders">Text Shaders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-shader-changes">Other Shader Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visual-studio-code">Visual Studio Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#launcher-changes">Launcher Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#window-statement-changes">Window Statement Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#screenshots-and-paper-dolls">Screenshots and Paper Dolls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#steam">Steam</a></li>
<li class="toctree-l3"><a class="reference internal" href="#android">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-7-3">8.2.3 / 7.7.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-7-2">8.2.2 / 7.7.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#accessibility">Accessibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nvl-mode-and-window">NVL-Mode and Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-7-1">8.2.1 / 7.7.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#text">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updater">Updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="#live2d">Live2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch">Fetch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">Other Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-fixes">Other Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-7-0">8.2.0 / 7.7.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#harfbuzz-integration">Harfbuzz Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emoji-related-text-improvements">Emoji-Related Text Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variable-fonts">Variable Fonts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#font-hinting">Font Hinting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-interpolation-improvements">Text Interpolation Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#speech-bubble-improvements">Speech Bubble Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#position-types-and-atl-interpolation">Position types and ATL interpolation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#developer-tools">Developer Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-actions">Data Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#https-http-fetch">HTTPS/HTTP Fetch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">Accessibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#future-in-python">__future__ in python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#translation-improvements">Translation Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scene-show-and-hide-transition">Scene, Show, and Hide Transition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#web">Web</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">Updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="#translations">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">Launcher Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-6-3">8.1.3 / 7.6.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#changes">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id25">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-6-2">8.1.2 / 7.6.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id27">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id28">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-6-1">8.1.1 / 7.6.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id30">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id31">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id32">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-6-0">8.1 / 7.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#documentation-improvements-and-fixes">Documentation Improvements and Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ren-py-sync">Ren'Py Sync</a></li>
<li class="toctree-l3"><a class="reference internal" href="#speech-bubble-dialogue">Speech Bubble Dialogue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#platform-improvements">Platform Improvements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id34">Web</a></li>
<li class="toctree-l4"><a class="reference internal" href="#macintosh">Macintosh</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">Android</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sticky-layers">Sticky Layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detached-layers-layer-displayable">Detached Layers &amp; Layer Displayable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-image-formats-and-image-oversampling">New Image Formats and Image Oversampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#av1-video">AV1 Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="#audio">Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="#draggable-viewports">Draggable Viewports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ren-py-files-ren-py-in-python">_ren.py Files - Ren'Py in Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constant-stores">Constant Stores</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lenticular-bracket-ruby-text">Lenticular Bracket Ruby Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id36">Accessibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#save-token-security">Save Token Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-search-paths">New Search Paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-3d-stage-properties">New 3D Stage Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id37">Live2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="#launcher-and-engine-translations">Launcher and Engine Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conflicting-properties">Conflicting properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#more-new-features">More New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id39">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-8-0-3">8.0.3 / 7.5.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#security">Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modal-screen-pauses-and-timers">Modal Screen, Pauses, and Timers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-and-fixes">Changes and Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-8-0-2">8.0.2 / 7.5.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id42">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-focus-changes">Default Focus Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-improvements">Other Improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-8-0-1">8.0.1 / 7.5.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#improvements">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id44">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-8-0-0">8.0 / 7.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-3-support-ren-py-8-0">Python 3 Support (Ren'Py 8.0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#continued-python-2-7-support-ren-py-7-5">Continued Python 2.7 Support (Ren'Py 7.5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#platform-support-changes">Platform Support Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#web-and-chromeos">Web and ChromeOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#android-and-ios">Android and iOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#steam-steam-deck-and-epic-games-store">Steam, Steam Deck, and Epic Games Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id46">Visual Studio Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dismiss-nearrect-and-focus-rectangles">Dismiss, Nearrect, and Focus Rectangles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#atl-and-transforms">ATL and Transforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#image-gallery">Image Gallery</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boxes-grids-and-vpgrids">Boxes, Grids and Vpgrids</a></li>
<li class="toctree-l3"><a class="reference internal" href="#call-screen-and-roll-forward">Call Screen and Roll Forward</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id47">Other Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#versioning">Versioning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-11">7.4.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-gui-variant-decorator">The gui.variant Decorator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id49">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id50">Translations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-10">7.4.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id52">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id53">Translations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-9">7.4.9</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id55">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ios">iOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id56">Updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="#camera-perspective-improvements">Camera/Perspective Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id57">Accessibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transform-properties">Transform Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id58">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-8">7.4.8</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id60">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id61">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id62">Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-7">7.4.7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#web-and-web-audio">Web and Web Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id64">iOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#input">Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id65">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-6">7.4.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#camera-statement">Camera Statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-displayable">Model Displayable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id67">Other Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id68">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-5">7.4.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model-based-renderer">Model-Based Renderer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mouse">Mouse</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id70">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id71">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-platforms">Other Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id72">Other Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-4">7.4.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-old-game-directory">The old-game directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id74">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id75">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-3">7.4.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id77">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id78">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#old-features">Old Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id79">Other Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id80">Translations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-2">7.4.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-and-changes">Fixes and Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id82">Android</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4-1">7.4.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pause-statement-changes">Pause Statement Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#say-statement-id-clause">Say Statement Id Clause</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id84">Live2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controller-blocklist">Controller Blocklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="#macos">macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id85">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id86">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id87">Other Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-4">7.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id89">Model-Based Renderer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id90">Live2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="#matrixcolor-and-blur">Matrixcolor and Blur</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-2-python-3-compatibility-mode">Python 2/Python 3 Compatibility Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgraded-libraries-and-platform-support">Upgraded Libraries and Platform Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id91">Web</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id92">Steam</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id93">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#depreciations-and-removals">Depreciations and Removals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-3-5">7.3.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id95">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id96">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-3-4">7.3.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id98">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id99">Other Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-3-3">7.3.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id101">Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="#platforms">Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id102">Other Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id103">Translations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-3-2">7.3.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id105">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id106">Translations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-3-1">7.3.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id108">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id109">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id110">Translations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-3-0">7.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#renpyweb">Renpyweb</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creator-defined-statements">Creator-Defined Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#screen-language-improvements">Screen Language Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-improvements">Text Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#android-and-ios-improvements">Android and iOS Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id112">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id113">Other Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id114">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-2-2">7.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-2-1">7.2.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ios-improvements">iOS Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id117">Other Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id118">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-1-4">7.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#menu-arguments">Menu Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temporary-say-attributes">Temporary Say Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id120">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#statements">Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id121">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#android-changes">Android Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id122">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-1-3">7.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-1-2">7.1.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id125">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id126">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id127">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#android-fixes">Android Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-1-1">7.1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#history-fix">History Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#android-improvements">Android Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id129">Other Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id130">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-1">7.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id132">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monologue-mode">Monologue Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#say-with-attribute-change">Say-With-Attribute Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updater-changes">Updater Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id133">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id134">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#renpy-7-0">7.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#layered-images">Layered Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dict-transitions">Dict Transitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id136">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id137">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id138">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#older-changelogs">Older Changelogs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog6.html">Changelog (Ren'Py 6.11 - 6.99)</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompatible.html">Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="sponsors.html">Ren'Py Development Sponsors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ren'Py Visual Novel Engine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Changelog (Ren'Py 7.x-)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/renpy/renpy/blob/master/sphinx/source/changelog.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="changelog-ren-py-7-x">
<h1>Changelog (Ren'Py 7.x-)<a class="headerlink" href="#changelog-ren-py-7-x" title="Link to this heading"></a></h1>
<p><em>There is also a list of</em> <a class="reference internal" href="incompatible.html"><span class="doc">incompatible changes</span></a></p>
<section id="renpy-7-8-4">
<span id="renpy-8-3-4"></span><span id="id1"></span><h2>8.3.4 / 7.8.4<a class="headerlink" href="#renpy-7-8-4" title="Link to this heading"></a></h2>
<section id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="Link to this heading"></a></h3>
<p>Python Builtins (like len) are now always available during string interpolation.</p>
<p>Animated presplash images now take precedence over static presplash images, matching
the documentation.</p>
<p>There have been a number of fixes related to dragging of viewports and drag displayables.</p>
<p>Movies are stopped when returning to a channel from a context.</p>
<p>An issue where autosave could hurt performance by causing interaction restarts has
been fixed.</p>
<p>Ren'Py now uses the previous window type when running the <code class="docutils literal notranslate"><span class="pre">nvl</span> <span class="pre">hide</span></code> statement.</p>
<p>A displayable that does not support keyboard focus will now be ignored during
keyboard focus computations.</p>
<p>An issue that could cause <a class="reference internal" href="screens.html#sl-input"><span class="std std-ref">Input</span></a> to not be masked properly when the contents
of the input was a space was fixed.</p>
<p>An issue preventing Android and iOS keyboards from being shown when the
window was empty has been fixed.</p>
<p>An issue that could cause the image cache to be managed incorrectly has been fixed.</p>
<p>An incorrect build prevented the web version of Ren'Py from working properly, on Ren'Py
7.8.3. This has been fixed.</p>
</section>
<section id="other-changes">
<h3>Other Changes<a class="headerlink" href="#other-changes" title="Link to this heading"></a></h3>
<p>Displayables rendered for imagemaps are offered (<a class="reference internal" href="config.html#var-config.screen_width"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.screen_width</span></code></a>,
<a class="reference internal" href="config.html#var-config.screen_height"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.screen_height</span></code></a>) pixels of space, rather than an arbitrary size. This
shouldn't matter for images, but makes non-image displayables behave more consistently.</p>
<p>The ATL &quot;update&quot; event, which was issued in rare circumstances, has been removed.</p>
<p>The new <a class="reference internal" href="other.html#renpy.get_statement_name" title="renpy.get_statement_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_statement_name()</span></code></a> function returns the name of the currently
executing Ren'Py statement, the same name given to <a class="reference internal" href="config.html#var-config.statement_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.statement_callbacks</span></code></a>.</p>
<p><a class="reference internal" href="sprites.html#SpriteManager" title="SpriteManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpriteManager</span></code></a> has been modernized, and now can be saved.</p>
</section>
</section>
<section id="renpy-7-8-3">
<span id="renpy-8-3-3"></span><span id="id2"></span><h2>8.3.3 / 7.8.3<a class="headerlink" href="#renpy-7-8-3" title="Link to this heading"></a></h2>
<section id="id3">
<h3>Fixes<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>Empty masked inputs no longer show a single mask glyph.</p>
<p>If a <a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Movie</span></code></a> has a transform as its <cite>image</cite> or <cite>show_image</cite>, that transform
is reset each time the movie is shown.</p>
<p>The <a class="reference internal" href="config.html#var-config.nvl_adv_transition"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.nvl_adv_transition</span></code></a> no longer forces the dialogue window to be hidden.</p>
<p>Screens that are used by another screen are now updated properly if the interaction restarts
before the screen is first rendered.</p>
<p>The <a class="reference internal" href="achievement.html#achievement.steam.get_session_ticket" title="achievement.steam.get_session_ticket"><code class="xref py py-func docutils literal notranslate"><span class="pre">achievement.steam.get_session_ticket()</span></code></a> function now works as documented.</p>
<p>Changes to audio filters take place immediately after reload.</p>
<p><a class="reference internal" href="config.html#var-config.skip_sounds"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.skip_sounds</span></code></a> now works as documented.</p>
<p><a class="reference internal" href="model.html#Model" title="Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> now creates meshes as described in the documentation when no textures are supplied.</p>
<p>The image attributes screen now quotes image and displayable names.</p>
<p>An issue with rollback not restarting music has been fixed.</p>
<p>Underlines and strikethroughs will not be broken when drawn using harfbuzz-based text shaping.</p>
<p>Ren'Py now ensures that IMEs are activated on the primary window when the game starts, rather than on
a presplash window.</p>
<p>Bars no longer lose the <code class="docutils literal notranslate"><span class="pre">selected_hover</span></code> prefix when adjusted using keyboard or game controller.</p>
<p>Rounding errors during pixel perfect text positioning have been fixed. These errors could cause text to
jump 1 pixel during dissolves.</p>
<p>The rarely-used <code class="docutils literal notranslate"><span class="pre">gl_anisotropic</span></code> transform property now works.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-keyboard_focus_insets"><code class="xref std std-propref docutils literal notranslate"><span class="pre">keyboard_focus_insets</span></code></a> property now works as documented.</p>
<p>A rounding issue that could cause <a class="reference internal" href="style_properties.html#style-property-bar_invert"><code class="xref std std-propref docutils literal notranslate"><span class="pre">bar_invert</span></code></a> to stop working has been fixed.</p>
<p>Ren'Py will render a displayable a second time if <a class="reference internal" href="style_properties.html#style-property-box_wrap"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_wrap</span></code></a> is True, to ensure that the displayable
is offered the correct amount of space when wrapped to a second line. In rare cases, this could change layout.</p>
<p>Controller events can now cause Ren'Py to focus a displayable with <cite>default_focus</cite> set. Previously, these
events weren't considered inputs by the focus system.</p>
<p>There have been a number of fixes to the way Ren'Py handles dragging a viewport filled with buttons.</p>
<p>A drag may now contain a draggable viewport, allowing a window to be more directly emulated.</p>
</section>
<section id="id4">
<h3>Other Changes<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<p>Android bundles now use install-time assets packs, rather than fast-follow packs, to ensure that all assets
are available when the game is run.</p>
<p>An <a class="reference internal" href="displayables.html#AlphaMask" title="AlphaMask"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlphaMask</span></code></a> will now cause mask transformations to restart each time it is shown.</p>
<p>Displayables zoomed down to 0 pixels big will no longer get focus.</p>
<p>The &quot;always&quot; option to _renpysteam.keyboard_mode is no longer supported. If given, the &quot;once&quot; mode is
used, requiring the player to explicitly request the Steam Deck keyboard when required.</p>
<p>The number of frames that Ren'Py passes through the rendering pipeline before switching to powersave
mode has been increased to 12, to ensure that frames make it through compositors in a timely manner.</p>
<p>Ren'Py locks the image cache less, which should prevent some frame drops when loading images.</p>
<p>Synchronized start of audio/video no longer occurs on movie channels unless explicitly requested.</p>
<p>When rolling back to a point where a looping <a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Movie</span></code></a> was showing, the looping movie will be played again
if it had been stopped.</p>
<p>A <a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Movie</span></code></a> will only stop movies that it has played, rather than any movie on the associated channel.</p>
<p>When <code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.set_audio_filter()</span></code> is called with <cite>immediate</cite> false, the filter will be applied when
the queued file is played, rather than at some indeterminate time in the future.</p>
<p>The <a class="reference internal" href="displayables.html#Frame" title="Frame"><code class="xref py py-class docutils literal notranslate"><span class="pre">Frame</span></code></a> displayable is no longer adjusted to be pixel perfect, preventing visual glitches.</p>
<p>When using text shaders to display text with outlines, Ren'Py will create pseudo-glyphs. These pseudo-glyphs
cover the start and end of each line, and are used to ensure the outlines will be shown.</p>
</section>
</section>
<section id="renpy-7-8-2">
<span id="renpy-8-3-2"></span><span id="id5"></span><h2>8.3.2 / 7.8.2<a class="headerlink" href="#renpy-7-8-2" title="Link to this heading"></a></h2>
<section id="id6">
<h3>Fixes<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<p>Fixed a build issue with 8.3.1 and 7.8.1 that prevented the Android version of Ren'Py from starting properly,
making games unplayable.</p>
</section>
</section>
<section id="renpy-7-8-1">
<span id="renpy-8-3-1"></span><span id="id7"></span><h2>8.3.1 / 7.8.1<a class="headerlink" href="#renpy-7-8-1" title="Link to this heading"></a></h2>
<section id="id8">
<h3>Fixes<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<p>Image keywords (<code class="docutils literal notranslate"><span class="pre">zorder</span></code>, <code class="docutils literal notranslate"><span class="pre">behind</span></code>, <code class="docutils literal notranslate"><span class="pre">at</span></code>, <code class="docutils literal notranslate"><span class="pre">onlayer</span></code>, and <code class="docutils literal notranslate"><span class="pre">transform</span></code>) may not occur in an expression,
like a list after <code class="docutils literal notranslate"><span class="pre">at</span></code>.</p>
<p>Using local shader variables by name in {shader} tags now works.</p>
<p>Textshaders now work with very large sizes and numbers of characters.</p>
<p>Lint avoids checking non-files as files.</p>
<p>The show_done character callback is now called and documented.</p>
<p>The web version of Ren'Py now saves persistent data when the screen is idle for .33 seconds.</p>
<p>The path to game.zip in a web build can now be configured by editing the generated index.html.</p>
<p>The web version of Ren'Py now defers calls to FS.syncfs, preventing errors that could be caused by files
being rapidly renamed.</p>
<p>By default, synchronized start of audio now only occurs on looping channels, like music channels. The default
can be changed on a channel-by-channel basis by supplying <cite>synchro_start</cite> to <a class="reference internal" href="audio.html#renpy.music.register_channel" title="renpy.music.register_channel"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.music.register_channel()</span></code></a>.</p>
</section>
<section id="id9">
<h3>Other Changes<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="other.html#renpy.stop_skipping" title="renpy.stop_skipping"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.stop_skipping()</span></code></a> cancels slow and fast skip.</p>
<p>Fast-skipping when slow-skipping (or vice versa) now cancels skipping.</p>
<p>On PC, Ren'Py will disable fullscreen when opening a URL.</p>
<p>Ren'Py now correctly clips displayables that are positioned at negative offsets to the parent, provided the
displayable does not exit the clip rectangle.</p>
<p><a class="reference internal" href="audio.html#AudioData" title="AudioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">AudioData</span></code></a> now explicitly supports video, and supports properties inside angles (like &lt;from 1.0 to 6.0&gt;).</p>
<p><a class="reference internal" href="config.html#var-config.font_transforms"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.font_transforms</span></code></a> is now documented. This allows you to define new font transforms for accessibility
purposes.</p>
<p>The multiple argument to Character is now supplied to <a class="reference internal" href="character_callbacks.html"><span class="doc">Character Callbacks</span></a>.</p>
</section>
</section>
<section id="renpy-7-8-0">
<span id="renpy-8-3-0"></span><span id="id10"></span><h2>8.3.0 / 7.8.0<a class="headerlink" href="#renpy-7-8-0" title="Link to this heading"></a></h2>
<section id="audio-filters">
<h3>Audio Filters<a class="headerlink" href="#audio-filters" title="Link to this heading"></a></h3>
<p>This release adds an <span class="xref std std-doc">audio filter system</span> to Ren'Py, providing a way of processing the sound coming out of
audio channels. The audio filter system is based on webaudio, and includes the following filters:</p>
<ul class="simple">
<li><p>Biquad, a way of implementing Lowpass, Highpass, Notch, Peaking, Lowshelf, Highshelf, and Allpass filters.</p></li>
<li><p>Comb, a delay line with filtering and feedback.</p></li>
<li><p>Delay, a delay line without the feedback.</p></li>
<li><p>Mix, a way of mixing two audio streams.</p></li>
<li><p>Sequence, a way of applying more than one filter to audio.</p></li>
<li><p>WetDry, a way of filtering a stream with a wet and dry control.</p></li>
<li><p>Reverb, a way of applying artificial reverb to the audio.</p></li>
</ul>
</section>
<section id="text-shaders">
<h3>Text Shaders<a class="headerlink" href="#text-shaders" title="Link to this heading"></a></h3>
<p>This release adds support for <a class="reference internal" href="textshaders.html"><span class="doc">text shaders</span></a>, which are OpenGL shaders that are applied to text, using information
that is provided by the rendering system. The big advantage of this is it now becomes possible to change the way
Ren'Py shows slow text to something else. For example, the dissolve text shader causes characters to dissolve in
from left to right, rather than showing all at once.</p>
<p>Text shaders are able to process the color of the text, including the alpha channel. Text shaders can also adjust
the position of the text - for example, the jitter shader causes text to bounce around.</p>
<p>Text shaders can be introduced using the {shader} text tag, using the <code class="xref std std-propref docutils literal notranslate"><span class="pre">textshader</span></code> style, or using
the <code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_textshader</span></code> variable. A text block should either use text shaders or not - mixing
is not supported.</p>
<p>Custom text shaders are supported using the <code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.register_text_shader()</span></code> function. These have access
to new uniforms and attributes that are appropriate to text display.</p>
</section>
<section id="other-shader-changes">
<h3>Other Shader Changes<a class="headerlink" href="#other-shader-changes" title="Link to this heading"></a></h3>
<p>Shaders part can now access <a class="reference internal" href="model.html#shader-local-variables"><span class="std std-ref">shader part local variables</span></a> to prevent conflicts between
variables used by different shader parts. While used mostly with  text shaders, shader part local variables are available
for all shaders to use.</p>
<p>The new <a class="reference internal" href="config.html#var-config.shader_part_filter"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.shader_part_filter</span></code></a> variable can be used to filter the shader parts that are used. This makes it
possible to implement preferences that turn on and off shader parts as required.</p>
<p>Two new <a class="reference internal" href="model.html#model-uniforms"><span class="std std-ref">model uniforms</span></a> have been added, <code class="docutils literal notranslate"><span class="pre">u_drawable_size</span></code> and <code class="docutils literal notranslate"><span class="pre">u_virtual_size</span></code>, making
it easier to project gl_Positions in shaders to coordinates that are used elsewhere in Ren'Py.</p>
</section>
<section id="visual-studio-code">
<h3>Visual Studio Code<a class="headerlink" href="#visual-studio-code" title="Link to this heading"></a></h3>
<p>The Ren'Py Language Visual Studio Code extension is now maintained by the Ren'Py project.
As part of this, if you have a Visual Studio Code installed, the launcher will prompt you
to install the new extension.</p>
</section>
<section id="launcher-changes">
<h3>Launcher Changes<a class="headerlink" href="#launcher-changes" title="Link to this heading"></a></h3>
<p>Under Navigate Script, the TODOs button now has a count of TODOs next to it.</p>
<p>Under Navigate Script, the files view now has a checkbox that allows a creator to
filter out translation files.</p>
</section>
<section id="window-statement-changes">
<h3>Window Statement Changes<a class="headerlink" href="#window-statement-changes" title="Link to this heading"></a></h3>
<p>There have been changes to the <code class="docutils literal notranslate"><span class="pre">window</span></code> statement:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">show</span></code> and <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">hide</span></code> no longer disable the automatic window
management that Ren'Py does. Instead, these statements will immediately
show or hide the window, without changing automatic window management.</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span> <span class="pre">False</span></code> statement will disable automatic window
management, and the new <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span> <span class="pre">True</span></code> statement will re-enable it.
(The existing <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span></code> statement will also work, but <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span> <span class="pre">True</span></code>
is preferred.)</p></li>
</ul>
<p>The intent behind this is to make <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">hide</span></code> more useful, as it can
be used to hide the window for effects without disabling automatic window
management.</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">show</span></code> occurs after <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">hide</span></code>, Ren'Py will look forward
to the next say statement to determine the type of the window to show. Previously,
it looked back to the last say statement.</p>
</section>
<section id="screenshots-and-paper-dolls">
<h3>Screenshots and Paper Dolls<a class="headerlink" href="#screenshots-and-paper-dolls" title="Link to this heading"></a></h3>
<p>Taking a screenshot now hides the notify screen, so multiple screenshots do not
leak the path to the previous one. This controlled by <a class="reference internal" href="config.html#var-config.pre_screenshot_actions"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.pre_screenshot_actions</span></code></a>.</p>
<p>The new <a class="reference internal" href="screenshot.html#renpy.render_to_file" title="renpy.render_to_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.render_to_file()</span></code></a> and <a class="reference internal" href="screenshot.html#renpy.render_to_surface" title="renpy.render_to_surface"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.render_to_surface()</span></code></a> functions make it possible to
capture displayables (including trees of displayables, like layered images) and save that to a file
or a pygame_sdl2 Surface.</p>
</section>
<section id="steam">
<h3>Steam<a class="headerlink" href="#steam" title="Link to this heading"></a></h3>
<p>Ren'Py's Steam support has been updated to use the latest version of the Steam DLL.</p>
<p>There is now support for the Steam Timeline, part of the Steam Game Recording system. This support is
controlled by the <a class="reference internal" href="achievement.html#var-config.automatic_steam_timeline"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.automatic_steam_timeline</span></code></a> variable. When true, the default, <a class="reference internal" href="store_variables.html#var-save_name"><code class="xref std std-var docutils literal notranslate"><span class="pre">save_name</span></code></a> is
mirrored to the steam Timeline, as is the menu/laying state. It's possible to add additional events to the timeline
using <code class="xref std std-var docutils literal notranslate"><span class="pre">achievement.steamapi.add_timeline_event</span></code>. (Remember to check that achievement.steam is not None before
calling this function.)</p>
<p>Wrapped methods of the Steamworks API are documented on the <a class="reference internal" href="achievement.html"><span class="doc">Achievements</span></a> page.</p>
</section>
<section id="android">
<h3>Android<a class="headerlink" href="#android" title="Link to this heading"></a></h3>
<p>Ren'Py now targets Android 15 (API level 35), though versions down to Android 5 may still work.</p>
</section>
<section id="features">
<h3>Features<a class="headerlink" href="#features" title="Link to this heading"></a></h3>
<p>The new anymod keysym prefix makes it possible to bind to a key while ignoring the meta, alt, and ctrl key
modifiers.</p>
<p>The translation identifier screen (accessed through shift+D) is now the translation info screen, and now includes
information about the line being executed. If a language is selected, the screen will also show the line being
translated, and the text of the say statement being translated.</p>
<p><a class="reference internal" href="cds.html"><span class="doc">Creator-Defined Statements</span></a> can now take an ATL block, which is supplied to the <cite>execute</cite> function as a keyword argument
giving an ATL transform. It's also possible to define a creator-defined statement that optionally takes
an ATL block, or a block of script statements.</p>
<p>It is now possible to supply <a class="reference internal" href="menus.html#menu-arguments"><span class="std std-ref">menu arguments</span></a> to <a class="reference internal" href="statement_equivalents.html#renpy.display_menu" title="renpy.display_menu"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.display_menu()</span></code></a>, and
the new <a class="reference internal" href="statement_equivalents.html#renpy.Choice" title="renpy.Choice"><code class="xref py py-class docutils literal notranslate"><span class="pre">renpy.Choice</span></code></a> class makes it possible to supply arguments to each item in the menu.</p>
<p>The layer that bubbles appear on is now controlled by <a class="reference internal" href="bubble.html#var-bubble.layer"><code class="xref std std-var docutils literal notranslate"><span class="pre">bubble.layer</span></code></a> and <code class="xref std std-var docutils literal notranslate"><span class="pre">bubble.retained_layer</span></code>.</p>
<p>Retained speech bubbles are now automatically cleared away when other say, menu, or call screen
statements are invoked. This is controlled by the <a class="reference internal" href="bubble.html#var-bubble.clear_retain_statements"><code class="xref std std-var docutils literal notranslate"><span class="pre">bubble.clear_retain_statements</span></code></a> variable.</p>
<p>The <a class="reference internal" href="other.html#renpy.get_ongoing_transition" title="renpy.get_ongoing_transition"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_ongoing_transition()</span></code></a> function has been added. This returns the transition that
is currently being applied to the top level or a layer.</p>
<p>The <a class="reference internal" href="config.html#var-config.translate_ignore_who"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.translate_ignore_who</span></code></a> variable makes it possible to ignore certain characters for the
purpose of translations.</p>
<p>The <a class="reference internal" href="screen_actions.html#Hide" title="Hide"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hide</span></code></a> action and <a class="reference internal" href="screen_python.html#renpy.hide_screen" title="renpy.hide_screen"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.hide_screen()</span></code></a> actions now take an <cite>immediately</cite>
keyword argument, which prevents 'on hide' handlers in the screens from running.</p>
<p><a class="reference internal" href="character_callbacks.html"><span class="doc">Character Callbacks</span></a> are now given information about the line of dialogue
and the segment of the line that is being shown.</p>
<p>The <a class="reference internal" href="label.html#renpy.call_in_new_context" title="renpy.call_in_new_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.call_in_new_context()</span></code></a> and <a class="reference internal" href="label.html#renpy.invoke_in_new_context" title="renpy.invoke_in_new_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.invoke_in_new_context()</span></code></a> functions
take an option <cite>_clear_layers</cite> keyword argument. When given, this controls which
layers will be cleared when changing to the new context.</p>
<p>The default volumes of mixers are now set by using the default statement with
<code class="docutils literal notranslate"><span class="pre">preferences.volume.&lt;mixer&gt;</span></code>. For example, the default volume of the music
mixer can be set with <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">preferences.volume.music</span> <span class="pre">=</span> <span class="pre">0.5</span></code>. This also
supports creator-defined mixers. Please see <a class="reference internal" href="preferences.html#mixer-defaults"><span class="std std-ref">Mixer Defaults</span></a> for more information.</p>
<p>The <a class="reference internal" href="screen_python.html#ui.adjustment" title="ui.adjustment"><code class="xref py py-class docutils literal notranslate"><span class="pre">ui.adjustment</span></code></a> class now takes a new <cite>raw_changed</cite> property, which
takes the adjustment and the new value, before it's clamped. This can be used
to perform actions when the adjustment scrolls out of range.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">SplineMatrix</span></code> class has been added, which makes it possible to
transform matrices in a non-linear way.</p>
<p>The Input displayable now takes an <cite>action</cite> property, which is an action that
runs when the user presses enter with the text input active.</p>
<p><a class="reference internal" href="text.html#ruby-text"><span class="std std-ref">Ruby/Furigana text</span></a> can now inherit its color from the parent text,
by setting <a class="reference internal" href="style_properties.html#style-property-color"><code class="xref std std-propref docutils literal notranslate"><span class="pre">color</span></code></a> to None.</p>
<p>Transform now supports the <a class="reference internal" href="transform_properties.html#transform-property-fps"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">fps</span></code></a> property, which quantizes time inside
the transform to a particular number of frames per second.</p>
<p>Where appropriate, Bar Values now take <cite>min</cite> and <cite>max</cite> parameters, which can be used to define a range that
is not zero-based.</p>
</section>
<section id="id11">
<h3>Other Changes<a class="headerlink" href="#id11" title="Link to this heading"></a></h3>
<p>The notification screen is now hidden before a screenshot is taken.</p>
<p>The <a class="reference internal" href="transform_properties.html#transform-property-crop"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">crop</span></code></a> transform property now always takes the size of the crop box,
even if bigger than what is being cropped.</p>
<p>The hspace and vspace text tags now respect window scaling.</p>
<p>Lint will now report obsolete image manipulators.</p>
<p>The <a class="reference internal" href="file_python.html#renpy.open_file" title="renpy.open_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.open_file()</span></code></a> function now returns an io.BufferedReader object when
<cite>encoding</cite> is None, allowing the .peek method to be used.</p>
<p>Ren'Py will load .rpe.py files from <code class="xref std std-var docutils literal notranslate"><span class="pre">config.renpy_base</span></code> directory and the
project's game directory, and execute the file before the game starts.</p>
<p>Ren'Py will now load .rpe files from the <code class="xref std std-var docutils literal notranslate"><span class="pre">config.renpy_base</span></code> directory as well as the
project's game directory.</p>
<p>Files ending with .rpe or .rpe.py are excluded from the build process.</p>
<p>Images can now be oversampled at the directory level.</p>
<p>ATL polar coordinates now support the radius being a negative number.</p>
<p>The displayable inspector (Shift+Alt+I) now shows a displayable's id if it has one.</p>
<p>Displayables now have an id field, that contains the id given in screen language.
The <a class="reference internal" href="config.html#var-config.clear_log"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.clear_log</span></code></a> variable has been added, which controls whether the
dialogue log (<a class="reference internal" href="config.html#var-config.log"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.log</span></code></a>) is cleared each time Ren'Py starts.</p>
<p>Munging of names beginning with __ now takes place inside strings, to allow
munged names to be used inside substitutions. This should be fairly transparent,
but for a discussion of the implications see <a class="reference internal" href="incompatible.html#munge-8-3-0"><span class="std std-ref">incompatible changes</span></a></p>
<p>The <a class="reference internal" href="fetch.html#renpy.fetch" title="renpy.fetch"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.fetch()</span></code></a> function can now take user-specified headers that
are supplied as part of the HTTP/HTTPS request.</p>
<p>Bar Values that set values (like <a class="reference internal" href="screen_actions.html#DictValue" title="DictValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">DictValue</span></code></a>, <a class="reference internal" href="screen_actions.html#FieldValue" title="FieldValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">FieldValue</span></code></a>,
<a class="reference internal" href="screen_actions.html#VariableValue" title="VariableValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">VariableValue</span></code></a>, <a class="reference internal" href="screen_actions.html#ScreenVariableValue" title="ScreenVariableValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScreenVariableValue</span></code></a>, and <a class="reference internal" href="screen_actions.html#LocalVariableValue" title="LocalVariableValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalVariableValue</span></code></a>)
now take a <cite>min</cite> and <cite>max</cite> parameters, which can be used to directly set the bar's
endpoints.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-keyboard_focus_insets"><code class="xref std std-propref docutils literal notranslate"><span class="pre">keyboard_focus_insets</span></code></a> style property makes it possible to
have keyboard focus work with overlapping buttons, by artificially reducing
the size of the buttons to remove the overlap, when determining keyboard focus.</p>
<p>The <cite>synchro_start</cite> option (documented as part of <a class="reference internal" href="audio.html#renpy.music.play" title="renpy.music.play"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.music.play()</span></code></a>) is
now True by default in that function, and in the <code class="docutils literal notranslate"><span class="pre">play</span></code> statement. The implementation of
<a class="reference internal" href="audio.html#synchro-start"><span class="std std-ref">synchro start</span></a> has changed to make understanding it easier, while retaining the same
behavior in most cases.</p>
<p>The web version of Ren'Py now supports loading video from origins other than the origin of
the game, if the video origin allows for it.</p>
</section>
</section>
<section id="renpy-7-7-3">
<span id="renpy-8-2-3"></span><span id="id12"></span><h2>8.2.3 / 7.7.3<a class="headerlink" href="#renpy-7-7-3" title="Link to this heading"></a></h2>
<p>This release fixes an issue that prevented 8.2.2 and 7.7.2 from being built properly.</p>
</section>
<section id="renpy-7-7-2">
<span id="renpy-8-2-2"></span><span id="id13"></span><h2>8.2.2 / 7.7.2<a class="headerlink" href="#renpy-7-7-2" title="Link to this heading"></a></h2>
<section id="accessibility">
<h3>Accessibility<a class="headerlink" href="#accessibility" title="Link to this heading"></a></h3>
<p>The accessibility menu can be accessed on touch screens by making a large ⋀ gesture. That is, press, move a large
distance up and right, move a large distance down and right, and then release.</p>
<p>There is a limited amount of self-voicing support for Android and iOS, largely limited by the nature of
touch-screen focus. Dialogue will be read out, as will interface elements that become focused, but right now
it's hard to focus an element without activating it.</p>
</section>
<section id="nvl-mode-and-window">
<h3>NVL-Mode and Window<a class="headerlink" href="#nvl-mode-and-window" title="Link to this heading"></a></h3>
<p>The interaction of <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span></code> and <code class="docutils literal notranslate"><span class="pre">nvl</span></code> mode, especially
<a class="reference internal" href="config.html#var-config.nvl_adv_transition"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.nvl_adv_transition</span></code></a> and <code class="xref std std-var docutils literal notranslate"><span class="pre">config.adl_nvl_transition</span></code>,
has been improved. The major change is that the latter transitions will
now only occur if the window has not been shown or hidden, preventing
double interactions from occuring.</p>
<p>The (rarely used) <code class="docutils literal notranslate"><span class="pre">nvl</span> <span class="pre">hide</span></code> and <code class="docutils literal notranslate"><span class="pre">nvl</span> <span class="pre">show</span></code> statements now set the
flag used by <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span></code>, preventing the window from being shown
wince in a row by these statements.</p>
</section>
<section id="id14">
<h3>Fixes<a class="headerlink" href="#id14" title="Link to this heading"></a></h3>
<p>Two issues that could cause the Android version of Ren'Py to lock up
if the window lost focus have been fixed.</p>
<p>The <cite>force</cite> parameter to <a class="reference internal" href="self_voicing.html#renpy.alt" title="renpy.alt"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.alt()</span></code></a> now works as documented.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-xfill"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xfill</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-yfill"><code class="xref std std-propref docutils literal notranslate"><span class="pre">yfill</span></code></a> properties can no longer
cause a window to shrink.</p>
<p>An issue where fonts with an incorrect line height would not work
with the harfbuzz text shaper has been fixed.</p>
<p>List slicing is now allowed inside string interpolation. For example,
<code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">first</span> <span class="pre">ten</span> <span class="pre">are:</span> <span class="pre">[long_list[:10]]</span></code> will now work.</p>
<p>Ren'Py will now generate translations for strings in _ren.py files.</p>
<p>Ren'Py now checks that achievement names are strings.</p>
<p>An issue with weakref pickling on Ren'Py 7 has been fixed.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">rpy</span></code> statement is now considered to be always reachable.</p>
<p>The launcher no longer plays a stream of silence while it is running.</p>
<p>When building a small games as an Android App Bundle, fast-forward packages were
incorrectly included. This has been fixed.</p>
</section>
<section id="other">
<h3>Other<a class="headerlink" href="#other" title="Link to this heading"></a></h3>
<p>The Traditional and Simplified Chinese translations have been updated.</p>
<p>Hovered handlers now run when a displayable is assigned thew default
focus.</p>
<p>The <cite>attribute_filter</cite> callback of <a class="reference internal" href="live2d.html#Live2D" title="Live2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">Live2D</span></code></a> is now always
run.</p>
<p>The sound channel now fades out audio over the course of 16ms,
just like the music channel does.</p>
<p>It is possible to have two <a class="reference internal" href="live2d.html#Live2D" title="Live2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">Live2D</span></code></a> displayables using the
same model but different <cite>default_fade</cite> times.</p>
<p>The new <a class="reference internal" href="config.html#var-config.log_events"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.log_events</span></code></a> variable controls whether Ren'Py
logs pygame-style events, for debugging.</p>
<p>The new <a class="reference internal" href="config.html#var-config.python_exit_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.python_exit_callbacks</span></code></a> lets you specify a list of
callbacks that can be used to de-initialize Python modules just before
Ren'Py shuts down.</p>
<p>The <a class="reference internal" href="config.html#var-config.raise_image_exceptions"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.raise_image_exceptions</span></code></a> variable has been documented. It
controls if Ren'Py will raise an exception when an image name is unknown, or
display a warning instead.</p>
<p>The <a class="reference internal" href="config.html#var-config.raise_image_load_exceptions"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.raise_image_load_exceptions</span></code></a> variable controls whether Ren'Py
raises an exception when an image fails to load, or displays a warning instead.</p>
<p>The <a class="reference internal" href="config.html#var-config.raise_image_load_exceptions"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.raise_image_load_exceptions</span></code></a> and <a class="reference internal" href="config.html#var-config.raise_image_exceptions"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.raise_image_exceptions</span></code></a>
variables are set to False when the player ignores an error.</p>
<p>When <code class="xref std std-var docutils literal notranslate"><span class="pre">config.log_event</span></code> is true or RENPY_LOG_EVENTS is in the
environment, Ren'Py will log most pygame-level events that happen.</p>
<p>When filtering text tags (with <a class="reference internal" href="text.html#renpy.filter_text_tags" title="renpy.filter_text_tags"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.filter_text_tags()</span></code></a> or places that
call it), the axis tag is now handled correctly.</p>
<p>The statement callback system (<a class="reference internal" href="config.html#var-config.statement_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.statement_callbacks</span></code></a>) has been
documented.</p>
<p>The modes system (renpy.mode, config.mode_callbacks, etc) have become
undocumented. This was likely not used by any game, and has been replaced
by <a class="reference internal" href="config.html#var-config.statement_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.statement_callbacks</span></code></a>. Mode callbacks still work, but
shouldn't be used by new games.</p>
</section>
</section>
<section id="renpy-7-7-1">
<span id="renpy-8-2-1"></span><span id="id15"></span><h2>8.2.1 / 7.7.1<a class="headerlink" href="#renpy-7-7-1" title="Link to this heading"></a></h2>
<section id="text">
<h3>Text<a class="headerlink" href="#text" title="Link to this heading"></a></h3>
<p>The Harfbuzz text shaper now reads more information using Harfbuzz. This
will generally yield the same results, with small exceptions, such as
the underline being in a slightly different place.</p>
<p>Vertical text handling under the harfbuzz text shaper has been fixed to
properly place the text. Porting those changes to the freetype shaper
is not possible, so the freetype shaper no longer supports vertical text.</p>
<p>See <a class="reference internal" href="style_properties.html#style-property-vertical"><code class="xref std std-propref docutils literal notranslate"><span class="pre">vertical</span></code></a> for more information.</p>
</section>
<section id="updater">
<h3>Updater<a class="headerlink" href="#updater" title="Link to this heading"></a></h3>
<p>An issue with the updater that caused it to fail to sign updates when
run on a Windows system has been fixed.</p>
<p>The updater now forces the webserver to use the identity encoding, which
improves compatibility with some web servers. The updater also times out
if the server does not respond to a request within 10 seconds.</p>
</section>
<section id="live2d">
<h3>Live2D<a class="headerlink" href="#live2d" title="Link to this heading"></a></h3>
<p>Ren'Py will now automatically guess the size of the live2d textures,
and adjust the maximum texture size the live2d library uses to match
it.</p>
<p>Ren'Py will avoid many render-to-texture operations when showing
Live2D.</p>
</section>
<section id="fetch">
<h3>Fetch<a class="headerlink" href="#fetch" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="fetch.html#renpy.fetch" title="renpy.fetch"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.fetch()</span></code></a> function now works during the image phase and
during an interaction, as well as outside an interaction.</p>
<p>The <a class="reference internal" href="fetch.html#renpy.fetch" title="renpy.fetch"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.fetch()</span></code></a> function now takes a <cite>params</cite> argument, which
specifies parameters that will be added to the URL.</p>
</section>
<section id="id16">
<h3>Other Changes<a class="headerlink" href="#id16" title="Link to this heading"></a></h3>
<p>When a textbox is replaced (using {w}), a <code class="docutils literal notranslate"><span class="pre">replaced</span></code> event is generated,
rather than hide.</p>
<p>Adding a new displayable with <cite>default_focus</cite> set will cause the
displayable to be focused, if the keyboard or gamepad is used, even
if the interaction does not restart.</p>
<p>It's now possible to build an iOS app from the command line without
installing rapt (Android support).</p>
<p>The renamed and newly-documented <a class="reference internal" href="config.html#var-config.max_texture_size"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.max_texture_size</span></code></a> variable
make it possible to set the maximum texture size used by Ren'Py. This isn't
useful for 2D textures, but may make sense for textures used by <a class="reference internal" href="model.html#Model" title="Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>.</p>
<p><a class="reference internal" href="template_projects.html"><span class="doc">Template Projects</span></a> are no longer required to have the same files
as a standard Ren'Py project.</p>
</section>
<section id="other-fixes">
<h3>Other Fixes<a class="headerlink" href="#other-fixes" title="Link to this heading"></a></h3>
<p>An issue that could cause an Android device to reach a black screen when
resuming from pause has been fixed.</p>
<p>Ren'Py will now run from a directory with : in the name, on Linux and other
platforms where that's legal.</p>
<p>The use of <a class="reference internal" href="config.html#var-config.layer_transforms"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.layer_transforms</span></code></a> will no longer reset the timelines
of transforms set with <code class="docutils literal notranslate"><span class="pre">camera</span></code> or <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">layer</span></code> <code class="docutils literal notranslate"><span class="pre">at</span></code>.</p>
<p>Lint no longer crashes when the a LayeredImage use a variable that isn't set.</p>
<p>A crash when <a class="reference internal" href="transform_properties.html#transform-property-blur"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">blur</span></code></a> was less than 0 has been prevented, by clamping
the blur value.</p>
<p>An issue that caused drags to block saving has been fixed.</p>
</section>
</section>
<section id="renpy-7-7-0">
<span id="renpy-8-2-0"></span><span id="id17"></span><h2>8.2.0 / 7.7.0<a class="headerlink" href="#renpy-7-7-0" title="Link to this heading"></a></h2>
<section id="harfbuzz-integration">
<h3>Harfbuzz Integration<a class="headerlink" href="#harfbuzz-integration" title="Link to this heading"></a></h3>
<p>Ren'Py now uses the Harfbuzz library to perform text shaping. On all
versions of Ren'Py, Harfbuzz is used to supply additional information
to the freetype authinter.</p>
<p>On Ren'Py 8, Harfbuzz is also used to shape text, reordering and selecting
glyphs based on the context they're in and the language of the text provided.
This is required to support scripts that require complex text shaping,
such as Brahmic/Indic scripts. (You'll need to provide a font that
supports the appropriate language.)</p>
<p>The new <a class="reference internal" href="style_properties.html#style-property-shaper"><code class="xref std std-propref docutils literal notranslate"><span class="pre">shaper</span></code></a> style property controls the shaper used to text,
for compatibility with older versions of Ren'Py.</p>
</section>
<section id="emoji-related-text-improvements">
<h3>Emoji-Related Text Improvements<a class="headerlink" href="#emoji-related-text-improvements" title="Link to this heading"></a></h3>
<p>Next, Ren'Py has gained the ability to render fonts that use the COLRv0 standard
to provide color glyphs. Ren'Py ships with a font that contains the Twiemoji images,
which covers a majority of the Emoji in use (but not all of them).</p>
<p>Ren'Py will automatically switch to the Emoji font when it encounters Emoji
characters in text. The supported characters are those in the
<a class="reference external" href="https://unicode.org/Public/emoji/15.1/emoji-test.txt">Emoji 15.1</a> standard.</p>
<p>Ren'Py 8 with Harfbuzz shaping is required to render joining sequences of Emoji,
including things like gender and skin-tone modifiers, so you'll need Ren'Py 8
to have those work. This switching occurs when a font tag is not being
used.</p>
<p>The new <a class="reference internal" href="style_properties.html#style-property-emoji_font"><code class="xref std std-propref docutils literal notranslate"><span class="pre">emoji_font</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-prefer_emoji"><code class="xref std std-propref docutils literal notranslate"><span class="pre">prefer_emoji</span></code></a> style properties control
Emoji font selection.</p>
<p>Fundamentally, you can include Emoji into your game by typing it into your
script as character dialogue. For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="s2">&quot;I&#39;m feeling 😃 today.&quot;</span>
</pre></div>
</div>
</section>
<section id="variable-fonts">
<h3>Variable Fonts<a class="headerlink" href="#variable-fonts" title="Link to this heading"></a></h3>
<p>Ren'Py now supports OpenType variable fonts. These are fonts that use
one or more axes of variability to change how the font is rendered. For
example, a font may have the &quot;weight&quot; axis, which controls how bold the
font is, and the &quot;width&quot; axis, which controls how wide the font is.</p>
<p>Variable font support required Ren'Py 8 and the harfbuzz shaper to work.</p>
<p>To support variable fonts, Ren'Py has added the <a class="reference internal" href="style_properties.html#style-property-instance"><code class="xref std std-propref docutils literal notranslate"><span class="pre">instance</span></code></a> and
<a class="reference internal" href="style_properties.html#style-property-axis"><code class="xref std std-propref docutils literal notranslate"><span class="pre">axis</span></code></a> style properties, and the <a class="reference internal" href="text.html#text-tag-instance"><code class="xref std std-tt docutils literal notranslate"><span class="pre">instance</span></code></a> and <a class="reference internal" href="text.html#text-tag-axis"><code class="xref std std-tt docutils literal notranslate"><span class="pre">axis</span></code></a>
text tags, as well as the <a class="reference internal" href="text.html#renpy.variable_font_info" title="renpy.variable_font_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.variable_font_info()</span></code></a> function.</p>
<p>See the <a class="reference internal" href="text.html#variable-fonts"><span class="std std-ref">variable fonts documentation</span></a> for more information.</p>
</section>
<section id="font-hinting">
<h3>Font Hinting<a class="headerlink" href="#font-hinting" title="Link to this heading"></a></h3>
<p>There is a new <a class="reference internal" href="style_properties.html#style-property-hinting"><code class="xref std std-propref docutils literal notranslate"><span class="pre">hinting</span></code></a> mode &quot;auto-light&quot;, that performs autohinting
in the vertical but not horizontal direction.</p>
<p>The new <a class="reference internal" href="config.html#var-config.font_hinting"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.font_hinting</span></code></a> variable makes it possible to enable
font hinting on a per-font basis, while the style system can be used to
control hinting per-use. For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">font_hinting</span><span class="p">[</span><span class="s2">&quot;MyFont.tff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bytecode&quot;</span>
</pre></div>
</div>
<p>enables bytecode hinting for MyFont.ttf.</p>
</section>
<section id="text-interpolation-improvements">
<h3>Text Interpolation Improvements<a class="headerlink" href="#text-interpolation-improvements" title="Link to this heading"></a></h3>
<p>Interpolations in strings are now treated as Python expressions, rather than
simple fields. While not identical, this concept will feel familiar to those
that have worked with Python f-strings. This allows for some logic to be
incorporated directly:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">exp</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="k">label</span> <span class="n">start</span><span class="p">:</span>
    <span class="n">e</span> <span class="s2">&quot;I am level [exp // 225]!&quot;</span> <span class="c1"># Will show &quot;I am level 4!&quot;</span>
</pre></div>
</div>
<p>When a variable is interpolated into a string, and the interpolation namespace
exists, that namespace will be searched for the values to interpolate. For
example,</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;Not shown.&quot;</span>
<span class="k">define</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;Shown.&quot;</span>

<span class="k">label</span> <span class="n">start</span><span class="p">:</span>
    <span class="n">e</span> <span class="s2">&quot;[t]&quot;</span> <span class="c1"># Will show &quot;Shown.&quot;</span>
</pre></div>
</div>
</section>
<section id="speech-bubble-improvements">
<h3>Speech Bubble Improvements<a class="headerlink" href="#speech-bubble-improvements" title="Link to this heading"></a></h3>
<p>The speech bubble feature that was added in Ren'Py 8.1 now has a new way to
retain speech bubbles, so that the bubbles pop up one at a time, and
remain displayed on the screen until explicitly cleared, similar to
dialogue in motion comics. See the <a class="reference internal" href="bubble.html#retained-bubbles"><span class="std std-ref">speech bubble documentation</span></a>
for more information.</p>
<p>The new <a class="reference internal" href="bubble.html#var-bubble.properties_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">bubble.properties_callback</span></code></a> variable can be given a function
that filter the list of bubble property names based on the image tag
that's speaking. This makes it possible to have bubbles that are
specific to some but not all characters.</p>
<p>Several changes work together to make it possible to apply a transform that
animates speech bubble show and hide. An example of this is included in the
<a class="reference internal" href="bubble.html#bubble-screen"><span class="std std-ref">Bubble Screen</span></a> documentation.</p>
</section>
<section id="position-types-and-atl-interpolation">
<h3>Position types and ATL interpolation<a class="headerlink" href="#position-types-and-atl-interpolation" title="Link to this heading"></a></h3>
<p>ATL interpolations, which are statements such as <code class="docutils literal notranslate"><span class="pre">linear</span> <span class="pre">1.</span> <span class="pre">xpos</span> <span class="pre">.6</span></code> (and
have nothing to do with text interpolation), now accept interpolation between
positions of different types. This allows the following, which was previously
documented against and didn't work:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">transform</span> <span class="n">mixed</span><span class="p">:</span>
    <span class="na">xycenter</span> <span class="p">(</span><span class="mi">520</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
    <span class="n">easein</span> <span class="mf">3.</span> <span class="na">align</span> <span class="p">(</span><span class="mf">.0</span><span class="p">,</span> <span class="mf">.0</span><span class="p">)</span>

<span class="k">label</span> <span class="n">muxed</span><span class="p">:</span>
    <span class="k">show</span> <span class="n">a</span> <span class="k">at</span> <span class="n">Transform</span><span class="p">(</span><span class="na">pos</span><span class="o">=</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.6</span><span class="p">))</span>

    <span class="s2">&quot;...&quot;</span>

    <span class="k">show</span> <span class="n">a</span> <span class="k">at</span> <span class="n">Transform</span><span class="p">(</span><span class="na">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">520</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
</pre></div>
</div>
<p>As part of the implementation of this new feature, there is a new
<a class="reference internal" href="style_properties.html#term-position"><span class="xref std std-term">position</span></a> type, called <a class="reference internal" href="style_properties.html#position" title="position"><code class="xref py py-class docutils literal notranslate"><span class="pre">position</span></code></a>, which enables you to provide
both a absolute and a relative component to place or size a displayable. For
example, you can now tell something to be <code class="docutils literal notranslate"><span class="pre">xsize</span> <span class="pre">position(-10,</span> <span class="pre">.5)</span></code>, and the
displayable will make the displayable take half of the horizontal space offered
to it, minus 10 pixels.</p>
</section>
<section id="developer-tools">
<h3>Developer Tools<a class="headerlink" href="#developer-tools" title="Link to this heading"></a></h3>
<p>There is a new &quot;Skip splashscreen&quot; option in Options section
of the launcher preferences. When checked, this will cause
games launched to skip the splashscreen label when starting.</p>
<p>A new 'Show Filename and Line' option is available from the
shift+D developer menu. When enabled, this will cause the
filename and line number of the current statement to be
displayed. Clicking on the filename and line will open
the file in the default text editor, at the given line,
if possible.</p>
</section>
<section id="data-actions">
<h3>Data Actions<a class="headerlink" href="#data-actions" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="screen_actions.html#data-actions"><span class="std std-ref">Data Actions</span></a> are now presented and explained in a more
condensed manner. These actions have been reimplemented using a data
manager that describes what to do with the data (Set-, Toggle-, Cycle-, Increment-)
and a data accessor that describes the kind of data to change (-Variable, -ScreenVariable,  -LocalVariable, -Field, -Dict).</p>
<p>There are two new managers:</p>
<ul class="simple">
<li><p>The Cycle- actions (CycleVariable, CycleLocalVariable, CycleField...)
take a list of values and each time the action is run (i.e each time
the button is clicked), the target value is set to be the next element in
the list.</p></li>
<li><p>The Increment- actions (IncrementVariable, IncrementDict, IncrementField...)
add a certain value (by default, 1) to the target value. These can also be used
to decrement the field.</p></li>
</ul>
<p>The <a class="reference internal" href="screen_actions.html#LocalVariableValue" title="LocalVariableValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalVariableValue</span></code></a> bar value and <a class="reference internal" href="screen_actions.html#LocalVariableInputValue" title="LocalVariableInputValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalVariableInputValue</span></code></a> input
values have been added, for completeness.</p>
</section>
<section id="https-http-fetch">
<h3>HTTPS/HTTP Fetch<a class="headerlink" href="#https-http-fetch" title="Link to this heading"></a></h3>
<p>Ren'Py now has better support for <a class="reference internal" href="fetch.html"><span class="doc">HTTPS/HTTP Fetch</span></a>, using the new renpy.fetch
function. While the Requests library still remains supported on Desktop and Mobile,
(it's used internally by Ren'Py), the new fetch function:</p>
<ul class="simple">
<li><p>Support GET, POST, and PUT requests for HTTPS and HTTP URLs.</p></li>
<li><p>Supports fetching from the web platform, subject to the rules of the web platform.</p></li>
<li><p>Will not block the game while downloading.</p></li>
<li><p>Can take data as either bytes or objects that be encoded to JSON.</p></li>
<li><p>Can return data as bytes, as string, or objects decoded from JSON.</p></li>
</ul>
</section>
<section id="id18">
<h3>Accessibility<a class="headerlink" href="#id18" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="screens.html#screen-property-group_alt"><code class="xref std std-scpref docutils literal notranslate"><span class="pre">group_alt</span></code></a> property available on screen language
displayables allows the creator to specify text that is spoken the first
time one of a group of related displayables is spoken.</p>
<p>The new <a class="reference internal" href="screens.html#screen-property-extra_alt"><code class="xref std std-scpref docutils literal notranslate"><span class="pre">extra_alt</span></code></a> property available on screen language
displayables allows the creator to specify text that is spoken when the
'?' key is pressed, to provide additional information about the displayable.</p>
<p>Both of these properties are inherited by the children of the displayable,
unless they are overridden by a more specific value in the child.</p>
<p>The new <a class="reference internal" href="self_voicing.html#renpy.alt" title="renpy.alt"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.alt()</span></code></a> function can be used to speak text using
the self-voicing system.</p>
</section>
<section id="future-in-python">
<h3>__future__ in python<a class="headerlink" href="#future-in-python" title="Link to this heading"></a></h3>
<p>Ren'Py now allows creators to pass
<a class="reference external" href="https://docs.python.org/reference/simple_stmts.html#future">__future__ compiler directives</a>
for Python code run in Ren'Py. This is done using the <code class="docutils literal notranslate"><span class="pre">rpy</span> <span class="pre">python</span> <span class="pre">xxx</span></code>
statement at the top of the .rpy file(s) on which you want them to apply,
where <code class="docutils literal notranslate"><span class="pre">xxx</span></code> is the name of the future feature. For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">rpy</span> <span class="k">python</span> <span class="n">annotations</span>
</pre></div>
</div>
</section>
<section id="translation-improvements">
<h3>Translation Improvements<a class="headerlink" href="#translation-improvements" title="Link to this heading"></a></h3>
<p>For most dialogue, Ren'Py will now create one third the number of objects
to support translations. This helps reduce startup time and reduce memory
usage.</p>
<p>In addition, Ren'Py can now defer loading translations until a translation
is  needed. This can improve startup time when the game is large and
many languages are present.</p>
<p>Deferred translation loading is disabled by default. The documentation on <a class="reference internal" href="translation.html#deferred-translations"><span class="std std-ref">Deferred Translation Loading</span></a>
explains how to enable it and caveats that apply.</p>
</section>
<section id="scene-show-and-hide-transition">
<h3>Scene, Show, and Hide Transition<a class="headerlink" href="#scene-show-and-hide-transition" title="Link to this heading"></a></h3>
<p>The new scene, show, and hide transitions makes it possible to
automatically perform a transition after sequences of scene, show,
and hide statements that are not followed by a with statement, or
a window show transition.</p>
<p>This is controlled by the new <a class="reference internal" href="store_variables.html#var-_scene_show_hide_transition"><code class="xref std std-var docutils literal notranslate"><span class="pre">_scene_show_hide_transition</span></code></a> variable,
and documented at <a class="reference internal" href="transitions.html#scene-show-hide-transition"><span class="std std-ref">Automatic Transitions after Scene, Show, and Hide</span></a>.</p>
</section>
<section id="id19">
<h3>Android<a class="headerlink" href="#id19" title="Link to this heading"></a></h3>
<p>The Android build system has been updated to use recent versions of Gradle
and the Android Gradle Plugin. This means that Ren'Py now supports and
requires Java 21, the most recent long-term support version of Java.</p>
<p>A series of changes have been made to Ren'Py to allow games larger than
2GB to be be downloaded to a Android or iOS device. How to do this is
documented at <a class="reference internal" href="downloader.html"><span class="doc">Downloader for Large Games on Mobile</span></a>. It fundamentally involves creating two
games - a very short one that is downloaded to the device, and a larger
game that is downloaded to the device when the short game is run.</p>
<p>The user-visible version on android is now taken from <code class="xref std std-var docutils literal notranslate"><span class="pre">build.version</span></code>, which
defaults to <a class="reference internal" href="config.html#var-config.version"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.version</span></code></a>.</p>
<p>Assets you place in the <code class="file docutils literal notranslate"><span class="pre">rapt/prototype</span></code> project will be placed into
the built project.</p>
<p>The files produced by the Android build process will include the version
number in their name, making it easier to distinguish between builds.</p>
</section>
<section id="web">
<h3>Web<a class="headerlink" href="#web" title="Link to this heading"></a></h3>
<p>The way Ren'Py goes fullscreen on the web platform has been changed, to
improve compatibility with both desktop and mobile web browsers.</p>
<p>Ren'Py now covers the game with a transparent div at start, to help the
browser detect a click and allow audio to be played. It will proxy the
click to the game and hide the div once this detection is finished.</p>
<p>The <a class="reference internal" href="fetch.html"><span class="doc">HTTPS/HTTP Fetch</span></a> function is now supported on the web platform, allowing
web pages to make HTTPS and HTTP requests, subject to the same rules (CORS)
as other web pages.</p>
</section>
<section id="id20">
<h3>Updater<a class="headerlink" href="#id20" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="updater.html"><span class="doc">Ren'Py Updater</span></a> has been rewritten to use a new
format, and is implemented entirely in Ren'Py. That makes it compatible
with more web hosts, and for the first time it support https.</p>
<p>The updater will create a signing key when it is first run, and will sign
generated updates with that key. When the updater is run, it will check
that the updates are run with that key. This means it is no longer extra
work to produce a secure update.</p>
</section>
<section id="translations">
<h3>Translations<a class="headerlink" href="#translations" title="Link to this heading"></a></h3>
<p>There is a new Danish translation of the launcher and The Question.</p>
<p>Many other translations have been updated.</p>
</section>
<section id="id21">
<h3>Features<a class="headerlink" href="#id21" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="config.html#var-config.layer_transforms"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.layer_transforms</span></code></a> variable allows you to supply
a list of transforms that will be applied to each layer, or to the
combination of all layers in <a class="reference internal" href="config.html#var-config.layers"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.layers</span></code></a>.</p>
<p>The new <a class="reference internal" href="screen_actions.html#Continue" title="Continue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Continue</span></code></a> action will load the last save (by default,
including autosaves and quick saves). This is intended for use from the
main menu to continue the game, especially a linear visual novel.</p>
<p>The new <a class="reference internal" href="style_properties.html#style-property-ruby_line_leading"><code class="xref std std-propref docutils literal notranslate"><span class="pre">ruby_line_leading</span></code></a> style property controls additional
line leading on lines that contain ruby text (furigana). This will generally
use less space than the existing <a class="reference internal" href="style_properties.html#style-property-line_leading"><code class="xref std std-propref docutils literal notranslate"><span class="pre">line_leading</span></code></a> property.</p>
<p>It is now possible to reset the preferences to their default values
by calling <a class="reference internal" href="screen_actions.html#Preference" title="Preference"><code class="xref py py-func docutils literal notranslate"><span class="pre">Preference()</span></code></a> with &quot;reset&quot; as the argument.</p>
<p>The new <a class="reference internal" href="save_load_rollback.html#defaultdict" title="defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> class, which exists in the default Ren'Py
namespaces, is similar to Python's collections.defaultdict, while
participating in rollback.</p>
<p>The new <a class="reference internal" href="save_load_rollback.html#MultiRevertable" title="MultiRevertable"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiRevertable</span></code></a> class makes it possible to define a class
that is both a revertable object and a revertable data structure (like
list, set, or dict.)</p>
<p>The new <a class="reference internal" href="config.html#var-config.pass_controller_events"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.pass_controller_events</span></code></a> and newly-documented
<a class="reference internal" href="config.html#var-config.pass_joystick_events"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.pass_joystick_events</span></code></a> variables allow the game to access
controller and joystick events directly.</p>
<p>The new <code class="xref std std-var docutils literal notranslate"><span class="pre">renpy.get_screen_variable</span></code> and <code class="xref std std-var docutils literal notranslate"><span class="pre">renpy.set_screen_variable</span></code>
functions make it possible to access screen variables, especially in <a class="reference internal" href="screen_python.html#Action" title="Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code></a>
subclasses.</p>
<p>The new <a class="reference internal" href="build.html#var-build.time"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.time</span></code></a> variable is set to the time the game was built.</p>
<p>The new <a class="reference internal" href="build.html#var-build.info"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.info</span></code></a> variable lets you store information at
build time, and read it back in the distributed game.</p>
<p>When the top left pixels of <a class="reference internal" href="splashscreen_presplash.html#presplash"><span class="std std-ref">presplash</span></a> image is
transparent, the presplash will be displayed in a window that uses
1-bit transparency.</p>
<p>The new <a class="reference internal" href="screen_actions.html#EditFile" title="EditFile"><code class="xref py py-func docutils literal notranslate"><span class="pre">EditFile()</span></code></a> action attempts to open a file and
line in a text editor.</p>
<p>The virtual dpi of an SVG file can be set with the new <cite>dpi</cite>
parameter to <a class="reference internal" href="displayables.html#Image" title="Image"><code class="xref py py-func docutils literal notranslate"><span class="pre">Image()</span></code></a>.</p>
<p>The new <a class="reference internal" href="screen_actions.html#CopyToClipboard" title="CopyToClipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">CopyToClipboard()</span></code></a> action copies text to the clipboard.</p>
<p>The new <a class="reference internal" href="other.html#renpy.confirm" title="renpy.confirm"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.confirm()</span></code></a> function provides a way of using
the confirmation screen from within Python.</p>
<p>The new <a class="reference internal" href="label.html#renpy.reset_all_contexts" title="renpy.reset_all_contexts"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.reset_all_contexts()</span></code></a> function removes all contexts
from the stack, and creates a new context that continues at the next
statement. It can be used to fully reset the game upon load or when
an error happens.</p>
<p>The new <a class="reference internal" href="other.html#renpy.last_say" title="renpy.last_say"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.last_say()</span></code></a> function returns information about the
last say statement to run.</p>
<p>The new <a class="reference internal" href="iap.html#iap.request_review" title="iap.request_review"><code class="xref py py-func docutils literal notranslate"><span class="pre">iap.request_review()</span></code></a> function allows the game to request
that the player review the game on Google Play and the Apple App Store.</p>
<p>The new <a class="reference internal" href="gui.html#var-gui.history_spacing"><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.history_spacing</span></code></a> variable controls the spacing between
history entries in newly created games.</p>
<p>The <a class="reference internal" href="text.html#text-tag-nw"><code class="xref std std-tt docutils literal notranslate"><span class="pre">nw</span></code></a> text tag can now take a value, which is a number of seconds
to wait before the line containing the tag is automatically dismissed.
The common construct &quot;{w=2}{nw}&quot; can now be written as &quot;{nw=2}&quot;.</p>
<p><a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Movie</span></code></a> now takes a <cite>keep_last_frame</cite> parameter. When true, this
causes a non-looping movie to display its last frame after the movie
ends.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">jump</span> <span class="pre">expression</span></code> statement can now take a local label name of the form
&quot;.local_name&quot;. Previously, only &quot;global_name&quot; or &quot;global_name.local_name&quot; were
allowed.</p>
<p><a class="reference internal" href="screen_python.html#creator-defined-sl"><span class="std std-ref">Creator-Defined Screen Language Statements</span></a> can now copy all properties from other screen
language statements.</p>
<p>The new <a class="reference internal" href="other.html#renpy.invoke_in_main_thread" title="renpy.invoke_in_main_thread"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.invoke_in_main_thread()</span></code></a> function can be used by a Python
thread to invoke a function in the main Ren'Py thread. (Most Ren'Py functions
can only be called from the main thread.)</p>
</section>
<section id="id22">
<h3>Launcher Changes<a class="headerlink" href="#id22" title="Link to this heading"></a></h3>
<p>The launcher now supports <a class="reference internal" href="template_projects.html"><span class="doc">Template Projects</span></a>. These are
indended for use by projects that replace the default GUI.
If a template project is selected when creating a new project,
Ren'Py will copy the template project and update the name and translations,
but will not make other changes to script files and images.</p>
<p>The launcher has been slightly redesigned to reduce the amount of
whitespace, allowing more options to appear on some screens while
still providing room for translations.</p>
<p>A <a class="reference internal" href="cli.html"><span class="doc">Command Line Interface</span></a> has been documented, making it possible to build Ren'Py
projects from the command line.</p>
</section>
<section id="id23">
<h3>Other Changes<a class="headerlink" href="#id23" title="Link to this heading"></a></h3>
<p>Hide and replace transform events that are applied to screens are now always
allowed to run to completion, even if the same screen is shown again. This
makes it possible to use transform events with screens that may be shown
again immediately, like the say or bubble screens.</p>
<p>Containers (including fixed, hbox, vbox, side, grid, viewport, and vpgrid) now
pass some transform events (hover, idle, insensitive, selected_hover, and selected_idle)
to their children, meaning that children of a button can have their own transforms
to respond to those events.</p>
<p><a class="reference internal" href="persistent.html#persistent._clear" title="persistent._clear"><code class="xref py py-func docutils literal notranslate"><span class="pre">persistent._clear()</span></code></a> will re-run default statements that update
persistent variables, making it possible to avoid persistent becoming
entirely de-initialized.</p>
<p>The pixel transparency test used by <a class="reference internal" href="style_properties.html#style-property-focus_mask"><code class="xref std std-propref docutils literal notranslate"><span class="pre">focus_mask</span></code></a> will now
only involve the GPU if inside the bounding box of non-transparent pixels,
improving performance in some cases.</p>
<p>Ren'Py now uses the GL2 renderer by default on all platforms, and ignores
the config.gl2 variable. This is because of issues with the old GL renderer
that are not present in the GL2 renderer. On ancient hardware, it's still
possible to use the GL renderer by pressing shift+G and enabling it
directly.</p>
<p>On PC platforms (Windows, Mac, and Linux), when the game window moves,
its position is stored. The window's position will be restored when the
game is run again, if:</p>
<ul class="simple">
<li><p>The layout of the player's monitors hasn't changed.</p></li>
<li><p>The window is fully contained on the player's monitors.</p></li>
</ul>
<p>Otherwise, the window will be centered on the primary monitor.</p>
<p>On controllers (including the Steam Deck), the function of the B button
has changed to show and hide the game menu. The previous behavior of the
B button, selecting a button's alternate function, has been moved to X.</p>
<p>The non-default hardware video playback path has been removed from android
and ios. This path hadn't been the defaults since 2020, as it supported
a subset of the video formats Ren'Py supports.</p>
<p>Ren'Py now enforces that the angles given to the <a class="reference internal" href="transform_properties.html#transform-property-angle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">angle</span></code></a> and <a class="reference internal" href="transform_properties.html#transform-property-anchorangle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchorangle</span></code></a>
properties are in the range 0 to 360 degrees, inclusive of 0 but not of 360.
Previously, angles outside this range  gave undefined behavior, now the angles
will be clamped to this range. A 360 degree change will no longer cause motion,
but will instead be treated as a 0 degree change.</p>
<p>When animating <a class="reference internal" href="transform_properties.html#transform-property-angle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">angle</span></code></a> and <a class="reference internal" href="transform_properties.html#transform-property-anchorangle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchorangle</span></code></a> with ATL, if a direction
is not supplied, the shortest arc will be used, even if it passes through 0.</p>
<p>Ren'Py will now produce an error when an ATL block is present, but the block is
empty. (For example, <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">eileen</span> <span class="pre">happy:</span></code> with no indented lines following it.)</p>
<p>To make it more useful for making interfaces compatible with right-to-left languages,
the <a class="reference internal" href="style_properties.html#style-property-box_reverse"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_reverse</span></code></a> style property has changed its
behavior in two ways:</p>
<ul class="simple">
<li><p>Space is offered to displayables in the order the displayables are presented in
the screen, where previously the space was offered in reverse order when
<a class="reference internal" href="style_properties.html#style-property-box_reverse"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_reverse</span></code></a> was enabled. This can change the sizes of some displayables.</p></li>
<li><p>A hbox that has <a class="reference internal" href="style_properties.html#style-property-box_wrap"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_wrap</span></code></a> set will wrap from top to
bottom, rather than bottom to top. A vbox with <a class="reference internal" href="style_properties.html#style-property-box_wrap"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_wrap</span></code></a>
set will wrap from left to right, rather than right to left.</p></li>
</ul>
<p>When a file causes an autoreload, Ren'Py will check the directory containing
the file and all parent directories for git lock files. The autoreload will
be deferred until the lock files are removed when the git operation
completes.</p>
<p>AV1 movies that contained an previously-unsupported colorspace conversion could
cause Ren'Py to crash, and now will play properly.</p>
<p>The websockets package is now included in Ren'Py 8. This can be used to connect
to websockets-based APIs from the desktop and mobile (but not web) ports of
Ren'Py. As the package depends on Python 3, it's not included in Ren'Py 7.</p>
</section>
</section>
<section id="renpy-7-6-3">
<span id="renpy-8-1-3"></span><span id="id24"></span><h2>8.1.3 / 7.6.3<a class="headerlink" href="#renpy-7-6-3" title="Link to this heading"></a></h2>
<section id="changes">
<h3>Changes<a class="headerlink" href="#changes" title="Link to this heading"></a></h3>
<p>Ren'Py now considers <code class="xref std std-var docutils literal notranslate"><span class="pre">config.gl2</span></code> to be true on macOS. This is because
there are several fixes for window resizing on newer versions of macOS
in the gl2 renderer that are not present in the gl renderer.</p>
<p>MMX acceleration for video playback has been re-enabled on Windows and
Linux.</p>
<p>The way the Steam Deck keyboard is shown has changed. They keyboard
is now shown, once, when a text input is displayed. By default, the
keyboard is shown at the top of the screen, and the keyboard will
only be shown once. If it's hidden (for example, the Steam button
is pressed), the player needs to hit Steam+X to show it. This works
around issues with the Steam Deck.</p>
<p>The 32-bit windows Live2D library will be installed into Ren'Py 7.
You may need to reinstall Live2D to get this library.</p>
</section>
<section id="id25">
<h3>Fixes<a class="headerlink" href="#id25" title="Link to this heading"></a></h3>
<p>An issue that prevented keys from being bound to text (for example,
keysyms like &quot;r&quot; rather than &quot;K_r&quot;) has been fixed.</p>
<p>There have been several documentation fixes.</p>
<p>An issue with rollback not working at the start of the game has been
fixed.</p>
</section>
</section>
<section id="renpy-7-6-2">
<span id="renpy-8-1-2"></span><span id="id26"></span><h2>8.1.2 / 7.6.2<a class="headerlink" href="#renpy-7-6-2" title="Link to this heading"></a></h2>
<section id="id27">
<h3>Changes<a class="headerlink" href="#id27" title="Link to this heading"></a></h3>
<p>There have been many documentation improvements.</p>
<p>When using <code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.classify()</span></code>, a directory will now match patterns
that do not end with /. (For example, &quot;renpy.app&quot; will match the renpy.app
directory).</p>
<p>ATL has been changed to use a deep compare to determine if a transform should
be continued or restarted. This means a transform will restart if global
variables it uses are changed.</p>
<p>The styles of a viewport's children will not change when it gains drag
focus. This was rarely used, and the style change could cause drags to
be slow or to miss.</p>
<p>Load will now roll the game back to the statement after the last statement
that interacted to the user. (Previously, it would roll back to the start
of the current statement.) This makes rollback on load match other rollbacks.</p>
<p>The <a class="reference internal" href="store_variables.html#var-_autosave"><code class="xref std std-var docutils literal notranslate"><span class="pre">_autosave</span></code></a> variable now takes precedence over forced autosaves,
including those on quit and at choice menus.</p>
<p>PYTHON* variables are filtered from the environment when launching a
Ren'Py project from the launcher.</p>
<p>In self-voicing mode, Ren'Py will try to ensure that self-voicing
notifications are fully spoken to the player, even if the notification
window fades away.</p>
<p>Self voicing now speaks screens closer to the player before those
further away from the player.</p>
<p><a class="reference internal" href="displayables.html#Frame" title="Frame"><code class="xref py py-func docutils literal notranslate"><span class="pre">Frame()</span></code></a> will ensure that the frames it draws are at least one
pixel in size in both dimensions.</p>
<p><a class="reference internal" href="statement_equivalents.html#renpy.pause" title="renpy.pause"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.pause()</span></code></a> can now roll forward to calls and jumps from screens.</p>
<p>On the web browser, the <code class="docutils literal notranslate"><span class="pre">&quot;display&quot;</span> <span class="pre">:</span> <span class="pre">&quot;window&quot;</span></code> preference now disables
fullscreen mode.</p>
<p>It is now possible to bind mouse buttons to skipping.</p>
</section>
<section id="id28">
<h3>Fixes<a class="headerlink" href="#id28" title="Link to this heading"></a></h3>
<p>Problems with the web port entering fullscreen mode have been fixed.</p>
<p>The Ren'Py 8 launcher can now launch games on Windows systems where the
path to Ren'Py is not representable in the system encoding.</p>
<p>The functionality to import Python from the game/ directory has been
improved to better comply with Python's <span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0302/"><strong>PEP 302</strong></a>.</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">GamepadExist()</span></code> now works as documented. As a byproduct of this fix,
the gamepad screen will be displayed in Help when in developer mode.</p>
<p>An issue analyzing nested comprehensions in screen has been fixed, fixing a
case where nested comprehensions could cause default variables to not be
available.</p>
<p>Viewport inertia continues even if the interaction restarts during the
animation.</p>
<p>The if_changed clause to <a class="reference internal" href="audio.html#play-statement"><span class="std std-ref">play</span></a> (and
<a class="reference internal" href="audio.html#renpy.music.play" title="renpy.music.play"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.music.play()</span></code></a>) now considers and preserves looping.</p>
<p>VS Code launch has been fixed on Linux.</p>
<p>Several crashes on the web port of Ren'Py 7 have been fixed.</p>
<p>Movie functions now ensure the relevant channels exist before playing. This
can fix issue caused by loading a Movie from a save file.</p>
</section>
</section>
<section id="renpy-7-6-1">
<span id="renpy-8-1-1"></span><span id="id29"></span><h2>8.1.1 / 7.6.1<a class="headerlink" href="#renpy-7-6-1" title="Link to this heading"></a></h2>
<section id="id30">
<h3>Android<a class="headerlink" href="#id30" title="Link to this heading"></a></h3>
<p>When creating keys for Android, Ren'Py will now use the same key for APKs
and Play Bundles, as for new games it's not necessary to use different keys.
(For existing games, Ren'Py will continue to use the existing separate
keys.)</p>
<p>We've received reports of games uploaded to the Google Play as bundles
having their APKs rejected for having different keys. This was caused by
an old release of Ren'Py that used the APK key for bundles. A solution to
this problem is documented in <a class="reference internal" href="incompatible.html#android-key-migration"><span class="std std-ref">incompatible changes</span></a>.</p>
</section>
<section id="id31">
<h3>Fixes<a class="headerlink" href="#id31" title="Link to this heading"></a></h3>
<p>The &quot;system cursor&quot; <a class="reference internal" href="screen_actions.html#Preference" title="Preference"><code class="xref py py-func docutils literal notranslate"><span class="pre">Preference()</span></code></a> now applies to <a class="reference internal" href="config.html#var-config.mouse_displayable"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse_displayable</span></code></a>,
when it used to only disable <a class="reference internal" href="config.html#var-config.mouse"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse</span></code></a>.</p>
<p>Web audio now treats the end time as a time, not a duration.</p>
<p>An issue with that prevented audio volumes and pan from participating
in rollback has been fixed.</p>
<p>Fix an issue where Live2D could select an image despite all of the
required attributes not being present.</p>
<p>Support for start, end, and loop times in videos has been
restored.</p>
<p>Hotspots can no longer be const when the images used by the imagemap
the hotspots come from are not const.</p>
<p>An issue with non-resizable windows on macOS has been fixed.</p>
<p>An issue with linting fonts in the font directory has been fixed.</p>
<p>In some cases, when a class that inherited from the object class was changed
to no longer inherit from the object class, Ren'Py would crash. Ren'Py
now diagnoses this error, and <a class="reference internal" href="config.html#var-config.ex_rollback_classes"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.ex_rollback_classes</span></code></a> lets you
suppress the error. The error is only shown to developers, and is otherwise
silently ignored.</p>
</section>
<section id="id32">
<h3>Other Changes<a class="headerlink" href="#id32" title="Link to this heading"></a></h3>
<p>The Ren'Py sync screens now use styles prefixed with <code class="docutils literal notranslate"><span class="pre">sync</span></code>, allowing
basic customization without having to edit the screens.</p>
<p>Ren'Py will disable text input methods when text editing is not possible, which
makes it possible to use the space key to advance the game even if an input
method that uses the space key is active.</p>
<p>ATL Transitions now use the animation timebase. This is generally the same
behavior as before, until the interaction restarts, in which case the
transition would often incorrectly restart.</p>
<p>Preferences no longer have defaults, meaning all preferences can be
changed using the <code class="docutils literal notranslate"><span class="pre">default</span></code> statement.</p>
<p>The <a class="reference internal" href="style_properties.html#absolute" title="absolute"><code class="xref py py-func docutils literal notranslate"><span class="pre">absolute()</span></code></a> type, used to represent absolute amounts of pixels,
now ensures the result of mathematical operations with integers and
floats remain absolute numbers. This fixes a class of problems where
operations performed on absolutes could produce the incorrect
type, leading to layout problems.</p>
<p>Live2D now checks for a motion after evaluating an <cite>attribute_filter</cite>,
and does not sustain the previous motions if a new motion is present.</p>
</section>
</section>
<section id="renpy-7-6-0">
<span id="renpy-8-1-0"></span><span id="id33"></span><h2>8.1 / 7.6<a class="headerlink" href="#renpy-7-6-0" title="Link to this heading"></a></h2>
<section id="documentation-improvements-and-fixes">
<h3>Documentation Improvements and Fixes<a class="headerlink" href="#documentation-improvements-and-fixes" title="Link to this heading"></a></h3>
<p>There have been many documentation improvements and fixes, many of which
are not in the changelog.</p>
<p>The documentation now has a new theme, including a dark mode.</p>
</section>
<section id="ren-py-sync">
<h3>Ren'Py Sync<a class="headerlink" href="#ren-py-sync" title="Link to this heading"></a></h3>
<p>Ren'Py Sync is a new feature that makes it easier to move save files between
devices, using a server that is run as part of the Ren'Py project. For
example, when a player has to leave, they can click &quot;Upload Sync&quot; on their
computer to upload the saves and get a short code. They can then choose
&quot;Download Sync&quot; on the copy of their game on their phone, enter the code,
and keep playing as they travel.</p>
<p>Ren'Py Sync is designed with privacy in mind - the saves are encrypted, and
only a hash of the game title is sent to the server.</p>
<p>Ren'Py Sync is enabled by the new <a class="reference internal" href="screen_actions.html#UploadSync" title="UploadSync"><code class="xref py py-class docutils literal notranslate"><span class="pre">UploadSync</span></code></a> and <a class="reference internal" href="screen_actions.html#DownloadSync" title="DownloadSync"><code class="xref py py-class docutils literal notranslate"><span class="pre">DownloadSync</span></code></a>
actions.</p>
</section>
<section id="speech-bubble-dialogue">
<h3>Speech Bubble Dialogue<a class="headerlink" href="#speech-bubble-dialogue" title="Link to this heading"></a></h3>
<p>Ren'Py now includes a new <a class="reference internal" href="bubble.html"><span class="doc">Speech Bubbles</span></a> dialogue system. This is a comprehensive
system that allows dialogue to be displayed in comic-like speech bubbles, and
includes an interactive editor that allows the speech bubbles to be
repositions, and the look of a bubble to be changed interactively.</p>
<p>Adding bubble support to an existing game requires adding files and script
to the game. The bubble documentation includes the required changes.</p>
</section>
<section id="platform-improvements">
<h3>Platform Improvements<a class="headerlink" href="#platform-improvements" title="Link to this heading"></a></h3>
<section id="id34">
<h4>Web<a class="headerlink" href="#id34" title="Link to this heading"></a></h4>
<p>Ren'Py 8.1 can now be used to create games that run inside the web
browser. When running inside the web browser, Ren'Py used Python 3.11
(3.9 is used on all other platforms).</p>
<p>On Ren'Py 8.1, Ren'Py can be used to create progressive web apps that run inside the
browser. Depending on the browser and platforms, it may be possible to
install a web game on a device in a manner similar to a native application.
Other platforms allow pinning a web app to the home screen.</p>
<p>There is a new <a class="reference internal" href="screen_actions.html#Preference" title="Preference"><code class="xref py py-func docutils literal notranslate"><span class="pre">Preference()</span></code></a>, &quot;web cache preload&quot;. If enabled,
the game will download all game data to the device from the web server.
When online, the game will check the downloaded data, and only download
newer data if required. When offline, the game will use the downloaded
data.</p>
<p>Ren'Py can now play back movies on the web platform. Only movies that
the browser supports can be played.</p>
</section>
<section id="macintosh">
<h4>Macintosh<a class="headerlink" href="#macintosh" title="Link to this heading"></a></h4>
<p>On the Macintosh, Ren'Py now uses a universal binary that can run natively
on both Intel and Apple Silicon processors.</p>
</section>
<section id="id35">
<h4>Android<a class="headerlink" href="#id35" title="Link to this heading"></a></h4>
<p>Android has been changed so that the <code class="docutils literal notranslate"><span class="pre">android.keystore</span></code> file and
<code class="docutils literal notranslate"><span class="pre">bundle.keystore</span></code> file are expected to be found in the project's base
directory, and not in the rapt directory. This allows projects to be
built with different keys, and helps ensure the same keys are used
with multiple Android versions.</p>
<p>When the new &quot;Generate Keys&quot; button is pressed, if old keystore files
exist, Ren'Py will offer to copy the old files into the project.</p>
<p>The android configuration file has been renamed from <code class="docutils literal notranslate"><span class="pre">.android.json</span></code> to
<code class="docutils literal notranslate"><span class="pre">android.json</span></code>. Ren'Py will automatically create the new file if the old
exists.</p>
</section>
</section>
<section id="sticky-layers">
<h3>Sticky Layers<a class="headerlink" href="#sticky-layers" title="Link to this heading"></a></h3>
<p>A sticky layer is defined as one that, when a tag is shown upon it, will
be treated as that tag's default layer until it is either hidden, or
shown on another sticky layer.</p>
<p>In practice, that means showing a tag on a layer other than its default,
and assuming that layer is sticky, it will be updated with attributes
set via a show or say statement without the need to respecify the layer.</p>
<p>The following example assumes that the default layer for <code class="docutils literal notranslate"><span class="pre">eileen</span></code> is
<code class="docutils literal notranslate"><span class="pre">master</span></code>, and that <code class="docutils literal notranslate"><span class="pre">near</span></code> is a sticky layer:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="k">onlayer</span> <span class="n">near</span>
<span class="n">eileen</span> <span class="n">happy</span> <span class="s2">&quot;Hello there!&quot;</span>  <span class="c1"># will now work, where previously it would not</span>
<span class="k">show</span> <span class="n">eileen</span> <span class="n">excited</span>          <span class="c1"># implicit onlayer near</span>
<span class="k">hide</span> <span class="n">eileen</span>                  <span class="c1"># implicit onlayer near</span>
<span class="k">show</span> <span class="n">eileen</span>                  <span class="c1"># implicit onlayer master, eileen&#39;s default</span>
</pre></div>
</div>
<p>The default for this feature is for the <code class="docutils literal notranslate"><span class="pre">master</span></code> layer to be sticky, as
well as any layers created with <a class="reference internal" href="displaying_images.html#renpy.add_layer" title="renpy.add_layer"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.add_layer()</span></code></a> unless passed
the new parameter <code class="docutils literal notranslate"><span class="pre">sticky=False</span></code>.</p>
</section>
<section id="detached-layers-layer-displayable">
<h3>Detached Layers &amp; Layer Displayable<a class="headerlink" href="#detached-layers-layer-displayable" title="Link to this heading"></a></h3>
<p>Detached layers are creator-defined layers which are not automatically added to
a scene. They are instead displayed using a new <a class="reference internal" href="displayables.html#Layer" title="Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> displayable
which can be show on other layers.</p>
<p>One of the driving factors behind this is that it allows shaders and other
transform effects to be applied to a group of tags while still allowing them to
operate normally with other systems such as show and say statements. It also
also allows the same layer to be shown multiple times, for instance in
reflections or several TV showing the same channel.</p>
<p>As detached layers don't participate in scene building in the same way as
typical layers, they are defined directly in <a class="reference internal" href="config.html#var-config.detached_layers"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.detached_layers</span></code></a>
rather than through <code class="xref py py-func docutils literal notranslate"><span class="pre">add_layer()</span></code>, and are inherently sticky.</p>
</section>
<section id="new-image-formats-and-image-oversampling">
<h3>New Image Formats and Image Oversampling<a class="headerlink" href="#new-image-formats-and-image-oversampling" title="Link to this heading"></a></h3>
<p>These releases add support for two new image formats:</p>
<ul class="simple">
<li><p>The AV1 Image File Format (AVIF) is a new image format that uses modern
compression techniques to produce smaller files than JPEG, PNG, or WebP.
In many cases, converting images to AVIF will reduce their size without
sacrificing image quality.</p></li>
<li><p>SVG files are a vector graphics format used on the web. Ren'Py supports a
SVG files containing a subset of SVGs  capability. (Notably, Ren'Py
does not support text in SVG files.) Ren'Py will automatically oversample
(or undersample) SVGs when the game is scaled, to ensure the SVGs remain
sharp at any resolution, similar to the way it oversamples text. This makes
svgs a reasonable choice for interface elements that need to remain sharp.</p></li>
</ul>
<p>This release of Ren'Py also adds support for oversampling raster images,
like PNG, JPEG, WebP, and AVIF. For these images, oversampling is done
by including an &#64; and number in the filename. For example, &quot;eileen <a class="reference external" href="mailto:happy&#37;&#52;&#48;2&#46;png">happy<span>&#64;</span>2<span>&#46;</span>png</a>&quot;
will be oversampled by a factor of 2. This allows for easier ways of making a
remastered version of a game with minimal changes to the code. Image
manipulators, which are now obsolete but common in older games, support
oversampled images.</p>
<p>For raster images, oversampling causes the image file to be loaded at full
resolution, but treated as if it was smaller by the oversampling factor. For
example, if the image is 1000x1000, and is oversampled by 2, it will be treated
as a 500x500 image for the purpose of layout. If the game is scaled up,
all of the image data is available to keep the image sharp.</p>
<p>Image oversampling can also be used with the new <a class="reference internal" href="config.html#var-config.physical_width"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.physical_width</span></code></a>
and <a class="reference internal" href="config.html#var-config.physical_height"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.physical_height</span></code></a> variables to upgrade the resolution of
a game without having to adjust the game's layout.</p>
</section>
<section id="av1-video">
<h3>AV1 Video<a class="headerlink" href="#av1-video" title="Link to this heading"></a></h3>
<p>Ren'Py now supports the modern AV1 video format. AV1 is supported in
WEBM and MKV containers. AV1 videos should be about 30% smaller than
the equivalent quality movie encoded with VP9, the previous best codec.</p>
<p>Note that the newer AV1 format requires more CPU to decode. It's possible
that some hardware that plays VP9 fluidly will struggle with AV1.</p>
</section>
<section id="audio">
<h3>Audio<a class="headerlink" href="#audio" title="Link to this heading"></a></h3>
<p>Mixer now work on power in decibels, similar to the way the volume controls
on audio equipment and computers work. An empty mixer slider represents -40 dB
below the maximum volume, while a full bar represents 0 dB, the full volume.
This makes the mixers more dynamic. Previously, the volume slider had to be
very near the bottom before it had an effect. Now, the volume increases and
decreases match the way people perceive loudness.</p>
<p>Variables that control the default mixer volumes, such as <code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_music_volume</span></code>,
<code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_sfx_volume</span></code>, and <code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_voice_volume</span></code> now work on a scale
where 0.0 is -40 dB, and 1.0 is 0 dB. <a class="reference internal" href="voice.html#SetCharacterVolume" title="SetCharacterVolume"><code class="xref py py-func docutils literal notranslate"><span class="pre">SetCharacterVolume()</span></code></a> works in a similar way,
as do the new <a class="reference internal" href="preferences.html#preferences.set_mixer" title="preferences.set_mixer"><code class="xref py py-func docutils literal notranslate"><span class="pre">preferences.set_mixer()</span></code></a> and <a class="reference internal" href="preferences.html#preferences.get_mixer" title="preferences.get_mixer"><code class="xref py py-func docutils literal notranslate"><span class="pre">preferences.get_mixer()</span></code></a> functions.</p>
<p>The audio fadein and fadeout functions also work using power. This ensures that
the fade is apparent over the course of the entire fadeout or fadein, rather
than only at the end. The audio fading implementation has also been rewritten
to allow fades of very short lengths. Previously, fading would produce errors
if the fade time was too short.</p>
<p>The <a class="reference internal" href="config.html#var-config.fadeout_audio"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.fadeout_audio</span></code></a> variable (renamed from config.fade_music) controls
the default fadeout used when stopping audio, or changing audio using <code class="docutils literal notranslate"><span class="pre">play</span></code>. (It
is not used by <code class="docutils literal notranslate"><span class="pre">queue</span></code>). The default value is now 0.016 seconds, which eliminates
popping sounds that occured when audio was stopped abruptly.</p>
<p>Audio panning (<a class="reference internal" href="audio.html#renpy.music.set_pan" title="renpy.music.set_pan"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.music.set_pan()</span></code></a>) is now constant-power, so that
panning audio should not change the volume.</p>
</section>
<section id="draggable-viewports">
<h3>Draggable Viewports<a class="headerlink" href="#draggable-viewports" title="Link to this heading"></a></h3>
<p>Viewports can now be dragged by the user, even if a button or other displayable
inside the viewport is focused. Ren'Py will now detect when the user is dragging,
and switch focus to the viewport, allowing the viewport to move.</p>
<p>The <cite>draggable</cite> property of <a class="reference internal" href="screens.html#sl-viewport"><span class="std std-ref">viewports</span></a> and <a class="reference internal" href="screens.html#sl-vpgrid"><span class="std std-ref">vpgrids</span></a>
can now take a <a class="reference internal" href="screens.html#screen-variants"><span class="std std-ref">screen variant</span></a> like &quot;touch&quot;, in which
case the viewport will only be draggable if touch is enabled.</p>
</section>
<section id="ren-py-files-ren-py-in-python">
<h3>_ren.py Files - Ren'Py in Python<a class="headerlink" href="#ren-py-files-ren-py-in-python" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="ren_py.html"><span class="doc">The new _ren.py file format</span></a> allows Ren'Py script to be embedded
in a valid Python file. For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;renpy</span>
<span class="sd">init python:</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">flag</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>

    <span class="n">flag</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The purpose of this new format is to allow Python-heavy script files to be edited
with Python-specific tools, while still running as Ren'Py script.</p>
</section>
<section id="constant-stores">
<h3>Constant Stores<a class="headerlink" href="#constant-stores" title="Link to this heading"></a></h3>
<p>Ren'Py has the ability to mark a <a class="reference internal" href="python.html#named-stores"><span class="std std-ref">named store</span></a> as a constant,
by setting the <code class="docutils literal notranslate"><span class="pre">_constant</span></code> variable in that store. If true, variables in that
<a class="reference internal" href="python.html#constant-stores"><span class="std std-ref">constant store</span></a> will not be saved, and objects reachable
solely from that store will not participate in rollback.</p>
<p>The reason to declare a store constant is that there are small per-store and
per-variable overheads that are required to support rollback. Declaring a
store constant can eliminate these overheads.</p>
<p>The following stores are declared to be constant by default:</p>
<blockquote>
<div><p>_errorhandling
_gamepad
_renpysteam
_sync
_warper
audio
achievement
build
director
iap
layeredimage
updater</p>
</div></blockquote>
<p>Variables in a constant store can be updated during the init phase, but should
not change after the init phase finishes.</p>
</section>
<section id="lenticular-bracket-ruby-text">
<h3>Lenticular Bracket Ruby Text<a class="headerlink" href="#lenticular-bracket-ruby-text" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="text.html#ruby-text"><span class="std std-ref">Ruby text</span></a>, small text above the main characters used
for readings and translations, can now be written be written by enclosing it in
full-width lenticular brackets (【】), with the full-width or half-width
vertical line character (｜ or |) separating the bottom text from the top text.
For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="s2">&quot;Ruby can be used for furigana (【東｜とう】 【京｜きょう】).&quot;</span>

<span class="n">e</span> <span class="s2">&quot;It&#39;s also used for translations (【東京｜Tokyo】).&quot;</span>
</pre></div>
</div>
<p>In some contexts, the left full-width lenticular bracket (【) must be
doubled, to &quot;【【&quot;, to prevent it from being interpreted as the start of
ruby text. For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="s2">&quot;【【This is not | ruby text.】&quot;</span>
</pre></div>
</div>
</section>
<section id="id36">
<h3>Accessibility<a class="headerlink" href="#id36" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="config.html#var-config.tts_substitutions"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.tts_substitutions</span></code></a> variable allows the game to
provide substitution rules for self-voicing. That is meant to allow
the creator to control pronunciation of words that might be mispronounced
by the text to speech engine.</p>
<p>For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">tts_substitutions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Ren&#39;Py&quot;</span><span class="p">,</span> <span class="s2">&quot;Ren Pie&quot;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Will cause the word &quot;Ren'Py&quot; to be pronounced as &quot;Ren Pie&quot; whenever
self-voicing speaks it.</p>
<p>Self-voicing now respects the voice volume mixer.</p>
</section>
<section id="save-token-security">
<h3>Save Token Security<a class="headerlink" href="#save-token-security" title="Link to this heading"></a></h3>
<p>Ren'Py now uses tokens to warn users when a save file is moved between
devices, to prevent the user from making mistakes described in the
<a class="reference internal" href="security.html"><span class="doc">security documentation</span></a>.</p>
<p>This works by generating a token the first time Ren'Py is run on a given
computer. This token is included in saves and in persistent data. If the
token for a different computer is found in a save file, the user is warned
and asked if they want to continue. If they choose yes, the user will be
asked if they want to automatically accept all saves from that computer.</p>
<p>Persistent data is loaded if it's from the current computer, or a computer
with an accepted token.</p>
<p>The first time a game is run with a version of Ren'Py supporting save
tokens, all save files that exist for that game are checked, and if a
token does not exist in those files, the token is added. This should prevent
prompting during upgrades to Ren'Py 8.1/7.6 or later.</p>
<p>There is intentionally no way to disable this feature, as it's important
for end-users to be warned about the security issues when possible.</p>
</section>
<section id="new-search-paths">
<h3>New Search Paths<a class="headerlink" href="#new-search-paths" title="Link to this heading"></a></h3>
<p>Ren'Py will now search for audio files in the <code class="docutils literal notranslate"><span class="pre">game/audio</span></code> directory,
and font files in the <code class="docutils literal notranslate"><span class="pre">game/fonts</span></code> directory, if not found in the game
directory. Images will still be searched for in the <code class="docutils literal notranslate"><span class="pre">game/images</span></code> directory,
but other files will not be found there.</p>
</section>
<section id="new-3d-stage-properties">
<h3>New 3D Stage Properties<a class="headerlink" href="#new-3d-stage-properties" title="Link to this heading"></a></h3>
<p>There are several new properties that affect the 3D Stage:</p>
<dl class="simple">
<dt><a class="reference internal" href="3dstage.html#transform-property-point_to"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">point_to</span></code></a></dt><dd><p>Selects the point that the camera is looking at, or has a sprite
point at a point or the camera.</p>
</dd>
<dt><a class="reference internal" href="3dstage.html#transform-property-xrotate"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xrotate</span></code></a>, <a class="reference internal" href="3dstage.html#transform-property-yrotate"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">yrotate</span></code></a>, <a class="reference internal" href="3dstage.html#transform-property-zrotate"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">zrotate</span></code></a></dt><dd><p>Rotates a sprite or the camera around the given axis.</p>
</dd>
<dt><a class="reference internal" href="3dstage.html#transform-property-orientation"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">orientation</span></code></a></dt><dd><p>Rotates a sprite or the camera around all three axes at once,
using the shortest path on a sphere.</p>
</dd>
</dl>
</section>
<section id="id37">
<h3>Live2D<a class="headerlink" href="#id37" title="Link to this heading"></a></h3>
<p>Ren'Py now supports the new features found in Live2D Cubism Editor
4.2. To support these features, it should be run with Cubism 4 Sdk
for Native R6_2 or later.</p>
<p>Live2D is now supported on x86_64 Android.</p>
<p>The new Live2D.blend_opacity method makes it possible for a
Live2D update_function to change the opacity of the Live2D model.</p>
</section>
<section id="launcher-and-engine-translations">
<h3>Launcher and Engine Translations<a class="headerlink" href="#launcher-and-engine-translations" title="Link to this heading"></a></h3>
<p>Where possible, machine translation has been used to update strings
used by the launcher and the engine, to update translations that might
not have been updated in many years.</p>
<p>If you'd like to improve these translations, you can do so. Edit the
.rpy files in launcher/game/tl/<cite>language</cite>, and send them to us. Please
remove the &quot;Automatic translation&quot; lines when you do.</p>
<p>The following languages have had their translations automatically
updated:</p>
<ul class="simple">
<li><p>Finnish</p></li>
<li><p>French</p></li>
<li><p>German</p></li>
<li><p>Greek</p></li>
<li><p>Indonesian</p></li>
<li><p>Italian</p></li>
<li><p>Japanese</p></li>
<li><p>Korean</p></li>
<li><p>Polish</p></li>
<li><p>Portuguese</p></li>
<li><p>Russian</p></li>
<li><p>Simplified Chinese</p></li>
<li><p>Turkish</p></li>
<li><p>Ukrainian</p></li>
</ul>
<p>The following translations had manual updates:</p>
<ul class="simple">
<li><p>French</p></li>
<li><p>Portuguese</p></li>
<li><p>Spanish</p></li>
<li><p>Japanese</p></li>
<li><p>Ukrainian</p></li>
</ul>
</section>
<section id="conflicting-properties">
<span id="id38"></span><h3>Conflicting properties<a class="headerlink" href="#conflicting-properties" title="Link to this heading"></a></h3>
<p>Setting two conflicting style or transform properties at the same time, for
example <a class="reference internal" href="style_properties.html#style-property-xalign"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xalign</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-pos"><code class="xref std std-propref docutils literal notranslate"><span class="pre">pos</span></code></a>, or <a class="reference internal" href="transform_properties.html#transform-property-ycenter"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">ycenter</span></code></a> and
<a class="reference internal" href="transform_properties.html#transform-property-yanchor"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">yanchor</span></code></a>, has always been undefined. The actual behavior has always been
changing across versions of Ren'Py, in particular between Python 2 and Python 3.</p>
<p>The new <code class="xref std std-var docutils literal notranslate"><span class="pre">config.check_conflicting_properties</span></code> variable makes Ren'Py raise
an error when such a conflict is detected. Due to a mistake in the former
default input screen, this variable is only enabled in newly-created projects.
Nonetheless, it is strongly advised to <a class="reference internal" href="python.html#define-statement"><span class="std std-ref">define</span></a> it to
True in all projects, to fix all revealed conflicts, and to keep it to True
afterwards.</p>
</section>
<section id="more-new-features">
<h3>More New Features<a class="headerlink" href="#more-new-features" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="screens.html#sl-input"><span class="std std-ref">input</span></a> displayable can now take multiline
input.</p>
<p>The new <a class="reference internal" href="python.html#jsondb"><span class="std std-ref">JSONDB</span></a> system allows a developer to
store data in a JSON file that can be saved alongside the
game script. For example, a JSONDB is used to store the
speech bubble information.</p>
<p>The new <a class="reference internal" href="screens.html#sl-areapicker"><span class="std std-ref">areapicker</span></a> displayable provides a
way for tools to let the player select an area on the screen.</p>
<p><a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Movie</span></code></a> can now take a <cite>group</cite> argument. If the Movie is
in a group, and it has started up, and another Movie in the same
group had displayed in the prior frame, the Movie will display the
last image of the old Movie. This is intended to allow movie sprites
to switch from one to the other seamlessly.</p>
<p>The new <a class="reference internal" href="config.html#var-config.file_slotname_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.file_slotname_callback</span></code></a> variable allows the
developer to customize how file slot names are generated. One
application of this is allow the developer to apply a prefix to
save slots (for example, to select between dlc and non-dlc saves).
The new <code class="xref std std-var docutils literal notranslate"><span class="pre">autosave_prefix_callback</span></code> allows a similar prefix to
be given to autosaves.</p>
<p>A new tool, accessible through the developer (Shift+D) menu, allows
persistent data to be viewed.</p>
<p>The interactive director can now create a statement that removes an
attribute from an image.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">screen</span></code>, <code class="docutils literal notranslate"><span class="pre">hide</span> <span class="pre">screen</span></code>, and <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">screen</span></code> statements can
now take <code class="docutils literal notranslate"><span class="pre">expression</span></code>, <code class="docutils literal notranslate"><span class="pre">as</span></code>, <code class="docutils literal notranslate"><span class="pre">onlayer</span></code>, <code class="docutils literal notranslate"><span class="pre">zorder</span></code>, and <code class="docutils literal notranslate"><span class="pre">with</span></code>
clauses, which have the same meaning as the corresponding clauses in the
<code class="docutils literal notranslate"><span class="pre">show</span></code> and <code class="docutils literal notranslate"><span class="pre">hide</span></code> statements.</p>
<p>The <a class="reference internal" href="other.html#renpy.include_module" title="renpy.include_module"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.include_module()</span></code></a> function can now be used to load a rpym
file in such a way that its init blocks are interleaved with those from
the rest of the game.</p>
<p>The new &quot;voice after game menu&quot; preference controls if voice is allowed
to continue playing after the game menu is shown.</p>
<p>A creator-defined statement can now execute a function at the same
time the <code class="docutils literal notranslate"><span class="pre">default</span></code> statements are executed. This is after the init
phase, but before the game starts; when a save is loaded; after
rollback; before lint; and potentially at other times.</p>
<p>The new <a class="reference internal" href="config.html#var-config.after_default_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.after_default_callbacks</span></code></a> allows callbacks to be
run immediately after the default statements are executed.</p>
<p>The interactive director now lets you negate an attribute by right
clicking on the attribute name.</p>
<p>The <a class="reference internal" href="text.html#Text" title="Text"><code class="xref py py-func docutils literal notranslate"><span class="pre">Text()</span></code></a> displayable now takes a new <cite>tokenized</cite> argument. When
true, the Text displayable expects to take a list of tokens taken from
a <a class="reference internal" href="custom_text_tags.html"><span class="doc">custom text tag</span></a>.</p>
<p>Two new layers are now part of Ren'Py. The &quot;top&quot; layer is displayed above
all other layers, and does not participate in transitions. This makes
it useful for display information that is always shown. The &quot;bottom&quot; layer
is displayed below all other layers. The bottom layer is useful for
handling keys in a way that is always active.</p>
<p>Ren'Py supports the C90 encoding for Thai fonts, which uses the unicode
private area to provide glyphs that are combinations of base characters,
vowel marks, and tone marks. This can be enabled by selecting a Thai font
that supports the C90 encoding, and then setting <a class="reference internal" href="style_properties.html#style-property-language"><code class="xref std std-propref docutils literal notranslate"><span class="pre">language</span></code></a> to
&quot;thaic90&quot;.</p>
<p>It's now possible for a mouse keysym to be given modifiers corresponding
to the state of keyboard modifiers when the mouse button was pressed. For
example, &quot;shift_mouseup_1&quot; will only trigger when mouse button 1 is
released while the shift key is held down.</p>
<p>Keysyms have been reworked to make it possible to bind to numeric keypad keys
(like the arrows and home) when numlock is off, and <a class="reference internal" href="keymap.html"><span class="doc">the keymap</span></a>
has been reworked to make better use of the numeric keypad.</p>
<p>Normally, when a displayable or screen with the same tag or name as one
that is hiding is shown, the hiding displayable or screen is removed,
cancelling the hide transform. The new <a class="reference internal" href="transform_properties.html#transform-property-show_cancels_hide"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">show_cancels_hide</span></code></a> transform
property controls this behavior.</p>
<p>The console (accessed with shift+O) <code class="docutils literal notranslate"><span class="pre">help</span></code> command can now take an
expression, in which case it display the pydoc documentation for the
function or class that expression refers to.</p>
<p>The new <a class="reference internal" href="translation.html#renpy.get_translation_identifier" title="renpy.get_translation_identifier"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_translation_identifier()</span></code></a> function returns the
unique identifier for the current line of dialogue, if there is one.</p>
<p>The new <a class="reference internal" href="config.html#var-config.scene_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.scene_callbacks</span></code></a> function contains a list of functions
that are called when the scene statement is run or the <a class="reference internal" href="statement_equivalents.html#renpy.scene" title="renpy.scene"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.scene()</span></code></a>
function is called.</p>
<p>The size text tag now takes multipliers, so it's possible to have:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;{size=*2}This is double size{/size} and {size=*0.5}this is half size{/size}.&quot;</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="screens.html#sl-dismiss"><span class="std std-ref">dismiss</span></a> displayable now takes a <cite>keysym</cite> property,
specifying what keysym causes the dismiss.</p>
<p>The new <a class="reference internal" href="config.html#var-config.autosave_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.autosave_callback</span></code></a> is run after a background autosave
finishes.</p>
<p>The new <a class="reference internal" href="audio.html#renpy.music.pump" title="renpy.music.pump"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.music.pump()</span></code></a> function can be called to cause audio changes
to take effect immediately, rather than at the start of the next interaction.
The main use of this is to allow a sound to be played, and then faded out. (By
default, a <code class="docutils literal notranslate"><span class="pre">play</span></code> followed by a <code class="docutils literal notranslate"><span class="pre">stop</span></code> causes the track to never be
played, and hence never faded out.)</p>
<p>The new <a class="reference internal" href="displaying_images.html#renpy.clear_attributes" title="renpy.clear_attributes"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.clear_attributes()</span></code></a> function allows for an image tag to be
cleared of all the attributes attached to it. The previous way to do this was
to hide and show the image again, which had the consequence of also resetting
the placement of the image on the screen. It is not the case with this function.</p>
<p>The new <a class="reference internal" href="config.html#var-config.font_name_map"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.font_name_map</span></code></a> variable allows you to name font files or
<a class="reference internal" href="text.html#fontgroup"><span class="std std-ref">Font Groups</span></a>, so that it becomes easier to use them in {font} tags.
Previously, there was no way to use a fontgroup in a {font} tag.</p>
<p>The <a class="reference internal" href="screen_actions.html#Scroll" title="Scroll"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scroll</span></code></a> Action now takes a <cite>delay</cite> parameter, so that the scrolling
is animated over a short period of time.</p>
<p>The new <a class="reference internal" href="preferences.html#var-preferences.audio_when_unfocused"><code class="xref std std-var docutils literal notranslate"><span class="pre">preferences.audio_when_unfocused</span></code></a> preference now enables the audio
of the game to be paused when the player switches to another window.</p>
<p>The screens' <code class="docutils literal notranslate"><span class="pre">for</span></code> loops now support the <code class="docutils literal notranslate"><span class="pre">continue</span></code> and <code class="docutils literal notranslate"><span class="pre">break</span></code> statements.</p>
<p>Disabling Dialogue's <a class="reference internal" href="dialogue.html#monologue-mode"><span class="std std-ref">Monologue Mode</span></a> is now possible using the
<code class="docutils literal notranslate"><span class="pre">rpy</span> <span class="pre">monologue</span> <span class="pre">none</span></code> statement at the beginning of the file it should apply to.</p>
</section>
<section id="id39">
<h3>Other Changes<a class="headerlink" href="#id39" title="Link to this heading"></a></h3>
<p>The polar motion properties (<a class="reference internal" href="transform_properties.html#transform-property-around"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">around</span></code></a>, <a class="reference internal" href="transform_properties.html#transform-property-radius"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">radius</span></code></a>, and <a class="reference internal" href="transform_properties.html#transform-property-angle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">angle</span></code></a>)
will now produce circular, rather than oval motion, with radius using the
minimum of the available wdith and height to scale distances expressed as
heights. The new <a class="reference internal" href="transform_properties.html#transform-property-anchoraround"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchoraround</span></code></a>, <a class="reference internal" href="transform_properties.html#transform-property-anchorradius"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchorradius</span></code></a>, and <a class="reference internal" href="transform_properties.html#transform-property-anchorangle"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchorangle</span></code></a>
properties can position the anchor using polar coordinates.</p>
<p>Lint will now check your game for statements that can never be reached,
and will report the statements.</p>
<p>Lint will now check your game for translations that are no longer being
used, and report those.</p>
<p>It's possible to configure the channels used to upload to itch.io
using the <a class="reference internal" href="build.html#var-build.itch_channels"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.itch_channels</span></code></a> variable.</p>
<p>Triple quote strings can now be used in most places a single
quoted string can. Most notably, this allows triple quoted strings
to be used in screens. For example, you can use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">example</span><span class="p">():</span>
    <span class="k">text</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">line 1</span>
<span class="s2">line 2</span>
<span class="s2">line 3&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>to create three lines in one text displayable.</p>
<p>The maximized window state is now stored int preferences, and if a
game was maximized when it shut down it will be maximized again when
started again.</p>
<p>A screen language displayable can now have <code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">transform</span></code> on the
first line:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">text</span> <span class="s2">&quot;Spinny text&quot;</span> <span class="k">at</span> <span class="k">transform</span><span class="p">:</span>
    <span class="na">rotate</span> <span class="mf">0.0</span>
    <span class="n">linear</span> <span class="mf">2.0</span> <span class="na">rotate</span> <span class="mf">360.0</span>
    <span class="k">repeat</span>
</pre></div>
</div>
<p>It's now possible for a screen language statement to have both an
<cite>at</cite> property and an <code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">transform</span></code> block, provided the property
comes first.</p>
<p>Local variables (prefixed with __) may now be used in f-strings.</p>
<p>The {nw} tag will wait for self-voicing to complete, when self-voicing
is enabled.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">selected_insensitive</span></code> style prefix will now be generated, and
<code class="docutils literal notranslate"><span class="pre">selected</span></code> and <code class="docutils literal notranslate"><span class="pre">selected_insensitive</span></code> events will be given to
transforms when appropriate.</p>
<p>Displayables with an <cite>id</cite> property can now be given the <cite>prefer_screen_to_id</cite>
property, which controls if properties supplied by the screen override
the properties supplied by the displayable identifier. The default remains
that the displayable identifier overrides the screen.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">fadein</span></code> clause can be used when queuing an audio track.</p>
<p>Ren'Py will limit calls to BOverlayNeedsPresent on Steam Deck, preventing
a freezing issue.</p>
<p>Dialogue is now present in the history list (and hence the history screen)
during the statement in which the dialogue is shown. Previously, it was only
present at the end of the statement.</p>
<p>When <a class="reference internal" href="achievement.html#var-config.steam_appid"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.steam_appid</span></code></a> is not set, Ren'Py will delete any existing
<code class="docutils literal notranslate"><span class="pre">steam_appid.txt</span></code> file in the game directory. This is to prevent the wrong
app id from being used.</p>
<p>Audio volumes are now preserved when muted. (This means that the volume will
not drop to 0 when the game is muted.)</p>
<p>It is now explicitly documented that non-self-closing tags will be closed at
the end of a block of text. This was the behavior of many versions of Ren'Py,
but would produce lint warnings. Now, the following is explicitly valid:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="s2">&quot;{size+=20}This is big!&quot;</span>
</pre></div>
</div>
<p>Self-voicing and auto-forward mode may now be enabled at the same time. When
this is the case, auto-forward will only occur when the dialogue is focused.</p>
<p>Ren'Py no longer requires grids or vpgrids to be full - it will now pad these
grids with nulls as required.</p>
<p>The <cite>execute_init</cite> argument to <a class="reference internal" href="cds.html#renpy.register_statement" title="renpy.register_statement"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.register_statement()</span></code></a> now respects
the <cite>init_priority</cite> argument. Previously, all <cite>execute_init</cite> function ran
at init priority 0.</p>
<p>The config.label_callback variable has been renamed to <a class="reference internal" href="config.html#var-config.label_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.label_callbacks</span></code></a>,
and now takes a list of callback functions.</p>
<p>A number of documented functions, classes and Actions have seen their signatures
(meaning the arguments they take) corrected in the documentation, making them
safer to use.</p>
<p>Ren'Py used to normalize all whitespace to standard spaces, and now
supports non-standard spaces such as \u3000, the full-width ideographic space.</p>
</section>
</section>
<section id="renpy-8-0-3">
<span id="renpy-7-5-3"></span><span id="id40"></span><h2>8.0.3 / 7.5.3<a class="headerlink" href="#renpy-8-0-3" title="Link to this heading"></a></h2>
<section id="security">
<h3>Security<a class="headerlink" href="#security" title="Link to this heading"></a></h3>
<p>There is now a new <a class="reference internal" href="security.html"><span class="doc">Security</span></a> page in the documentation, intended to help
players understand the security implications of mods and sharing save files.</p>
</section>
<section id="modal-screen-pauses-and-timers">
<h3>Modal Screen, Pauses, and Timers<a class="headerlink" href="#modal-screen-pauses-and-timers" title="Link to this heading"></a></h3>
<p>Based on feedback from creators, the changes to how modal screens interact
with pauses and timers have been redone. As of this version, pauses will
not end when a modal screen is shown, while timers will trigger while
a modal screen is shown above the timer.</p>
<p>There are some cases where this behavior may not be wanted. To deal with
those cases, the <a class="reference internal" href="screens.html#sl-timer"><span class="std std-ref">timer displayable</span></a> and <a class="reference internal" href="statement_equivalents.html#renpy.pause" title="renpy.pause"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.pause()</span></code></a>
have a new <cite>modal</cite> property/parameter. If <cite>modal</cite> is True, pauses will
end and timers will respect the modal screen, and will not trigger until
the screen disappears. If false, the modal screen will not be respected,
causing pauses to end and timers to trigger while the modal screen is
still displayed.</p>
</section>
<section id="changes-and-fixes">
<h3>Changes and Fixes<a class="headerlink" href="#changes-and-fixes" title="Link to this heading"></a></h3>
<p>Ren'Py has been updated to target Android API level 33, corresponding to Android 13,
allowing new games to be added to the Google Play store. The Play Billing library
has been updated to version 5.</p>
<p>Init statements inside a module loaded with <a class="reference internal" href="other.html#renpy.load_module" title="renpy.load_module"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.load_module()</span></code></a> are now
run in init-priority order.</p>
<p>Lint now respects <a class="reference internal" href="config.html#var-config.adjust_attributes"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.adjust_attributes</span></code></a>.</p>
<p>A case where blurs could become transparent has been addressed.</p>
<p>When the translation language changes during a menu that is using dialogue as a
caption, Ren'Py will jump the game back to the start of the say statement that
added that dialogue, allowing it to be re-translated.</p>
<p>When a game is being developed, Ren'Py will now produce an error if the first
use of <a class="reference internal" href="gui_advanced.html#gui.preference" title="gui.preference"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.preference()</span></code></a> has not been given a default. This makes an error
that could happen at runtime in that case more explicit.</p>
<p>There have been many documentation improvements.</p>
<p>This release fixes a problem with Matrix equality that could prevent
transform properties that use Matrixes from being animated correctly.</p>
<p>Ren'Py now properly analyzes variables that are bound by lambdas.</p>
<p>The Tutorial and The Question have been translated into Ukrainian, and the
Ukrainian translation of the launcher has been updated.</p>
</section>
</section>
<section id="renpy-8-0-2">
<span id="renpy-7-5-2"></span><span id="id41"></span><h2>8.0.2 / 7.5.2<a class="headerlink" href="#renpy-8-0-2" title="Link to this heading"></a></h2>
<section id="id42">
<h3>Fixes<a class="headerlink" href="#id42" title="Link to this heading"></a></h3>
<p>There have been a number of changes to the way autoreload (shift+R) works, to
try to prevent Ren'Py from creating an invalid save file when an autoreload after
an error happens, and Ren'Py is in an invalid state. The goal of these changes
is to preserve the save file from before the change, and reuse that.</p>
<p>Ren'Py is now able to perform audio fadeins and fadeouts of less than 0.68
seconds. Previously such short fadeins and fadeouts would be result in an
underflow and no fading. In this release, the precise duration of a fadein
and fadeout is not strictly guaranteed.</p>
<p>Several functions in achievement.steam (or _renpysteam) had regressions when
reimplmented in terms of achievement.steamapi. These regressions have been
fixed.</p>
<p>An issue that prevented built distributions from launching on aarch64 has
been fixed.</p>
<p>An issue that could cause excessive CPU and memory usage when a store had
large number of variables in it has been fixed.</p>
<p>Loading a save slot that was saved with a different language than is currently set will no
longer prevent <a class="reference internal" href="config.html#var-config.after_load_transition"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.after_load_transition</span></code></a> from occurring.</p>
<p>Several problems that preventing In-App Purchases (IAP) from working on Ren'Py
8 have been fixed.</p>
<p>An issue with examples in the tutorial game not working in a non-English languages
has been fixed.</p>
<p>Tinydialogs is now included in the source code distribution of Ren'Py.</p>
</section>
<section id="default-focus-changes">
<h3>Default Focus Changes<a class="headerlink" href="#default-focus-changes" title="Link to this heading"></a></h3>
<p>There have been several changes to the <cite>default_focus</cite> property of focusable
displayables like buttons and bars. This property allows Ren'Py to select a
displayable to gain default focus when displayables are added to removed.</p>
<p>The new rules are:</p>
<ul class="simple">
<li><p>When the mouse is used, focus follows the mouse and <cite>default_focus</cite> is ignored.</p></li>
<li><p>When a displayable with a higher <cite>default_focus</cite> than any other displayable
is shown, it is given focus.</p></li>
<li><p>When the displayable with the highest <cite>default_focus</cite> is hidden, the displayable
with the next highest non-zero <cite>default_focus</cite> is given focus.</p></li>
</ul>
<p>The goal is to support common keyboard and controller navigation patterns,
while not getting in the way of mouse users.</p>
</section>
<section id="other-improvements">
<h3>Other Improvements<a class="headerlink" href="#other-improvements" title="Link to this heading"></a></h3>
<p>Ren'Py will now warn when encountering an explicit <code class="docutils literal notranslate"><span class="pre">translate</span> <span class="pre">None</span></code> statement
that does not translate strings, styles, or python.</p>
<p>Ren'Py will now predict dialogue followed by the <a class="reference internal" href="dialogue.html#extend"><span class="std std-ref">extend</span></a> special
character, and if it can prove that the extend will always occur, will take the
extended text into account when determining line breaking and spacing.</p>
<p>There have been many copyedits and other improvements to Ren'Py's documentation.</p>
<p>The console has been improved to display more Python 3 types.</p>
<p><a class="reference internal" href="mouse.html#MouseDisplayable" title="MouseDisplayable"><code class="xref py py-func docutils literal notranslate"><span class="pre">MouseDisplayable()</span></code></a> now respects <a class="reference internal" href="store_variables.html#var-default_mouse"><code class="xref std std-var docutils literal notranslate"><span class="pre">default_mouse</span></code></a>, if set.</p>
<p>In Ren'Py 8, Python blocks are now compiled as if the <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code>
statement was present.</p>
<p>A modal screen or dismiss statement now blocks the <code class="docutils literal notranslate"><span class="pre">pause</span></code> statement and <code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.pause`()</span></code>
from ending. Previously, what happened in this case was undefined and varied between
versions.</p>
<p>On macOS, Ren'Py will now properly adjust when the game window is moved between
displays with different scaling.</p>
<p>Command-C and Command-V now work for copy and paste on macOS.</p>
<p>The default input screen in screens.rpy has now been changed to prevent a
conflict between the <a class="reference internal" href="style_properties.html#style-property-xalign"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xalign</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-xpos"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xpos</span></code></a> of the vbox.
The fix was to change the use of xalign to <a class="reference internal" href="style_properties.html#style-property-xanchor"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xanchor</span></code></a>.</p>
<p>Ren'Py will now start if a sound card is not present, even in developer mode.
Errors with audio hardware are now written to log.txt.</p>
<p>The Japanese translation has been updated.</p>
<p>New games created with Ren'Py no longer filter out ruby/furigana text tags.</p>
</section>
</section>
<section id="renpy-8-0-1">
<span id="renpy-7-5-1"></span><span id="id43"></span><h2>8.0.1 / 7.5.1<a class="headerlink" href="#renpy-8-0-1" title="Link to this heading"></a></h2>
<section id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Link to this heading"></a></h3>
<p>The launcher now has a Ukrainian translation, courtesy of Matias B.</p>
<p>The web port will now reuse audio data when an audio file loops, reducing
the memory usage.</p>
<p>ATL transforms used inside a <a class="reference internal" href="mouse.html#MouseDisplayable" title="MouseDisplayable"><code class="xref py py-func docutils literal notranslate"><span class="pre">MouseDisplayable()</span></code></a> are now reset each
time the mouse is changed. Previously, this behavior was undefined.</p>
<p>The trace screen used by the console is now updated once per frame.</p>
<p>There have been a large number of documentation improvements.</p>
</section>
<section id="id44">
<h3>Fixes<a class="headerlink" href="#id44" title="Link to this heading"></a></h3>
<p>Alt text is now played in first-to-last order. A change to 8.0 caused
the order alt text was played in to be reversed.</p>
<p>A rounding error that would cause the CropMove transitions to work
incorrectly was fixed.</p>
<p>An issue preventing the zoomin and zoomout transitions from working
was fixed.</p>
<p>The Movie displayable can once again take a list of movie files to
play, rather than only a single filename.</p>
<p>An issue with building on Android has been fixed.</p>
<p>Object identity is used to compared the arguments of <a class="reference internal" href="screen_actions.html#Function" title="Function"><code class="xref py py-func docutils literal notranslate"><span class="pre">Function()</span></code></a>
actions. This prevents an issue where an action could be incorrectly
reused if the action's arguments where equal, but not the same (for
example, two empty lists).</p>
<p>Problems with getting and setting Steam statistics have been fixed.</p>
<p>The <a class="reference internal" href="screens.html#sl-dismiss"><span class="std std-ref">dismiss</span></a> is now correctly modal.</p>
</section>
</section>
<section id="renpy-8-0-0">
<span id="renpy-7-5-0"></span><span id="id45"></span><h2>8.0 / 7.5<a class="headerlink" href="#renpy-8-0-0" title="Link to this heading"></a></h2>
<section id="python-3-support-ren-py-8-0">
<h3>Python 3 Support (Ren'Py 8.0)<a class="headerlink" href="#python-3-support-ren-py-8-0" title="Link to this heading"></a></h3>
<p>Ren'Py 8.0 runs under Python 3, the latest major version of the Python
language.</p>
<p>If your game uses minimal Python (for example, just storing character
names and flags), it should work the same as it did before. Otherwise,
please read on.</p>
<p>The move to Python 3 makes over a decade of Python language and
library improvements available to the Ren'Py developer, as described
in the <a class="reference external" href="https://docs.python.org/3.9/whatsnew/index.html">What's new in Python</a>
documentation. There are far too many changes in Python 3 to include here,
so please check that and other Python websites for descriptions.</p>
<p>That being said, a few things made available to the Python in your Ren'Py
games are:</p>
<ul class="simple">
<li><p>Functions can have keyword-only parameters. (These are also supported
in parameter lists for labels, transforms, and screens.)</p></li>
<li><p>The ability to annotate functions arguments and return values with type
information. (This is only supported in Python.)</p></li>
<li><p>Formatted string literals can now be used. These
are strings like <code class="docutils literal notranslate"><span class="pre">f&quot;characters/{character}.chr&quot;</span></code>, where the text in
braces is replaced by a formatted Python variable, similarly to the
way that interpolation works in Ren'Py dialogue. This is only available
in Python, however, and not in most purely Ren'Py statements.</p></li>
</ul>
<p>There are a huge number of other improvements in the ten major releases of
Python between 2.7 and 3.9, so be sure to read the above and other Python
documentation to find out everything that's improved.</p>
<p>One of the greatest advantages is that this moves Ren'Py off Python 2.7,
which is no longer supported by the Python Software Foundation, and so
the move to Ren'Py 8.0 helps secure Ren'Py's future.</p>
<p>There are a few things that may need to be converted if you used advanced
Python.</p>
<ul class="simple">
<li><p>In Python 3, division always returns a float, rather than an integer.
(for example, <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">/</span> <span class="pre">2</span></code> is now 1.5 rather than 1). The <code class="docutils literal notranslate"><span class="pre">//</span></code> operator
divides as an integer. This change can affect Ren'Py positioning,
where floats are treated differently from integers.</p></li>
<li><p>In Python 3, the keys, items, and values methods of dictionaries now
return views, not lists. The iterkeys, iteritems, and itervalues
methods are not supported. The xrange method is gone, and range
no longer returns a list.</p></li>
<li><p>Except clauses now must be written like <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">Exception</span> <span class="pre">as</span> <span class="pre">e:</span></code>,
as the old syntax, <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">Exception,</span> <span class="pre">e:</span></code> is not supported.</p></li>
<li><p>All strings are now unicode by default (Ren'Py has been forcing this
for several years), and files are opened in text mode by default.
(However, <a class="reference internal" href="file_python.html#renpy.file" title="renpy.file"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.file()</span></code></a> opens files in binary mode. It's been
renamed to <a class="reference internal" href="file_python.html#renpy.open_file" title="renpy.open_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.open_file()</span></code></a> and can take a default encoding.)</p></li>
<li><p>Many Python modules have been renamed.</p></li>
</ul>
<p>This is not an exhaustive list.</p>
<p>Ren'Py ships with a cut-down version of the Python Standard library, so
not every Python module is available in Ren'Py. Please let us know if there
is something missing you have a good use for, especially if that module
does not require a library dependency. While <code class="docutils literal notranslate"><span class="pre">async</span></code> and <code class="docutils literal notranslate"><span class="pre">await</span></code>
are available, Ren'Py doesn't directly support coroutines.</p>
<p>Ren'Py 8.0 ships with Python 3.9.10, and is available on the Windows,
macOS, Linux, Android, and iOS platforms. The web platform will
be supported in a future release.</p>
<p>When running under Ren'Py 8, Ren'Py now runs without the equivalent of the
Python <code class="docutils literal notranslate"><span class="pre">-O</span></code> flag. This means that docstrings and assert statements are
available.</p>
<p>Our experience is that many games run unchanged under Python 3, especially
games that use Python primarily through the Ren'Py API, to manage
game state. Ren'Py 8 has been used to run unmodified Ren'Py games
going back to the year 2006.</p>
</section>
<section id="continued-python-2-7-support-ren-py-7-5">
<h3>Continued Python 2.7 Support (Ren'Py 7.5)<a class="headerlink" href="#continued-python-2-7-support-ren-py-7-5" title="Link to this heading"></a></h3>
<p>Ren'Py 7.5 is being released at the same time as Ren'Py 8.0, to continue
to provide a version of Ren'Py that runs on Python 2.7, as a way of
supporting games in development (or being maintained after release)
that still require Python 2.7.</p>
<p>In this release, Ren'Py 7.5 also supports the web platform, which
Ren'Py 8.0 does not yet support.</p>
<p>For this release, Ren'Py 7.5 and Ren'Py 8.0 should support the same
set of of features.</p>
<p>We plan to continue to support Ren'Py 7.x until we see that the community
has moved to Ren'Py 8.x, or until changes to the Python ecosystem mean
that supporting Ren'Py on Python 2 is no longer tenable.</p>
<p>Please test your games on Ren'Py 8 - for many games, few to no changes
will be needed. If for some reason you can't port your game to Ren'Py
8, please let us know what is holding you back.</p>
</section>
<section id="platform-support-changes">
<h3>Platform Support Changes<a class="headerlink" href="#platform-support-changes" title="Link to this heading"></a></h3>
<p>This release adds support for the 64-bit ARM Linux (linux-aarch64)
platform. While based on Ubuntu 20.04, this has been tested on Chromebooks,
and should also work on the 64-bit ARM platform.</p>
<p>The intended way to run Ren'Py games on ARM Linux would be to download
the new ARM Linux SDK package, place the game in the projects directory,
and use that to launch the game. If the files from the ARM Linux SDK are
present when a Linux distribution is made, they will be included, creating
a game that can be launched on ARM, but this is not the default, for
size reasons.</p>
<p>With the move to Ren'Py 8, we are removing support for the
following platforms:</p>
<ul class="simple">
<li><p>32-bit x86 Windows (i686)</p></li>
<li><p>32-bit x86 Linux (i686)</p></li>
</ul>
<p>This reflects the obsolescence of 32-bit x86 computing. These platforms remain
supported by Ren'Py 7.5, but will not be supported by Ren'Py 8.</p>
</section>
<section id="web-and-chromeos">
<h3>Web and ChromeOS<a class="headerlink" href="#web-and-chromeos" title="Link to this heading"></a></h3>
<p>The web platform is currently only supported on Ren'Py 7.5.</p>
<p>Changes to the Safari and Chrome web browsers increased the memory Ren'Py
used by about 50 times, causing RangeErrors when the web browser ran out
of stack memory. Ren'Py 7.5 includes changes to reduces the amount of
memory used inside web browsers. As a result, Ren'Py now runs again
inside Chrome and Safari, including on iOS devices.</p>
<p>The new <a class="reference internal" href="config.html#var-config.webaudio_required_types"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.webaudio_required_types</span></code></a> variable can be given a list of
mime types of audio files used by the game. Ren'Py will only use the web
browser's Web Audio system for playback if all of the mime types are supported
in the browser. If not, webasm is used for playback, which is more likely to
cause skipping if the computer is slow.</p>
<p>The config.webaudio_required_types variable is intended to allow games using ogg
or opus audio to run on Safari, and can be changed if a game only uses mp3 audio.</p>
<p>When importing save files into a web distribution, Ren'Py will now refresh
the list of save files without a restart.</p>
<p>When running as an Android application on a ChromeOS device, the &quot;chromeos&quot;
variant will be selected.</p>
<p>The Ren'Py SDK can be run on ARM Chromebooks.</p>
</section>
<section id="android-and-ios">
<h3>Android and iOS<a class="headerlink" href="#android-and-ios" title="Link to this heading"></a></h3>
<p>The Android configuration once again prompts as to which store to use
for in app purchases. When no store is selected, libraries to support
purchasing are not included in the project. These libraries would include
the billing permission, which would flag the game as supporting in-app
purchases even if no purchases were used.</p>
<p>Due to issues in underlying libraries, the <a class="reference internal" href="input.html#renpy.input" title="renpy.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.input()</span></code></a> function
and <code class="docutils literal notranslate"><span class="pre">input</span></code> displayable are now documented as not supporting IME-based
(non-alphabetic) input on Android.</p>
<p>On iOS, OpenGL ES calls are translated to the native Metal graphics system.
Doing this should improve compatibility with recent Apple devices, and
fixes problems running applications under the iOS simulator on Apple
Silicon-based devices.</p>
</section>
<section id="steam-steam-deck-and-epic-games-store">
<h3>Steam, Steam Deck, and Epic Games Store<a class="headerlink" href="#steam-steam-deck-and-epic-games-store" title="Link to this heading"></a></h3>
<p>This release includes rewritten Steam support, provided by a new
ctypes-based binding that gives access to the entire Steamworks API,
including callbacks. While the Steam support available through the
<a class="reference internal" href="achievement.html"><span class="doc">achievement module</span></a> remains unchanged, this
gives advanced Python programmers access to more Steam functionality.</p>
<p>When Steam is active, Ren'Py will now enable the &quot;steam&quot; variant.</p>
<p>This release includes built-in support for the Steam Deck hardware.
The support includes the ability to automatically display the
on-screen keyboard when <a class="reference internal" href="input.html#renpy.input" title="renpy.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.input()</span></code></a> is called.
The steam deck also causes Ren'Py to enable the &quot;steam_deck&quot;,
&quot;steam&quot;, &quot;medium&quot;, and &quot;touch&quot; variants.</p>
<p>We have a <a class="reference external" href="https://github.com/renpy/steam-deck-guide">Ren'Py on Steam Deck Guide</a>
to help you get your game certified on that platform. Thanks go to Valve for
supplying a Steam Deck to test on.</p>
<p>The &quot;Windows, Mac, and Linux for Markets&quot; distribution has been changed to
no longer prefix the contents of the zip file created with the directory
name and version number, meaning it's no longer required to update launch
configurations with each release to Steam. This may require a one-time
update to the launch configuration.</p>
<p>Ren'Py now includes support for being launched by the Epic Games Store,
by ignoring various command line arguments supplied by EGS.</p>
</section>
<section id="id46">
<h3>Visual Studio Code<a class="headerlink" href="#id46" title="Link to this heading"></a></h3>
<p>Ren'Py now includes support for downloading and using Visual Studio Code,
including downloading the <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=LuqueDaniel.languague-renpy">Ren'Py Language</a>
extension.</p>
<p>The Ren'Py Language extension provides rich support for Ren'Py, including
syntax highlighting, snippets, completion, color previews, documentation,
go to definition, function signatures, error diagnostics, outlining,
and more.</p>
<p>Visual Studio Code also has a large system of extensions, including
spell-checkers, that can be used with the Ren'Py Language extension.</p>
<p>Visual Studio Code can be activated by going to the editor preferences
and choosing to download it. It's also possible to configure Ren'Py
to use a system install of Ren'Py with extensions that you choose.</p>
</section>
<section id="dismiss-nearrect-and-focus-rectangles">
<h3>Dismiss, Nearrect, and Focus Rectangles<a class="headerlink" href="#dismiss-nearrect-and-focus-rectangles" title="Link to this heading"></a></h3>
<p>Two new displayables have been added to Ren'Py to help use cases like
drop-down menus, pulldown menus, and tooltips.</p>
<p>The <a class="reference internal" href="screens.html#sl-dismiss"><span class="std std-ref">dismiss</span></a> displayable is generally used behind a
modal frame, and causes an action to run when it is activated. This allows,
among other things, a behavior where if the player clicks outside the frame,
the frame gets hidden.</p>
<p>The <a class="reference internal" href="screens.html#sl-nearrect"><span class="std std-ref">nearrect</span></a> displayable lays out a displayable either
above or below a rectangle on the screen. This can be used to display a
tooltip above a button, or a drop-down menu below it. (An example of
a drop-down menu is documented with nearrect, and an example of tooltip
usage is with <a class="reference internal" href="screen_actions.html#tooltips"><span class="std std-ref">tooltips</span></a>.</p>
<p>The rectangles aside of which the nearrect places things can be captured by
the new <a class="reference internal" href="screen_actions.html#CaptureFocus" title="CaptureFocus"><code class="xref py py-func docutils literal notranslate"><span class="pre">CaptureFocus()</span></code></a> action, which captures the location of the current
button on the screen. After being captured, the <a class="reference internal" href="screen_actions.html#GetFocusRect" title="GetFocusRect"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetFocusRect()</span></code></a> function
can get the focus rectangle, and the <a class="reference internal" href="screen_actions.html#ClearFocus" title="ClearFocus"><code class="xref py py-func docutils literal notranslate"><span class="pre">ClearFocus()</span></code></a> can clear the
captured focus,  and the <a class="reference internal" href="screen_actions.html#ToggleFocus" title="ToggleFocus"><code class="xref py py-func docutils literal notranslate"><span class="pre">ToggleFocus()</span></code></a> action
captures and clears focus based on the current focus state.</p>
</section>
<section id="atl-and-transforms">
<h3>ATL and Transforms<a class="headerlink" href="#atl-and-transforms" title="Link to this heading"></a></h3>
<p>It's now possible to include a block as part of an ATL interpolation.
This means that:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">linear</span> <span class="mf">2.0</span><span class="p">:</span>
    <span class="na">xalign</span> <span class="mf">1.0</span>
    <span class="na">yalign</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>is now allowed, and equivalent to:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">linear</span> <span class="mf">2.0</span> <span class="na">xalign</span> <span class="mf">1.0</span> <span class="na">yalign</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>Information about <a class="reference internal" href="transitions.html#atl-transitions"><span class="std std-ref">ATL Transitions</span></a> and <a class="reference internal" href="transforms.html#atl-child-param"><span class="std std-ref">Special ATL Keyword Parameters</span></a>
has been added to the documentation.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">pause</span> <span class="pre">0</span></code> statement has been special-cased to always display one frame,
and is the only way to guarantee at least one frame is displayed. Since 6.99.13,
Ren'Py has been trying various methods to guarantee single frame display, and
many of which led to visual glitches.</p>
<p>When an ATL image is used as one of the children of an image button, its
shown time begins each time it is shown.</p>
<p>The default for the <a class="reference internal" href="transform_properties.html#transform-property-crop_relative"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">crop_relative</span></code></a> transform property has been changed to
True.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">function</span></code> statement will now block execution only if producing a delay,
which allows transforms using it to behave more naturally when catching up with
an inherited timebase.</p>
</section>
<section id="image-gallery">
<h3>Image Gallery<a class="headerlink" href="#image-gallery" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="rooms.html#Gallery" title="Gallery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gallery</span></code></a> class now has a new field, <cite>image_screen</cite>, that can be
used to customize how gallery image are displayed.</p>
<p>The <a class="reference internal" href="rooms.html#Gallery.image" title="Gallery.image"><code class="xref py py-func docutils literal notranslate"><span class="pre">Gallery.image()</span></code></a> and <a class="reference internal" href="rooms.html#Gallery.unlock_image" title="Gallery.unlock_image"><code class="xref py py-func docutils literal notranslate"><span class="pre">Gallery.unlock_image()</span></code></a> methods now
take keyword arguments beginning with <cite>show_</cite>. These arguments have the
<cite>show_</cite> prefix stripped, and are then passed to the Gallery.image_screen
as additional keyword arguments. This can be used to include additional
information with the images in the gallery.</p>
</section>
<section id="boxes-grids-and-vpgrids">
<h3>Boxes, Grids and Vpgrids<a class="headerlink" href="#boxes-grids-and-vpgrids" title="Link to this heading"></a></h3>
<p>Displayables that take up no space (like <a class="reference internal" href="screens.html#sl-key"><span class="std std-ref">key</span></a>, <a class="reference internal" href="screens.html#sl-timer"><span class="std std-ref">timer</span></a>
or a false <a class="reference internal" href="screens.html#sl-showif"><span class="std std-ref">showif</span></a>) inside a <a class="reference internal" href="screens.html#sl-vbox"><span class="std std-ref">vbox</span></a> or <a class="reference internal" href="screens.html#sl-hbox"><span class="std std-ref">hbox</span></a>
will not be surrounded with <a class="reference internal" href="style_properties.html#style-property-spacing"><code class="xref std std-propref docutils literal notranslate"><span class="pre">spacing</span></code></a>. These displayables still take
up space in other layouts, such as grids.</p>
<p>Having an overfull vpgrid - when both <code class="docutils literal notranslate"><span class="pre">rows</span></code> and <code class="docutils literal notranslate"><span class="pre">cols</span></code> are specified - is now
disallowed.</p>
<p>Having an underfull vpgrid now raises an error unless the warning is opted-out using
either the <code class="docutils literal notranslate"><span class="pre">allow_underfull</span></code> property or <code class="xref std std-var docutils literal notranslate"><span class="pre">config.allow_underfull_grids</span></code>, the
former taking precedence on the latter.</p>
<p>A vpgrid with both cols and rows specified is underfull if and when it has less than
rows * cols children. A vpgrid with either cols or rows specified is underfull if and when its number of
children is not a multiple of the specified value.</p>
</section>
<section id="call-screen-and-roll-forward">
<span id="call-screen-roll-forward"></span><h3>Call Screen and Roll Forward<a class="headerlink" href="#call-screen-and-roll-forward" title="Link to this heading"></a></h3>
<p>The roll forward feature has been disabled by default in the <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">screen</span></code>
statement, as it's unsafe and confusing in the general case. The problem is
that the only side-effect of a screen that roll-forward preserves is the return
value of the screen, or the jump location if a screen jumps. Actions with other
side effects, like changing variables or playing music, were not preserved
through a roll forwards.</p>
<p>Roll forward may be safe for a particular screen, and so can be enabled
on a per-screen basis by enabling the new <cite>roll_forward</cite> property on the
screen. If all screens in your game support roll forward, it can be enabled
with the new <a class="reference internal" href="config.html#var-config.call_screen_roll_forward"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.call_screen_roll_forward</span></code></a> variable.</p>
</section>
<section id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">screen</span></code>, <code class="docutils literal notranslate"><span class="pre">hide</span> <span class="pre">screen</span></code> and <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">screen</span></code> statements now
take an <code class="docutils literal notranslate"><span class="pre">expression</span></code> modifier, which allows a Python expression to supply
the name of the screen.</p>
<p>There is a new &quot;main&quot; volume that can be accessed through <code class="xref py py-func docutils literal notranslate"><span class="pre">Preferences()</span></code>.
The main volume is multiplied with all the other volumes to globally reduce
the volume of the game.</p>
<p>The new  <a class="reference internal" href="config.html#var-config.preserve_volume_when_muted"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.preserve_volume_when_muted</span></code></a> variable causes
Ren'Py to show the current volume when channels are muted.</p>
<p>A button to clean the Ren'Py temporary directory has been added
to the preferences screen of the launcher. This can remove these
files to reduce the space Ren'Py requires.</p>
<p>The new <a class="reference internal" href="config.html#var-config.choice_empty_window"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.choice_empty_window</span></code></a> variable can customize
the empty window that is shown when a choice menu is displayed. The intended
use is:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">choice_empty_window</span> <span class="o">=</span> <span class="n">extend</span>
</pre></div>
</div>
<p>Which repeats the last line of dialogue as the caption of the
choice menu.</p>
<p>The <a class="reference internal" href="screens.html#sl-key"><span class="std std-ref">key</span></a> displayable now supports a <cite>capture</cite>
property, which controls if the pressed key is handled further
it does not end an interaction.</p>
<p>The new &quot;anywhere&quot; value of the <a class="reference internal" href="style_properties.html#style-property-language"><code class="xref std std-propref docutils literal notranslate"><span class="pre">language</span></code></a> style property
allows Ren'Py to break anywhere in a string, for when keeping to
a fixed width is the most important aspect of breaking.</p>
<p>The new <cite>predict</cite> argument to <a class="reference internal" href="statement_equivalents.html#renpy.pause" title="renpy.pause"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.pause()</span></code></a> makes it possible to pause
until image prediction is finished, including prediction caused by
<a class="reference internal" href="displaying_images.html#renpy.start_predict" title="renpy.start_predict"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.start_predict()</span></code></a> and <a class="reference internal" href="screen_python.html#renpy.start_predict_screen" title="renpy.start_predict_screen"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.start_predict_screen()</span></code></a>.</p>
<p>It is now possible to select a language other than the default when
extracting dialogue.</p>
<p>The screen language <code class="docutils literal notranslate"><span class="pre">add</span></code> statement now takes an <cite>alt</cite> property,
making it possible to write:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">test</span><span class="p">():</span>
    <span class="k">add</span> <span class="s2">&quot;icon.png&quot;</span> <span class="na">alt</span> <span class="s2">&quot;The Icon&quot;</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="screen_actions.html#Hide" title="Hide"><code class="xref py py-func docutils literal notranslate"><span class="pre">Hide()</span></code></a> action now takes None for the screen name, to hide
the current screen.</p>
<p><a class="reference internal" href="displayables.html#Placeholder" title="Placeholder"><code class="xref py py-func docutils literal notranslate"><span class="pre">Placeholder()</span></code></a> now takes a <cite>text</cite> argument, that overrides the
automatically determined text with something the creator specifies.</p>
<p>The <a class="reference internal" href="label.html#renpy.dynamic" title="renpy.dynamic"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.dynamic()</span></code></a> function can now make variables in namespaces
dynamic.</p>
<p>The new <a class="reference internal" href="config.html#var-config.always_shown_screens"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.always_shown_screens</span></code></a> variable allows one to define
screens that are always shown (even in the main and game menus). See also
the existing <a class="reference internal" href="config.html#var-config.overlay_screens"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.overlay_screens</span></code></a>.</p>
<p>The location and size of the OpenGL viewport is made available to shaders as
u_viewport.</p>
<p>The new RENPY_PATH_TO_SAVES environment variable makes it possible to control
where Ren'Py places system-level saves. The RENPY_MULTIPERSISTENT variable has
been documented, and controls the same thing with multipersistent data.</p>
<p>The new <code class="xref std std-var docutils literal notranslate"><span class="pre">config.at_exit_callbacks</span></code> functions are called when the game
quits. This is intended to allow the game to save additional data created
by the developer.</p>
<p>The <a class="reference internal" href="config.html#var-config.default_attribute_callbacks"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_attribute_callbacks</span></code></a> variable allows a game to
specify default attributes for a tag that are used when other attributes
do not conflict.</p>
</section>
<section id="id47">
<h3>Other Changes<a class="headerlink" href="#id47" title="Link to this heading"></a></h3>
<p>It is now possible to copy from <a class="reference internal" href="input.html#renpy.input" title="renpy.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.input()</span></code></a> with ctrl-C, and paste
with ctrl-V. When text input is displayed, ctrl will no longer cause skipping
to happen.</p>
<p>The <a class="reference internal" href="file_python.html#renpy.file" title="renpy.file"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.file()</span></code></a> function has been renamed to <a class="reference internal" href="file_python.html#renpy.open_file" title="renpy.open_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.open_file()</span></code></a>,
with the old named retained. It has also gained an <cite>encoding</cite> parameter to
open the file with an encoding.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-focus_mask"><code class="xref std std-propref docutils literal notranslate"><span class="pre">focus_mask</span></code></a> style property now defaults to None for drag displayables.
This improves performance, but means that the displayable can be dragged by
transparent pixels.</p>
<p>When adding files to the audio namespace, Ren'Py now scans for flac
files.</p>
<p>Say statements used as menu captions can now take permanent and temporary
image attributes, just like say statements elsewhere.</p>
<p>All position properties can now be supplied as gui variables to buttons.
For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">navigation_button_text_hover_yoffset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
</pre></div>
</div>
<p>now works.</p>
<p>The behavior of modal <a class="reference internal" href="screens.html#sl-frame"><span class="std std-ref">frames</span></a> has been changed. A modal
frame now blocks mouse events when inside the frame, and blocks focus from
being transferred to displayables fully behind the frame, while allowing focus
to be given to other displayables.</p>
<p>The new <a class="reference internal" href="config.html#var-config.main_menu_stop_channels"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.main_menu_stop_channels</span></code></a> variable controls the
channels that are stopped when entering the main menu.</p>
<p>Layered images are now offered the full size of the screen whenever
rendered. Previously, when a layered image was used inside a layout (like
hbox, vbox, side, and others), the space offered to the layered image
could change, and relative positions could also change. (This is unlikely,
but happened at least once.) The new <cite>offer_screen</cite> property of layered images
controls this behavior.</p>
<p>A <a class="reference internal" href="dialogue.html#Character" title="Character"><code class="xref py py-func docutils literal notranslate"><span class="pre">Character()</span></code></a> defined with <cite>interact</cite> false, or otherwise used in a
non-interactive way will now cause an automatic voice line to play, if the
relevant file exists.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span></code> displays the window before a say or menu-with-caption
statement, Ren'Py will automatically determine if the character to speak
uses NVL or ADV, and will display the correct window. Previously, the last
character in a say statement was used.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-activate_sound"><code class="xref std std-propref docutils literal notranslate"><span class="pre">activate_sound</span></code></a> plays when activating a drag displayable.</p>
<p>The <a class="reference internal" href="screen_actions.html#VariableValue" title="VariableValue"><code class="xref py py-func docutils literal notranslate"><span class="pre">VariableValue()</span></code></a>, <a class="reference internal" href="screen_actions.html#FieldValue" title="FieldValue"><code class="xref py py-func docutils literal notranslate"><span class="pre">FieldValue()</span></code></a>, and <a class="reference internal" href="screen_actions.html#DictValue" title="DictValue"><code class="xref py py-func docutils literal notranslate"><span class="pre">DictValue()</span></code></a> Bar Values
can now call <a class="reference internal" href="screen_actions.html#Return" title="Return"><code class="xref py py-func docutils literal notranslate"><span class="pre">Return()</span></code></a>, to cause the interaction to return a specific value.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-adjust_spacing"><code class="xref std std-propref docutils literal notranslate"><span class="pre">adjust_spacing</span></code></a> property is now set to False for dialogue and
narration in new games. This might cause the spacing of text to change, when
the game is resized, in exchange for keeping it stable when extend is used.</p>
<p>Playing or stopping music on a channel now unpauses that channel.</p>
<p>The new <a class="reference internal" href="preferences.html#var-preferences.audio_when_minimized"><code class="xref std std-var docutils literal notranslate"><span class="pre">preferences.audio_when_minimized</span></code></a> preference now enables the
audio of the game to be paused when the window is minimized.</p>
<p>The default for <a class="reference internal" href="style_properties.html#style-property-outline_scaling"><code class="xref std std-propref docutils literal notranslate"><span class="pre">outline_scaling</span></code></a> is now &quot;linear&quot;.</p>
<p>The version of SDL used by Ren'Py has been upgraded to 2.0.20 on non-web
platforms.</p>
<p>Many translations have been updated.</p>
<p>The jEdit editor has been removed, as the Ren'Py integration was largely
obsolete. However, if the version from 7.4.0 is unpacked, it should be
selectable in the launcher.</p>
</section>
<section id="versioning">
<h3>Versioning<a class="headerlink" href="#versioning" title="Link to this heading"></a></h3>
<p>Ren'Py's full version numbers are now of the form major.minor.patch.YYMMDDCCnu,
where:</p>
<ul class="simple">
<li><p>YY is the two digit year of the latest commit.</p></li>
<li><p>MM is the month of the commit.</p></li>
<li><p>DD is the day of the commit</p></li>
<li><p>CC is the commit number on that day</p></li>
<li><p>n is present if this is a nightly build.</p></li>
<li><p>u is present if this is an unofficial build.</p></li>
</ul>
</section>
</section>
<section id="renpy-7-4-11">
<span id="id48"></span><h2>7.4.11<a class="headerlink" href="#renpy-7-4-11" title="Link to this heading"></a></h2>
<section id="the-gui-variant-decorator">
<h3>The gui.variant Decorator<a class="headerlink" href="#the-gui-variant-decorator" title="Link to this heading"></a></h3>
<p>A new gui.variant decorator has been added to Ren'Py. This should be used
to decorate a function with the name of a variant, and causes that function
to be run, if the variant is active, when the game is first started, and then
each time the gui is rebuilt (which happens when <a class="reference internal" href="gui_advanced.html#gui.rebuild" title="gui.rebuild"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.rebuild()</span></code></a> is called,
when a gui preference is changed, or when the translation changes.)</p>
<p>This is expected to be used like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>

    <span class="nd">@gui</span><span class="o">.</span><span class="na">variant</span>
    <span class="k">def</span> <span class="nf">small</span><span class="p">():</span>

        <span class="c1">## Font sizes.</span>
        <span class="n">gui</span><span class="o">.</span><span class="na">text_size</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">gui</span><span class="o">.</span><span class="n">name_text_size</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span>
        <span class="c1"># ...</span>
</pre></div>
</div>
<p>as a replacement for:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">init</span> <span class="k">python</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">renpy</span><span class="o">.</span><span class="na">variant</span><span class="p">(</span><span class="s2">&quot;small&quot;</span><span class="p">):</span>
        <span class="c1">## Font sizes.</span>
        <span class="n">gui</span><span class="o">.</span><span class="na">text_size</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">gui</span><span class="o">.</span><span class="n">name_text_size</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span>
        <span class="c1"># ...</span>
</pre></div>
</div>
<p>Which only runs once, and lost the changes if the gui was ever rebuilt.</p>
</section>
<section id="id49">
<h3>Fixes<a class="headerlink" href="#id49" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="config.html#var-config.mouse_focus_clickthrough"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse_focus_clickthrough</span></code></a> variable determines if clicks that
cause the game window to be focused will be processed normally.</p>
<p>The launcher now runs with <a class="reference internal" href="config.html#var-config.mouse_focus_clickthrough"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse_focus_clickthrough</span></code></a> true, which
means that it will only take a single click to launch the game.</p>
<p>The <cite>caret_blink</cite> property of Input is now exposed through screen language.</p>
<p>When a Live2D motion contains a curve with a shorter duration then the motion
it is part of, the last value of the curve is retained to the end of the
motion.</p>
<p>Rare issues with a displayable being replaced by a displayable of a different
type are now guarded against. This should only occur when a game is updated
between saves.</p>
<p>Modal displayables now prevent pauses from ending.</p>
<p>An issue that could cause images to not display in some cases (when a displayable
was invalidated) has been fixed.</p>
<p>Starting a movie no longer causes paused sounds to unpause.</p>
<p>AudioData objects are no longer stored in the persistent data. Such objects
are removed when persistent data is loaded, if present.</p>
<p>Platform variables like renpy.android and renpy.ios are now set to follow
the emulated platform, when Ren'Py is emulating ios or android.</p>
<p>When in the iOS and Android emulator, the mobile rollback side is used.</p>
<p>Ren'Py will now always run an <cite>unhovered</cite> action when a displayable (or its
replacement) remains shown, and the focus changes. Previously, the unhovered
action would not run when the loss of focus was caused by showing a second
screen.</p>
<p>When <a class="reference internal" href="config.html#var-config.log"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.log</span></code></a> is true, the selected choice is now logged properly.</p>
<p>The new <a class="reference internal" href="gui_advanced.html#gui.variant" title="gui.variant"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.variant()</span></code></a> function makes it possible to work around
an issue in the standard gui where the calling <a class="reference internal" href="gui_advanced.html#gui.rebuild" title="gui.rebuild"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.rebuild()</span></code></a> would cause
gui variants to reset.</p>
<p>The web browser now checks for progressively downloaded images once per
frame, allowing images to be loaded into the middle of an animation.</p>
<p>Live2D now uses saturation arithmetic to combine motion fadeins and fadeouts,
such that if the fadein contributes 80% of a parameter value, and the
fadeout contributes 20% of the value, 100% of the value comes from
the two motions. (Previously, the fadein and fadeout were applied
independently, such that together, the fadein and fadeout would
contribute 84% of the value, with the remaining 16% taken from
the default.)</p>
<p>When fading from one sequence of Live2D motions to another, the original
sequence ends when a motion fades out.</p>
<p>When preserving screens in the old state for a transition, the later_at_list
and camera lists are taken from the old state, preventing unexpected changes.</p>
<p>The <code class="xref std std-tpref docutils literal notranslate"><span class="pre">gl_depth</span></code> property now causes Ren'Py to use GL_LEQUALS,
which more closely matches Ren'Py's semantics.</p>
<p>The 4-component constructor for matrices has been fixed.</p>
<p>Ren'Py now cleans out the android build directories when producing a Android
App Bundle (AAB) file, preventing problems that might be caused when packaging
multiple games, or a single game where files are deleted.</p>
<p>Live2d now properly handles seamless animation when the same motion is repeated
in a displayable. (For example, <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">eileen</span> <span class="pre">m1</span> <span class="pre">m1</span> <span class="pre">m2</span></code> where <code class="docutils literal notranslate"><span class="pre">m1</span></code> is seamless.)</p>
<p>Mouse motion is now tracked on Chrome OS devices. This prevents the mouse cursor
from being hidden between clicks.</p>
<p>An issue with windows partially rendering on ChromeOS has been resolved.</p>
<p>An issue with transcludes in screens has been fixed.</p>
<p>An issue that could prevent a transform with both <a class="reference internal" href="3dstage.html#transform-property-perspective"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">perspective</span></code></a> and
<a class="reference internal" href="model.html#transform-property-mesh"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">mesh</span></code></a> true from displaying has been fixed.</p>
<p>Buttons now only propagate transform state to direct children, not to
children accessed through ImageReferences.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">repeat_</span></code> modifier can now be applied to gamepad events.</p>
<p>A new <a class="reference internal" href="config.html#var-config.debug_prediction"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.debug_prediction</span></code></a> variable has been split out of
<a class="reference internal" href="config.html#var-config.debug_image_cache"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.debug_image_cache</span></code></a>. This controls the logging of
prediction errors to the console and log.txt, making the latter
variable act as documented.</p>
</section>
<section id="id50">
<h3>Translations<a class="headerlink" href="#id50" title="Link to this heading"></a></h3>
<p>The German, Indonesian, Polish, and Russian translations have been updated.</p>
</section>
</section>
<section id="renpy-7-4-10">
<span id="id51"></span><h2>7.4.10<a class="headerlink" href="#renpy-7-4-10" title="Link to this heading"></a></h2>
<section id="id52">
<h3>Fixes<a class="headerlink" href="#id52" title="Link to this heading"></a></h3>
<p>This released fixes an issue that prevented large images (larger than
maximum texture size, 4096x4069 on most platforms) from being displayed
by the gl2 renderer.</p>
<p>Dialogue lines that end with the {nw} tag now do not wait for voice to
finish.</p>
<p>Dialogue lines that contain {fast} (including those created
with the <code class="docutils literal notranslate"><span class="pre">extend</span></code> character) sustain the voice from the previous
statement.</p>
<p>These supplement a change introduced in 7.4.9 (that missed the changelog),
where timed {w} and {p} text tags will no longer wait for voice to stop
playing before advancing.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-focus_mask"><code class="xref std std-propref docutils literal notranslate"><span class="pre">focus_mask</span></code></a> property can be slow, but several changes to
have been included to fix pathological cases of slowness. While it's best
to avoid it if possible (the default will change to None for drags, where
it's True now, in 7.5), this should allow for some speedups where it is
True.</p>
<p>Live2D support no longer logs to log.txt by default. That logging can be
restored with <a class="reference internal" href="live2d.html#var-config.log_live2d_loading"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.log_live2d_loading</span></code></a>.</p>
<p>A problem with automatically determining the Android store has been fixed.</p>
</section>
<section id="id53">
<h3>Translations<a class="headerlink" href="#id53" title="Link to this heading"></a></h3>
<p>The Indonesian and Polish translations were updated.</p>
</section>
</section>
<section id="renpy-7-4-9">
<span id="id54"></span><h2>7.4.9<a class="headerlink" href="#renpy-7-4-9" title="Link to this heading"></a></h2>
<section id="id55">
<h3>Android<a class="headerlink" href="#id55" title="Link to this heading"></a></h3>
<p>This release features major changes to Ren'Py's Android support, starting
with support for the Android App Bundle format, now required for your game
to be uploaded to Google Play.</p>
<p>As bundles use different signing keys than APKs, it will be necessary to
uninstall and reinstall the game when switching from APKs to Bundles
for testing.</p>
<p>When run on Google Play, Ren'Py will use Play Asset Delivery to deliver
the game data to the player's device. This should have the same 2 GB limit
of previous versions of Ren'Py, with each file in your game automatically
assigned to one of four 500 MB asset packs. If the games is started before
all of the asset packs have been delivered, Ren'Py will wait for delivery
to finish before starting.</p>
<p>A new android-downloading.jpg file is used in place of android-presplash.jpg
when Play Asset Delivery is downloading the game's assets. This screen is
overlayed with a progress bar.</p>
<p>Ren'Py still supports building 2GB APKs that can be sideloaded onto devices,
and supplied to other app stores.</p>
<p>Ren'Py now builds against version 30 of the Android SDK.</p>
<p>Ren'Py supports wireless debugging on Android 11 devices.</p>
<p>A number of questions have been removed from the Android configuration
process, simplifying the process. Most notably, Ren'Py now automatically
manages the numeric version of the package, so it's no longer required to
increment that version with each build.</p>
<p>Ren'Py will now look for archives in the external files directory, and
automatically use the archives if found. This makes it possible to
distribute patches, updates, and additional asset to users.</p>
<p>The inclusion of <a class="reference internal" href="android.html#pyjnius"><span class="std std-ref">Pyjnius</span></a>, a library for calling
the Android API, is now documented.</p>
<p>The new <a class="reference internal" href="android.html#var-build.android_permissions"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.android_permissions</span></code></a> variable, <a class="reference internal" href="android.html#renpy.check_permission" title="renpy.check_permission"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.check_permission()</span></code></a>
function, and <a class="reference internal" href="android.html#renpy.request_permission" title="renpy.request_permission"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.request_permission()</span></code></a> function provide a way to
request permissions on Android beyond those that Ren'Py users itself.</p>
<p>When creating Android keys, Ren'Py will back them up to the same place it
backs up script files. This isn't a substitute for making your own backups.</p>
<p>An issue that could cause black screenshots on Android and other platforms has
been (hopefully) fixed.</p>
<p>The permissions of saves and log.txt are now explicitly managed on Android
to make these files group-readable, ensuring the player can access logs and
files.</p>
</section>
<section id="ios">
<h3>iOS<a class="headerlink" href="#ios" title="Link to this heading"></a></h3>
<p>The iOS build process has been updated create a project that is more complete
after the initial generation, with the launch screen set up and no unused
schemas.</p>
<p>As always, it's necessary to create a new iOS project each time Ren'Py is
updated.</p>
<p>The inclusion of <a class="reference internal" href="ios.html#pyobjus"><span class="std std-ref">Pyobjus</span></a> with Ren'Py is now documented. The
Pyobjus library allows games to call APIs on iOS and macOS.</p>
</section>
<section id="id56">
<h3>Updater<a class="headerlink" href="#id56" title="Link to this heading"></a></h3>
<p>The Ren'Py updater has been improved. It is now possible to download
updates over https, though doing so is less efficient, as the entire
update file will need to be download rather than just the required
changes.</p>
<p>It is possible to opt into a daily check for updates in the launcher
preferences. This will cause Ren'Py to check once a day for updates,
and highlight the update button if one exists.</p>
</section>
<section id="camera-perspective-improvements">
<h3>Camera/Perspective Improvements<a class="headerlink" href="#camera-perspective-improvements" title="Link to this heading"></a></h3>
<p>Using the <code class="docutils literal notranslate"><span class="pre">camera</span></code> statement in non-trivial manners, such as to apply
perspective, could cause problems with several transitions, most notably
the move transitions. This has been fixed, and so these transitions should
work.</p>
<p>Operations that required the taking of a subsurface (for
example, the slide and wipe transitions, or the use of viewports) didn't
work when applied to a perspective transform. This has been fixed, but
it does require a render to texture operation to work, leaving it up
to the creator to decide if the performance penalty is desirable.</p>
</section>
<section id="id57">
<h3>Accessibility<a class="headerlink" href="#id57" title="Link to this heading"></a></h3>
<p>The shift+A Accessibility menu now supports enabling high contrast text, which
converts all text to light-on-black. This is intended to assist player who
need higher contrast to experience a game.</p>
<p>Descriptive text (the <a class="reference internal" href="self_voicing.html#var-alt"><code class="xref std std-var docutils literal notranslate"><span class="pre">alt</span></code></a> character) no longer causes the dialogue
window to fade in if the descriptive text is disabled.</p>
<p>The order in which self-voicing reads out layers, screens, and displayables
directly on a layer has changed, such that the screen and displayables that
are drawn last (closest to the player) are read out first. This does not
apply to displayables within a screen or layout displayable, which are
still read first to last.</p>
<p>Modal screens cause self-voicing to stop after the contents of the screen
has been read.</p>
</section>
<section id="transform-properties">
<h3>Transform Properties<a class="headerlink" href="#transform-properties" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="transform_properties.html#transform-property-xsize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xsize</span></code></a> and <a class="reference internal" href="transform_properties.html#transform-property-ysize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">ysize</span></code></a> transform properties have slightly changed
in behavior, to match the corresponding style properties. While they used to
accept only numbers of pixels, they now take &quot;position&quot; values, which means
either a number of pixels expressed as an <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">absolute</span></code>, or a fraction
of the available room expressed as a <code class="docutils literal notranslate"><span class="pre">float</span></code>. The old wrapper, <a class="reference internal" href="transform_properties.html#transform-property-size"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">size</span></code></a>,
is deprecated, and the new wrapper, <a class="reference internal" href="transform_properties.html#transform-property-xysize"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xysize</span></code></a>, should be used instead.</p>
</section>
<section id="id58">
<h3>Other<a class="headerlink" href="#id58" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="screens.html#sl-bar"><span class="std std-ref">bar</span></a> screen language statement now has a new property,
<cite>released</cite>, that gives an action to perform when the bar is released.</p>
<p>It's now documented that the <a class="reference internal" href="screens.html#sl-key"><span class="std std-ref">key</span></a> screen language statement
can take a list of keysyms.</p>
<p>On Linux, if Ren'Py detects the &quot;C&quot; locale, it will enable support for
UTF-8 filesystems. This is intended to provide better compatibility with
Steam Linux, which uses this locale.</p>
<p>A new Polish translation of the launcher has been added.</p>
<p>The music room has been updated to include a TogglePause button,
that pauses and unpauses music.</p>
<p>There is now a --safe-mode flag, that starts Ren'Py in safe mode.</p>
<p>Mute now mutes movies.</p>
<p>An issue that caused analysis files to grow unconstrained, slowing down
Ren'Py startup, has been fixed. The analysis file will be reduced in size
when the game scripts are recompiled.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-hover_sound"><code class="xref std std-propref docutils literal notranslate"><span class="pre">hover_sound</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-activate_sound"><code class="xref std std-propref docutils literal notranslate"><span class="pre">activate_sound</span></code></a> properties now
apply to bars.</p>
<p>When dispatching events in ATL, if an event with a <code class="docutils literal notranslate"><span class="pre">selected_</span></code> prefix is not
handled, the prefix is stripped and the event is matched again. This means
that a <code class="docutils literal notranslate"><span class="pre">hover</span></code> handler will handle the <code class="docutils literal notranslate"><span class="pre">selected_hover</span></code> even if the
<code class="docutils literal notranslate"><span class="pre">selected_hover</span></code> handler does not exist, and same thing with <code class="docutils literal notranslate"><span class="pre">selected_idle</span></code></p>
<p>Ren'Py versions can now include an optional letter at the end. The <code class="docutils literal notranslate"><span class="pre">n</span></code> suffix
is applied to nightly builds of Ren'Py, while the <code class="docutils literal notranslate"><span class="pre">u</span></code> suffix is applied to
unofficial builds.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">default</span></code> statement is applied after each rollback.</p>
<p>A regression that could prevent text in buttons from changing has been fixed.</p>
</section>
</section>
<section id="renpy-7-4-8">
<span id="id59"></span><h2>7.4.8<a class="headerlink" href="#renpy-7-4-8" title="Link to this heading"></a></h2>
<section id="id60">
<h3>Fixes<a class="headerlink" href="#id60" title="Link to this heading"></a></h3>
<p>This fixes a major problem that could cause rollback to corrupt lists,
dictionaries, sets, and objects. Everyone that uses 7.4.7 is recommended
to upgrade.</p>
<p>A crash that could be caused by non-integer outlines has been fixed.</p>
<p>The correct size of a viewport is used for edge and mouse wheel scrolling.</p>
<p>Game controller detection has been fixed.</p>
</section>
<section id="id61">
<h3>Features<a class="headerlink" href="#id61" title="Link to this heading"></a></h3>
<p>It is now possible, using <code class="xref py py-func docutils literal notranslate"><span class="pre">PauseAction()</span></code> or <a class="reference internal" href="audio.html#renpy.music.set_pause" title="renpy.music.set_pause"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.music.set_pause()</span></code></a>,
to pause a channel that's playing video.</p>
<p>The default channel for movies can now be set with <a class="reference internal" href="config.html#var-config.single_movie_channel"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.single_movie_channel</span></code></a>.</p>
</section>
<section id="id62">
<h3>Changes<a class="headerlink" href="#id62" title="Link to this heading"></a></h3>
<p>When in developer mode, errors parameterizing an image will be reported to
the developer, rather than causing a placeholder (the gray ghost girl) to
appear.</p>
<p>The text window will not be shown before being hidden by the <code class="docutils literal notranslate"><span class="pre">centered</span></code>
and <code class="docutils literal notranslate"><span class="pre">vcentered</span></code> characters.</p>
<p>Rolling back to a place where the shift+O console caused a change in the
state of the game will not cause the effects of the console to be reverted.
Rolling back one step further will.</p>
</section>
</section>
<section id="renpy-7-4-7">
<span id="id63"></span><h2>7.4.7<a class="headerlink" href="#renpy-7-4-7" title="Link to this heading"></a></h2>
<section id="web-and-web-audio">
<h3>Web and Web Audio<a class="headerlink" href="#web-and-web-audio" title="Link to this heading"></a></h3>
<p>The way that the web platform plays audio has been rewritten. Instead of
using ffmpeg as Ren'Py does on other platform, the web version of Ren'Py
will hand sound files off to the browser's builtin audio player. This
is often multithreaded, and so prevents the skipping and crackling that
had been occurring with the web port.</p>
<p>The file formats that are supported on the web platform are now the
formats supported in browsers. This is Opus, Ogg, and MP3 in modern
web browsers, and just MP3 in Safari. (But see the Safari issues
below.)</p>
<p>The new <a class="reference internal" href="config.html#var-config.audio_filename_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.audio_filename_callback</span></code></a> makes it possible to
adjust audio filenames on play, on the web and on other platforms.</p>
<p>Self-voicing, with the 'v' key, now works on the web platform if the
browser supports it.</p>
<p>Support for Ren'Py is limited on webkit-based browsers, due to
<a class="reference external" href="https://bugs.webkit.org/show_bug.cgi?id=227421">https://bugs.webkit.org/show_bug.cgi?id=227421</a> . This seems to affect
Safari on macOS, especially the M1, as well all web browsers on iOS. As there
is no way to fix this issue in Ren'Py, the web shell has been modified to
report the issue.</p>
</section>
<section id="id64">
<h3>iOS<a class="headerlink" href="#id64" title="Link to this heading"></a></h3>
<p>The iOS build is now compiled with a more modern version of Clang, allowing
it to run on the 12th generation iPhone and 2nd generation iPhone SE without
the pillarboxing (or worse, both pillarboxing and letterboxing) that
would otherwise be required.</p>
<p>Ren'Py can compile for the iOS simulator on M1 macs, but the simulator itself
may cause runtime issues.</p>
</section>
<section id="input">
<h3>Input<a class="headerlink" href="#input" title="Link to this heading"></a></h3>
<p>The input displayable now supports a number of new quality of life
features. Specifically, the following new features now work:</p>
<ul class="simple">
<li><p>Jumping a word to the left. (Ctrl-Left, Alt-Left on Macintosh.)</p></li>
<li><p>Jumping a word to the right. (Ctrl-Right, Alt-Right on Macintosh.)</p></li>
<li><p>Deleting a word. (Ctrl-Backspace, Alt-Backspace on Macintosh.)</p></li>
<li><p>Deleting the line. (Windows-Backspace, Command-Backspace on Macintosh.)</p></li>
</ul>
<p>In addition, Command-Left and Command-Right on Macintosh now navigate to
the start and end of the line, in addition to the usual Home and End keys.</p>
<p>The input caret now blinks to draw attention. The blink rate is
controlled by the <a class="reference internal" href="config.html#var-config.input_caret_blink"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.input_caret_blink</span></code></a> variable.</p>
</section>
<section id="id65">
<h3>Other<a class="headerlink" href="#id65" title="Link to this heading"></a></h3>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">Preferences()</span></code> function can now return actions that allow
access to the renderer and accessibility menus.</p>
<p>The new <a class="reference internal" href="screen_python.html#renpy.set_focus" title="renpy.set_focus"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.set_focus()</span></code></a> function makes it possible to set
the focused displayable, though mouse motions might immediately
change the focus.</p>
<p>In layered images, transform properties given to attributes now take
precedence to those given in groups. Previously, it was possible for
the attributes to conflict, such as when <a class="reference internal" href="transform_properties.html#transform-property-align"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">align</span></code></a> was given to the group
and <a class="reference internal" href="transform_properties.html#transform-property-xalign"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xalign</span></code></a> was given to the attribute.</p>
<p>It is now possible to roll back past variables set in the console.</p>
<p>The new <code class="xref py py-func docutils literal notranslate"><span class="pre">mark_label_seen()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">mark_label_unseen()</span></code> make it
possible to manipulate the set of seen labels.</p>
<p>The new <code class="xref py py-func docutils literal notranslate"><span class="pre">mark_audio_seen()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">mark_audio_unseen()</span></code> make it
possible to manipulate the set of seen audio files.</p>
<p>The new <code class="xref py py-func docutils literal notranslate"><span class="pre">mark_image_seen()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">mark_image_unseen()</span></code> make it
possible to manipulate the set of seen images.</p>
<p>ATL transforms in screens now start when first shown, rather than when the
screen containing the transform is first shown.</p>
<p>The new <a class="reference internal" href="config.html#var-config.autosave_on_input"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.autosave_on_input</span></code></a> variabel controls if autosaving
occurs on input.</p>
<p>Ren'Py will now report an error when a positional argument follows a
keyword argument.</p>
<p>It is now possible to use floating point numbers for <a class="reference internal" href="style_properties.html#style-property-xsize"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xsize</span></code></a> and
<a class="reference internal" href="style_properties.html#style-property-ysize"><code class="xref std std-propref docutils literal notranslate"><span class="pre">ysize</span></code></a>, and have the result be correct. Previously, the floating
point numbers would be applied twice, so a <code class="xref py py-func docutils literal notranslate"><span class="pre">xsize()</span></code> of .5 would
represent 1/4 of the available width, rather than the correct 1/2 as it
does now.</p>
<p>The <a class="reference internal" href="persistent.html#persistent._clear" title="persistent._clear"><code class="xref py py-func docutils literal notranslate"><span class="pre">persistent._clear()</span></code></a> method, which clears persistent data, is now
documented.</p>
<p>The Spanish translation has been updated.</p>
<p>Atom has been updated.</p>
</section>
</section>
<section id="renpy-7-4-6">
<span id="id66"></span><h2>7.4.6<a class="headerlink" href="#renpy-7-4-6" title="Link to this heading"></a></h2>
<section id="camera-statement">
<h3>Camera Statement<a class="headerlink" href="#camera-statement" title="Link to this heading"></a></h3>
<p>There is a new <code class="docutils literal notranslate"><span class="pre">camera</span></code> statement, intended for use with the 3D Stage system.
This statement is similar to the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">layer</span></code> statement, except that the layer
name is not required, and it is not cleared when a <code class="docutils literal notranslate"><span class="pre">scene</span></code> statement is run.</p>
<p>This statement lets you write:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">camera</span><span class="p">:</span>
    <span class="na">perspective</span> <span class="kc">True</span>
</pre></div>
</div>
<p>to enable the 3D State system.</p>
<p>As part of this, the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">layer</span></code> and <code class="docutils literal notranslate"><span class="pre">scene</span></code> statements have been reverted
to their behavior in 7.4.4 and earlier, where the <code class="docutils literal notranslate"><span class="pre">scene</span></code> statement clears
the list of transforms.</p>
</section>
<section id="model-displayable">
<h3>Model Displayable<a class="headerlink" href="#model-displayable" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="model.html#Model" title="Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> displayable serves as a way to create models for
use with the model-based renderer. Right now, the class is able to
create 2D models with multiple textures, making it possible to create
custom transforms that work like some of the built-in transforms do.</p>
<p>This displayable doesn't support 3D, yet, but that's expected in the future.</p>
</section>
<section id="id67">
<h3>Other Improvements<a class="headerlink" href="#id67" title="Link to this heading"></a></h3>
<p>The Atom text editor has been updated, and the language-renpy plugin associated
with it has been updated to support the new keywords introduced in recent
versions of Ren'Py.</p>
<p>Using a controller immediately hides the mouse cursor.</p>
</section>
<section id="id68">
<h3>Fixes<a class="headerlink" href="#id68" title="Link to this heading"></a></h3>
<p>A mistake in the build process meant that a change to fix compilation
on iOS that had been in the nightly didn't make it into the Ren'Py
release.</p>
<p>An issue where a modal screen would not block time events when the Ren'Py
window lost focus has been fixed.</p>
<p>The number of iterations of the blur shader has been limited, which ensures
that Ren'Py is compatible with more webgl devices.</p>
<p>Ren'Py will re-compile the Python files in the renpy/ directory, when the
Force Recompile option is checked. This ensures that if those files are
recompiled for some reason, the path to Ren'Py on the creator's system
will not be included.</p>
<p>ATL will now skip to the first frame to be displayed when using the animation
timebase.</p>
<p>Ren'Py will no longer pauses without timeouts after a rollback.</p>
</section>
</section>
<section id="renpy-7-4-5">
<span id="id69"></span><h2>7.4.5<a class="headerlink" href="#renpy-7-4-5" title="Link to this heading"></a></h2>
<section id="model-based-renderer">
<h3>Model-Based Renderer<a class="headerlink" href="#model-based-renderer" title="Link to this heading"></a></h3>
<p>The model-based renderer is now the default for games that are released
with Ren'Py 7.4.5. To disable it for your game, please set <code class="xref std std-var docutils literal notranslate"><span class="pre">config.gl2</span></code>
to False.</p>
<p>When the model-based renderer is being used, Ren'Py now supports a &quot;3D Stage&quot;.
This adds a third dimension to shown images, allowing for perspective correct
zooming and motion, the rotation and translation of displayables in 3D,
and many other new effects. Please see the <a class="reference internal" href="3dstage.html"><span class="doc">3D Stage</span></a>
documentation for more information.</p>
<p>To facilitate the 3D Stage, the <code class="docutils literal notranslate"><span class="pre">scene</span></code> statement no longer clears
transforms applied to a layer as a whole with <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">layer</span></code> or
<code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.layer_at_list()</span></code>.</p>
<p>The new <a class="reference internal" href="transitions.html#Swing" title="Swing"><code class="xref py py-func docutils literal notranslate"><span class="pre">Swing()</span></code></a> transition is usable when the model-based renderer
is enabled. This causes the scene to rotate around the vertical or horizontal
axis, in three dimensions, and to be replaced with a previous scene.</p>
<p>The new <a class="reference internal" href="model.html#transform-property-blend"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">blend</span></code></a> transform property allows the blend function to be
specified. The blend function controls how a pixel being drawn is combined
to the pixel it is being drawn to.In addition to the &quot;normal&quot; and &quot;add&quot; blend
functions that Ren'Py already supported, new &quot;multiply&quot;, &quot;min&quot;, and &quot;max&quot; functions
have been added.</p>
</section>
<section id="mouse">
<h3>Mouse<a class="headerlink" href="#mouse" title="Link to this heading"></a></h3>
<p>There have been a number of changes and improvements to the hardware mouse
support, and it's now documented that GPUs have limits to the size of the
hardware mouse that can be supported.</p>
<p>A new variable <a class="reference internal" href="config.html#var-config.mouse_displayable"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse_displayable</span></code></a> and displayable,
<a class="reference internal" href="mouse.html#MouseDisplayable" title="MouseDisplayable"><code class="xref py py-func docutils literal notranslate"><span class="pre">MouseDisplayable()</span></code></a>, now can be used to replace the hardware mouse
with a software one, similar to the way it was done in Ren'Py 7.3 and
earlier.</p>
</section>
<section id="id70">
<h3>Features<a class="headerlink" href="#id70" title="Link to this heading"></a></h3>
<p>A new function, <a class="reference internal" href="screenshot.html#renpy.screenshot_to_bytes" title="renpy.screenshot_to_bytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.screenshot_to_bytes()</span></code></a>, takes a screenshot
and stores it in a bytes object that can be passed to <a class="reference internal" href="im.html#im.Data" title="im.Data"><code class="xref py py-func docutils literal notranslate"><span class="pre">im.Data()</span></code></a>.
While these objects are large, it is possible to store them in regular
and persistent saves.</p>
<p>The new <a class="reference internal" href="audio.html#renpy.music.get_loop" title="renpy.music.get_loop"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.music.get_loop()</span></code></a> function returns a list of sound
files that are set to be looped on a channel, making it possible to
store and replay them.</p>
<p>The <a class="reference internal" href="input.html#renpy.input" title="renpy.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.input()</span></code></a> function and the input displayable take a new
<cite>mask</cite> parameter, that specifies a string that masks out characters
that would be shown to the player. This can be used to hide the text
of a password.</p>
<p>There is now a dark theme for the launcher.</p>
<p>The new <a class="reference internal" href="config.html#var-config.adjust_attributes"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.adjust_attributes</span></code></a> callback allows you to intercept
image attributes when show, and replace them with a list of your own.
For example, it's possible to use this to rewrite <code class="docutils literal notranslate"><span class="pre">eileen</span> <span class="pre">happy</span></code>
to <code class="docutils literal notranslate"><span class="pre">eileen</span> <span class="pre">happy_eyes</span> <span class="pre">happy_mouth</span></code>, which interacts well with
LayeredImage.</p>
<p>When running lint from the command line, the <code class="docutils literal notranslate"><span class="pre">--error-code</span></code> option can
be given to cause Ren'Py to return with an error code if lint fails.</p>
<p>Layer transitions can now persist past the end of an interaction.</p>
<p>Ren'Py avoids pausing right after a rollback, so that the rollback tries
to finish at a more interactive statement.</p>
<p>When playing a sound, it is possible to sync the start time of an audio
file in one channel with the time of the audio file in another channel.</p>
</section>
<section id="id71">
<h3>Android<a class="headerlink" href="#id71" title="Link to this heading"></a></h3>
<p>Several packages that are required to build on Android are now included
as part of Ren'Py. This fixes errors that are related to Bintray being
shut down, that prevented new installs of Ren'Py 7.4.4 from being able
to build for Android.</p>
<p>The way Ren'Py displays the presplash screen on Android has been
changed. The presplash is now displayed by the Java bootstrap, in
a new layer on top of the OpenGL layer. This is a new approach
compared to Ren'Py 7.4, where the presplash was displayed using SDL's
2D rendering. This change appears to improve compatibility with Android
devices, and prevent instances of black screens on start.</p>
<p>As part of this change, the way Ren'Py scales the presplash image has
been changed. Ren'Py will now scale-to-fit the presplash image inside
the available area.</p>
<p>An issue that prevented blur from working properly on certain Android
devices has been fixed.</p>
<p>An issue playing some less-used video and audio file formats on Android
has been fixed.</p>
<p>The Android fixes will require you to regenerate your Android project,
by answering the Android Configuration question &quot;Do you want to automatically
update the Java source code?&quot; with &quot;Yes.&quot;</p>
</section>
<section id="other-platforms">
<h3>Other Platforms<a class="headerlink" href="#other-platforms" title="Link to this heading"></a></h3>
<p>The Web Platform beta has been updated.</p>
<p>A regression in Mobile Safari for iOS 14.5.1 and later prevents Ren'Py from
starting on that platform. As the issue is with Mobile Safari, no workaround
is possible, and a message is displayed prompting the player to contact
Apple. This regression affects other iOS browsers that are shells for Mobile
Safari, like Chrome and Firefox.</p>
<p>Building for iOS has been fixed.</p>
<p>Support for Steam on macOS has been fixed.</p>
<p>Signing and Notarizing macOS applications has been fixed.</p>
</section>
<section id="id72">
<h3>Other Fixes<a class="headerlink" href="#id72" title="Link to this heading"></a></h3>
<p>The default level-of-detail bias has been set to -0.5, and can be changed
with <a class="reference internal" href="config.html#var-config.gl_lod_bias"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.gl_lod_bias</span></code></a>. This is used to bias Ren'Py into scaling
down, rather than scaling up, but the previous bias would cause Ren'Py
to create jagged edges on images.</p>
<p>There have been a number of improvements to the way Ren'Py handles
modal screens.</p>
</section>
</section>
<section id="renpy-7-4-4">
<span id="id73"></span><h2>7.4.4<a class="headerlink" href="#renpy-7-4-4" title="Link to this heading"></a></h2>
<section id="the-old-game-directory">
<h3>The old-game directory<a class="headerlink" href="#the-old-game-directory" title="Link to this heading"></a></h3>
<p>To help creators that make multiple releases of their games (as with
early access or Patreon releases), Ren'Py now supports an old-game directory,
which can be a copy of the game directory from the previous release. Ren'Py
will use the information found in the .rpyc files in this directory when it
generates .rpyc files. As the .rpyc files are used when loading games,
this will tend to help Ren'Py load games created by multiple
developers.</p>
<p>For more information, see the <a class="reference internal" href="build.html#old-game"><span class="std std-ref">documentation</span></a>.</p>
</section>
<section id="id74">
<h3>Fixes<a class="headerlink" href="#id74" title="Link to this heading"></a></h3>
<p>A crash that could occur with gestures or controllers has been fixed.</p>
<p>A crash that occurred when generating web distributions on windows has
been fixed.</p>
<p>The persistent backend for achievements now supports the clearing of
progress.</p>
<p>Live2D now resets opacities with other parameters.</p>
<p>Ren'Py does not change the size of a maximized window when reloading.</p>
</section>
<section id="id75">
<h3>Other<a class="headerlink" href="#id75" title="Link to this heading"></a></h3>
<p>There is a new GL property, <code class="docutils literal notranslate"><span class="pre">blend_func</span></code> that is supported by the
model-based renderer. This allows the customization of the GL blend
function, allowing Ren'Py to start to support new blend modes.</p>
<p>Live2D now supports the additive and multiply blend modes.</p>
<p>Using default or define with the <code class="docutils literal notranslate"><span class="pre">renpy</span></code> namespace will now produce an
error.</p>
<p>A number of previously-undocumented methods on the <a class="reference internal" href="preferences.html"><span class="doc">preferences object</span></a>
have been documented. These methods make it possible to get or set the current value
of the volume and the current value of mute.</p>
</section>
</section>
<section id="renpy-7-4-3">
<span id="id76"></span><h2>7.4.3<a class="headerlink" href="#renpy-7-4-3" title="Link to this heading"></a></h2>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Link to this heading"></a></h3>
<p>The code for changing icons has been rewritten, to produce executables that
do not include any extraneous data other than the software and the icons
being added. This should prevent some antivirus programs from producing
false positives.</p>
<p>Ren'Py is now linked against the Universal C Runtime on Windows. This
may raise the version of Windows that Ren'Py runs on to Windows Vista
with certain hotfixes. This both modernizes Ren'Py, and should prevent
some antivirus programs from producing false positives.</p>
<p>Ren'Py will now disable Threaded Optimization on Nvidia GPUs. Threaded
Optimization interacted poorly with Ren'Py, causing pauses in places where
Ren'Py did not expect pauses to occur. This could manifest as audio glitches
that this change fixes.</p>
<p>Ren'Py will automatically use the ANGLE library to emulate OpenGL ES using
DirectX, if DirectX is available and OpenGL is not. This had not worked
properly in Ren'Py 7.4. The window may appear and disappear multiple times
as Ren'Py tries different video systems, this is expected.</p>
</section>
<section id="id77">
<h3>Android<a class="headerlink" href="#id77" title="Link to this heading"></a></h3>
<p>The non-model-based renderer now properly deallocates textures when Android
causes a render context to change. This prevents visual glitches that would
randomly occur, often during Dissolves.</p>
<p>Ren'Py now checks that it has focus when the game actually starts. This
fixes an issue where, if the player switched out of the application before
the game could fully start. Now, if Ren'Py has lost focus at game start,
it will save and quit, then re-launch when the player returns to the game.</p>
<p>In general, compatibility with Android devices has been improved.</p>
</section>
<section id="id78">
<h3>Features<a class="headerlink" href="#id78" title="Link to this heading"></a></h3>
<p>Added <a class="reference internal" href="config.html#var-config.main_menu_music_fadein"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.main_menu_music_fadein</span></code></a>, a way of fading in the main
menu music.</p>
<p>The new <a class="reference internal" href="displaying_images.html#renpy.get_zorder_list" title="renpy.get_zorder_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_zorder_list()</span></code></a> and <a class="reference internal" href="displaying_images.html#renpy.change_zorder" title="renpy.change_zorder"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.change_zorder()</span></code></a> allow
the zorder of images and screens to be manipulated after being shown.</p>
<p>Windows and frames can now take the <a class="reference internal" href="style_properties.html#style-property-modal"><code class="xref std std-propref docutils literal notranslate"><span class="pre">modal</span></code></a> style property. This is
similar to the modal property of screens, but only applies when the mouse
is within the boundaries of the window or frame. This can be used to ensure
the player can't click a button behind the window, while allowing buttons
that are not obstructed to be used.</p>
<p>The <a class="reference internal" href="live2d.html#Live2D" title="Live2D"><code class="xref py py-func docutils literal notranslate"><span class="pre">Live2D()</span></code></a> displayable now takes an <cite>update_function</cite> parameter,
which makes it possible to update parameters directly.</p>
<p>Ren'Py now supports the display of Emoji and other characters from outside
the Basic Multilingual Plane, if the fonts in use support the characters.
Right now, the emoji are displayed using the font rendering system, which
produces monochrome glyphs.</p>
<p>The <a class="reference internal" href="text.html#FontGroup" title="FontGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FontGroup</span></code></a> class can now be used to remap characters inside
a font.</p>
<p>Displayables in the mask portion of a <a class="reference internal" href="displayables.html#AlphaMask" title="AlphaMask"><code class="xref py py-func docutils literal notranslate"><span class="pre">AlphaMask()</span></code></a> are now focusable,
allowing new effects.</p>
<p>The player can now choose to ingore image files that cannot be loaded.</p>
<p>The new <a class="reference internal" href="other.html#renpy.get_sdl_dll" title="renpy.get_sdl_dll"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_sdl_dll()</span></code></a> and <a class="reference internal" href="other.html#renpy.get_sdl_window_pointer" title="renpy.get_sdl_window_pointer"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_sdl_window_pointer()</span></code></a>
functions make it possible to access the SDL DLL using ctypes. This may
make it possible to implement functionality that is in SDL, but Ren'Py
does not provide access to.</p>
<p>Clicking now ends a transition introduced with <a class="reference internal" href="other.html#renpy.transition" title="renpy.transition"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.transition()</span></code></a>,
or statements that have a <code class="docutils literal notranslate"><span class="pre">with</span></code> clause.</p>
<p><a class="reference internal" href="translation.html#renpy.translate_string" title="renpy.translate_string"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.translate_string()</span></code></a> is now a documented function that provides
the ability to translate a string to a selected language.</p>
<p>It is now possible to create a <code class="docutils literal notranslate"><span class="pre">hide_windows</span></code> label, that provides a way
to customize the hiding of windows that occurs when middle-clicking or
pressing the h key.</p>
<p>New properties, like the <a class="reference internal" href="model.html#transform-property-mesh_pad"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">mesh_pad</span></code></a> transform property
and the <code class="docutils literal notranslate"><span class="pre">gl_pixel_perfect</span></code> gl property, make it possible to
perform pixel perfect rendering after applying a shader to text.</p>
<p>The <a class="reference internal" href="input.html#renpy.input" title="renpy.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.input()</span></code></a> function now takes properties beginning with
<code class="docutils literal notranslate"><span class="pre">show_</span></code>, that are passed to the <code class="docutils literal notranslate"><span class="pre">input</span></code> screen.</p>
<p>The <a class="reference internal" href="color_class.html#Color" title="Color"><code class="xref py py-class docutils literal notranslate"><span class="pre">Color</span></code></a> class now has an rgba property, that returns an
rgba tuple.</p>
</section>
<section id="old-features">
<h3>Old Features<a class="headerlink" href="#old-features" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="store_variables.html#var-default_mouse"><code class="xref std std-var docutils literal notranslate"><span class="pre">default_mouse</span></code></a> variable was introduced in Ren'Py 7.4, as a way
to allow the mouse cursor to be changed without changing <a class="reference internal" href="config.html#var-config.mouse"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse</span></code></a>
at runtime, as changing config variables at runtime isn't supported.</p>
</section>
<section id="id79">
<h3>Other Fixes<a class="headerlink" href="#id79" title="Link to this heading"></a></h3>
<p>An issue that prevented multiple modal screens from being processed correctly
has been fixed. This would manifest as focus problems.</p>
<p>Lint now produces files with Windows-style newlines, on Windows.</p>
<p>SDL error messages are decoded using the system encoding on Windows, making
them more readable.</p>
<p>Issues with quoting unicode characters in Python have been fixed.</p>
<p>Values of the <a class="reference internal" href="transform_properties.html#transform-property-blur"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">blur</span></code></a> transform property between 0 and 1 now work properly.</p>
<p>The {done} text tag now works as defined.</p>
<p>Ren'Py is better at checking for GL load failures and falling back to older
libraries.</p>
<p>Apps built for macOS should enable HighDPI mode.</p>
</section>
<section id="id80">
<h3>Translations<a class="headerlink" href="#id80" title="Link to this heading"></a></h3>
<p>The Ren'Py documentation has been translated into both Simplified and
Traditional Chinese, courtesy of 被诅咒的章鱼 and 逆转咸鱼.</p>
<p>The French translations have been updated.</p>
</section>
</section>
<section id="renpy-7-4-2">
<span id="id81"></span><h2>7.4.2<a class="headerlink" href="#renpy-7-4-2" title="Link to this heading"></a></h2>
<section id="fixes-and-changes">
<h3>Fixes and Changes<a class="headerlink" href="#fixes-and-changes" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="config.html#var-config.context_fadeout_music"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.context_fadeout_music</span></code></a> and <a class="reference internal" href="config.html#var-config.context_fadein_music"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.context_fadein_music</span></code></a>
variables make it possible to fade out and in music when a game is loaded or
other context changes cause the music to change.</p>
<p>Ren'Py now searches for Live2D motion and expression files using the
extensions (.motion3.json and .exp3.json), rather than using
directory names.</p>
<p>The new <a class="reference internal" href="build.html#var-build.include_i686"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.include_i686</span></code></a> variable determines if the 32-bit
versions of Ren'Py are included in the build. Not including 32-bit
binaries can reduced download size and prevent overzealous antivirus
programs from incorrectly reporting distributions as infected.</p>
<p>The new <a class="reference internal" href="build.html#var-build.change_icon_i686"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.change_icon_i686</span></code></a> will prevent the icon for the
i686 version from being changed. This may prevent antivirus programs
from incorrect detections.</p>
<p>Ren'Py will no longer disable the screen saver or prevent the
system from going to sleep when a game is running.</p>
<p>A macOS issue with the operating system's fullscreen (invoked using the gree
button) disabling resizing, and hence preventing the window from being
restored to it's normal size, has been resolved.</p>
<p>A crash on raspberry pi displaying a webp image has been fixed.</p>
<p>This release fixes missing files caused by a mistake in the build process:</p>
<ul class="simple">
<li><p>The say.vbs file was missing, preventing self-voicing from working on
Windows.</p></li>
<li><p>Various files required to support ANGLE were missing, which prevented
DirectX rendering from working.</p></li>
</ul>
</section>
<section id="id82">
<h3>Android<a class="headerlink" href="#id82" title="Link to this heading"></a></h3>
<p>There is a known issue with Samsung devices with the magnification shortcut
enabled, where the game may become unresponsive. I'm working on a fix, but
didn't want to delay the release for this.</p>
<p>The detection of the JVM on macOS is more robust, and less likely to
be confused by a browser plug-in.</p>
<p>Ren'Py now recommends the use of AdoptOpenJDK as a source for the
JVM.</p>
</section>
</section>
<section id="renpy-7-4-1">
<span id="id83"></span><h2>7.4.1<a class="headerlink" href="#renpy-7-4-1" title="Link to this heading"></a></h2>
<section id="pause-statement-changes">
<h3>Pause Statement Changes<a class="headerlink" href="#pause-statement-changes" title="Link to this heading"></a></h3>
<p>The behavior of the <code class="docutils literal notranslate"><span class="pre">pause</span></code> statement with a time has changed, so that:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">pause</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>is now equivalent to:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">renpy</span><span class="o">.</span><span class="k">pause</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>and not:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Pause</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>This means that other features that expect a real pause will work during the
pause statement.</p>
<p>Modal screens no longer block the <code class="docutils literal notranslate"><span class="pre">pause</span></code> statement, or <a class="reference internal" href="statement_equivalents.html#renpy.pause" title="renpy.pause"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.pause()</span></code></a>.
this means that a pause can end even if a modal screen is displayed above it.</p>
</section>
<section id="say-statement-id-clause">
<h3>Say Statement Id Clause<a class="headerlink" href="#say-statement-id-clause" title="Link to this heading"></a></h3>
<p>The say statement has now grown an <code class="docutils literal notranslate"><span class="pre">id</span></code> clause, that lets you specify the
old say statement id. This is useful for changing a say statement in the
original language, such as to fix an obvious typo, without needing to
update all the translations.</p>
<p>To use it, just add <code class="docutils literal notranslate"><span class="pre">id</span></code> to the say statement, followed by the
statement id:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="s2">&quot;This used to have a typo.&quot;</span> <span class="na">id</span> <span class="n">start_61b861a2</span>
</pre></div>
</div>
</section>
<section id="id84">
<h3>Live2D<a class="headerlink" href="#id84" title="Link to this heading"></a></h3>
<p>Live2D support has a <cite>default_fade</cite> argument added, which can change the
default duration of fades at the start and end of motions and expressions.</p>
<p>An issue with Live2D that manifested as a tuple error has been fixed.</p>
</section>
<section id="controller-blocklist">
<h3>Controller Blocklist<a class="headerlink" href="#controller-blocklist" title="Link to this heading"></a></h3>
<p>The Nintendo Switch Pro Controller, when connected to a computer by
USB, requires an initialization sequence to be sent to cause it to
act as a Joystick, and not return incorrect data.</p>
<p>Ren'Py 7.4.0 attempted to send this sequence, but doing so required
directly accessing the USB bus, which was causing crashes and long
pauses on some computer. We've decided that this functionality is too
prone to compatibility problems to include in Ren'Py.</p>
<p>As a result, the Switch Pro Controller has been added to a new
controller blocklist, and will not function in Ren'Py.</p>
</section>
<section id="macos">
<h3>macOS<a class="headerlink" href="#macos" title="Link to this heading"></a></h3>
<p>The minimum supported version of macOS is now 10.10 (Yosemite). Ren'Py
7.4 did not run on this version, so this represents a restoration of
support for this version.</p>
<p>Choosing the projects directory was broken on macOS 11.0 (Big Sur).
This has been fixed.</p>
<p>Pyobjus is now part of the macOS build of Ren'Py, in addition to
the iOS build. This library makes it possible to access Cocoa APIs.</p>
</section>
<section id="id85">
<h3>Android<a class="headerlink" href="#id85" title="Link to this heading"></a></h3>
<p>There have been reports that prereleases of Ren'Py 7.4.1 will not run
properly on older Android devices, like the Samsung Galaxy S5. We
are attempting to acquire an example of a device exhibiting the
problem, and will make a new release as required.</p>
</section>
<section id="id86">
<h3>Translations<a class="headerlink" href="#id86" title="Link to this heading"></a></h3>
<p>The Spanish translation has been updated.</p>
</section>
<section id="id87">
<h3>Other Fixes<a class="headerlink" href="#id87" title="Link to this heading"></a></h3>
<p>An issue that could cause crashes on movies of certain sizes when
Ren'Py was run on a computer that supports SSE3 has been fixed.</p>
<p>Movie playback now uses multiple cores for video decoding, as it
did in previous versions of Ren'Py.</p>
<p>An issue that could cause the size of the Ren'Py window to increase
when run on Windows with a non-100% DPI has been fixed.</p>
<p>Ren'Py will no longer give a performance warning when an unsupported
renderer is selected, such as when using the GL or ANGLE renderer on
a game that requires gl2.</p>
<p>An issue that would, in some cases, prevent say attributes from being
shown has been fixed.</p>
<p>An issue preventing MultiPersistent files from working on computers that
do not use UTF-8 at the default file encoding has been fixed.</p>
<p>The flags for compiling Python when <code class="docutils literal notranslate"><span class="pre">rpy</span> <span class="pre">python</span> <span class="pre">3</span></code> is enabled have been
improved.</p>
<p>An issue that prevented triple-quoted strings (like the strings used for
gui.about) from being evaluated correctly has been fixed.</p>
<p>Ren'Py now detects its path during certain reloads.</p>
<p>Ren'Py will determine of all functions a renderer requires can be
dynamically loaded, and will try different renderers if this is not
the case.</p>
<p>Timers that are created after the start of a statement now properly
participate in the rollback system, and will fire if the game rolls
back to a point where the timer has not fired.</p>
<p>Ren'Py now allows the screensaver to activate while a Ren'Py game is
running.</p>
<p>A problem with dynamic variables not remaining dynamic during a rollback
has been fixed.</p>
<p>When given a size, the hbox and vbox displayables now position children
in the same way those children were positioned in Ren'Py 7.4.</p>
<p>The new <a class="reference internal" href="style_properties.html#style-property-mipmap"><code class="xref std std-propref docutils literal notranslate"><span class="pre">mipmap</span></code></a> style property applies to the  <a class="reference internal" href="transitions.html#Dissolve" title="Dissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">Dissolve()</span></code></a>, <a class="reference internal" href="transitions.html#ImageDissolve" title="ImageDissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageDissolve()</span></code></a>,
and <a class="reference internal" href="transitions.html#AlphaDissolve" title="AlphaDissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">AlphaDissolve()</span></code></a> transitions, the <a class="reference internal" href="displayables.html#AlphaMask" title="AlphaMask"><code class="xref py py-func docutils literal notranslate"><span class="pre">AlphaMask()</span></code></a>, <a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-func docutils literal notranslate"><span class="pre">Movie()</span></code></a>, and <a class="reference internal" href="text.html#Text" title="Text"><code class="xref py py-func docutils literal notranslate"><span class="pre">Text()</span></code></a>
displayables, and text in general. This property controls if mipmaps are
generated for the textures created by these displayables. Avoiding creating
mipmaps may improve rendering performance on slower computers, but
can lead to artifacts when scaling down.  When not specified, this property
defaults to <a class="reference internal" href="config.html#var-config.mipmap_dissolves"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mipmap_dissolves</span></code></a>, <a class="reference internal" href="config.html#var-config.mipmap_movies"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mipmap_movies</span></code></a>, or
<a class="reference internal" href="config.html#var-config.mipmap_text"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mipmap_text</span></code></a>, as appropriate.</p>
<p>The toggle version of self-voicing preferences have been changed to
provide a better selected state.</p>
<p>Lint now once again reports statistics by translation.</p>
</section>
</section>
<section id="renpy-7-4">
<span id="id88"></span><h2>7.4.0<a class="headerlink" href="#renpy-7-4" title="Link to this heading"></a></h2>
<section id="id89">
<h3>Model-Based Renderer<a class="headerlink" href="#id89" title="Link to this heading"></a></h3>
<p>This release includes a new model-based renderer, the component of Ren'Py that
is responsible for drawing text and images to the user's display, supplementing
(with the intent of eventually replacing) the original OpenGL renderer added
in Ren'Py 6.10. This renderer takes better advantage of the hardware present
in modern GPUS (both dedicated graphics cards and GPUs integrated into
processors) to improve performance and increase capability. This renderer
supports desktop computers that support either OpenGL 2.2 or DirectX 9.0c or
11, and mobile devices and embedded systems that support OpenGL ES 3.</p>
<p>The biggest change in the model-based renderer is that Ren'Py is no longer
limited to drawing rectangular images in a 2-dimensional plane. Instead,
Ren'Py has been converted to use meshes made up of triangles in a
three-dimensional space. While existing rectangular sprites are
displayed in the same way, this opens up Ren'Py to non-rectangular
meshes, and eventually full three dimensional geometry.</p>
<p>In addition to mesh geometry, model-based renderering supports shaders,
both shaders included with Ren'Py, and shaders specified by creators as
part of their game. Shaders are small programs that run on the GPU, that
can process geometry and pixel data, to allow for all sorts of graphical
effects.</p>
<p>The model-based renderer implements a new fast texture loading system,
which moves an expensive part of texture loading, alpha
premultiplication, from the CPU to the GPU.</p>
<p>The model-based renderer also creates mipmaps for each texture that is loaded
into the GPU. A mipmap is a series of smaller versions of the texture,
stored on the GPU. By creating and utilizing mipmaps, Ren'Py is now able
to shrink images below 50% of the original size, without the appearance
of the aliasing artifacts. This is especially relevant when assets meant
for 4K monitors are used on 1080P and smaller displays.</p>
<p>For this release, the Model-Based Renderer is opt in, with that opt-in
controlled by the <code class="xref std std-var docutils literal notranslate"><span class="pre">config.gl2</span></code> variable. As we gain more experience
with it, it is intended to be come the default Ren'Py renderer.</p>
</section>
<section id="id90">
<h3>Live2D<a class="headerlink" href="#id90" title="Link to this heading"></a></h3>
<p>One of the features enabled by the model-based renderer is support for
displaying sprites made in Live2D. Ren'Py requires you to download Live2D
Cubism separately, as you'll need to execute a contract with Live2D, Inc.
before distributing a game that uses their technology.</p>
<p>Ren'Py supports the display of Live2D models, complete with the ability to
change expression and to queue up one or more motions. This is integrated
into Ren'Py's image attribute system. Ren'Py also supports fading from
one motion to another when an attribute changes.</p>
</section>
<section id="matrixcolor-and-blur">
<h3>Matrixcolor and Blur<a class="headerlink" href="#matrixcolor-and-blur" title="Link to this heading"></a></h3>
<p>The model-based renderer enables new functionality in transforms, such as
matrixcolor and blur.</p>
<p>Transforms (including ATL Transforms) now support a new <a class="reference internal" href="transform_properties.html#transform-property-matrixcolor"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">matrixcolor</span></code></a>
property, which either a matrix or an object that creates a matrix that
changes in time, and uses it to recolor everything that is a child of the
transform.</p>
<p>While previous versions of Ren'Py supported the <a class="reference internal" href="im.html#im.MatrixColor" title="im.MatrixColor"><code class="xref py py-func docutils literal notranslate"><span class="pre">im.MatrixColor()</span></code></a> image
manipulator, the new property is much improved. The image manipulator would
often take a large fraction of a second, making it too slow for real-time use,
and was limited to single images. The new transform property is fast enough
that it can be changed every frame if necessary, and can be applied to
any displayable. It's now possible to apply a Transform using matrixcolor
to a layer, to recolor the entire layer - making it possible to push your
game into sepia or black-and-white without needing a separate set of
images.</p>
<p>There are a few difference between the image manipulator and the
transform property versions of matrixcolor, as the new version uses
4x4 matrices and premultiplied alpha color, so the new property can't
use the same matrices. Instead, there are number of new <a class="reference internal" href="matrixcolor.html#colormatrix"><span class="std std-ref">ColorMatrix</span></a>
objects that need to be used.</p>
<p>Transforms also support a new <a class="reference internal" href="transform_properties.html#transform-property-blur"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">blur</span></code></a> property, which blurs the child
of the displayable by the given number of pixels.</p>
</section>
<section id="python-2-python-3-compatibility-mode">
<h3>Python 2/Python 3 Compatibility Mode<a class="headerlink" href="#python-2-python-3-compatibility-mode" title="Link to this heading"></a></h3>
<p>While Ren'Py is not yet supported on Python 3, this release of Ren'Py
includes several features to allow you to begin writing scripts that will
work on both Python 2 and Python 3.</p>
<p>First, Ren'Py now uses <a class="reference external" href="https://python-future.org/">future</a> to provide
standard library compatibility. It's now possible to import modules using
their Python 3 names, when a renaming has occured.</p>
<p>When a .rpy file begins with the new <code class="docutils literal notranslate"><span class="pre">rpy</span> <span class="pre">python</span> <span class="pre">3</span></code> statement, the file is
compiled in a Python 3 compatibility mode. The two changes this causes are:</p>
<ul class="simple">
<li><p>Ren'Py will compile the file in a mode that attempts to emulate Python 3
semantics, including the change to division. In Python 3, <code class="docutils literal notranslate"><span class="pre">1/2</span></code> is equal
to .5, and not 0. Since this changes the type of the expression,
this can change the position of displayables. <code class="docutils literal notranslate"><span class="pre">1//2</span></code> keeps the original
semantics.</p></li>
<li><p>Ren'Py will change the behavior of dict so that the <code class="docutils literal notranslate"><span class="pre">items</span></code>, <code class="docutils literal notranslate"><span class="pre">keys</span></code>, and
<code class="docutils literal notranslate"><span class="pre">values</span></code> methods return views, rather than lists, when called directly
from that .rpy file. These match the Python 3 semantics for these methods,
but need to be explicitly turned into a list before being saved or participating
in rollback.</p></li>
</ul>
</section>
<section id="upgraded-libraries-and-platform-support">
<h3>Upgraded Libraries and Platform Support<a class="headerlink" href="#upgraded-libraries-and-platform-support" title="Link to this heading"></a></h3>
<p>For Ren'Py 7.4, the build system was redone, replacing the multiple build
systems needed to build Ren'Py with a single build platform that handles
every platform except for webasm. The change in build system also involved
updating all  of the libraries that Ren'Py uses to newer versions.</p>
<p>As a result of this, the list of platforms that Ren'Py officially supports
has changed slightly. Here's the latest list of what is supported:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Platform</p></th>
<th class="head"><p>CPU</p></th>
<th class="head"><p>Note</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Linux</p></td>
<td><p>x86_64</p></td>
<td><p>Raised minimum version to Ubuntu 16.04</p></td>
</tr>
<tr class="row-odd"><td><p>Linux</p></td>
<td><p>i686</p></td>
<td><p>Raised minimum version to Ubuntu 16.04</p></td>
</tr>
<tr class="row-even"><td><p>Linux</p></td>
<td><p>i686</p></td>
<td><p>Raised minimum version to Ubuntu 16.04</p></td>
</tr>
<tr class="row-odd"><td><p>Linux</p></td>
<td><p>armv7l</p></td>
<td><p>Intended to support Raspberry Pi, uses Raspian Buster</p></td>
</tr>
<tr class="row-even"><td><p>Windows</p></td>
<td><p>x86_64</p></td>
<td><p>A new port to 64-bit Windows Vista and later.</p></td>
</tr>
<tr class="row-odd"><td><p>Windows</p></td>
<td><p>i686</p></td>
<td><p>Raised minimum version to Windows Vista.</p></td>
</tr>
<tr class="row-even"><td><p>macOS</p></td>
<td><p>x86_64</p></td>
<td><p>macOS 10.10+</p></td>
</tr>
<tr class="row-odd"><td><p>Android</p></td>
<td><p>armv7a</p></td>
<td><p>Android 4.4 KitKat</p></td>
</tr>
<tr class="row-even"><td><p>Android</p></td>
<td><p>arm64</p></td>
<td><p>Android 5.0 Lollipop</p></td>
</tr>
<tr class="row-odd"><td><p>Android</p></td>
<td><p>x86_64</p></td>
<td><p>Android 5.0 Lollipop</p></td>
</tr>
<tr class="row-even"><td><p>iOS</p></td>
<td><p>arm64</p></td>
<td><p>All 64-bit iOS devices, iOS 11.0+</p></td>
</tr>
<tr class="row-odd"><td><p>iOS</p></td>
<td><p>x86_64</p></td>
<td><p>The 64-bit iOS simulator, iOS 11.0+</p></td>
</tr>
<tr class="row-even"><td><p>Web</p></td>
<td><p>webasm</p></td>
<td><p>Modern web browsers</p></td>
</tr>
</tbody>
</table>
<p>The biggest new platform that Ren'Py supports is the 64-bit Windows
platform, which means that Ren'Py is available in 64-bits on all major
desktop and mobile platforms.  The new <code class="xref std std-var docutils literal notranslate"><span class="pre">renpy.bits</span></code> variable can
be used to determine if Ren'Py is running on a 32 or 64-bit platform,
if necessary. (For example, to set <a class="reference internal" href="config.html#var-config.image_cache_size_mb"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.image_cache_size_mb</span></code></a> appropriately.)</p>
<p>The one platform that loses support in this release is 32-bit (armv7l) iOS
devices. These devices are no longer supported by Apple, and do not support
the level of OpenGL ES that Ren'Py requires.</p>
</section>
<section id="id91">
<h3>Web<a class="headerlink" href="#id91" title="Link to this heading"></a></h3>
<p>Ren'Py now runs significantly faster in the browser, thanks to new
compilation techniques.</p>
<p>A game built for the web platform can now download image and audio
files from the web server as the game is played. The download begins
when the image or sound is predicted. This can reduce the initial time
it takes before the game begins running, as well as memory usage.</p>
<p>When running inside a web browser on a touch-screen device, Ren'Py
will display a touch-based keyboard, to compensate for web browsers
having difficulty displaying keyboard entry for wasm-based games.</p>
<p>The splash screen displayed while loading can use the WebP format,
including animated WebP.</p>
<p>More Python modules are provided, making the Python environment closer
to native Ren'Py ports.</p>
<p>Support for iOS browsers was improved.</p>
</section>
<section id="id92">
<h3>Steam<a class="headerlink" href="#id92" title="Link to this heading"></a></h3>
<p>It is now possible to install Steam support from the Ren'Py launcher, by
choosing &quot;preferences&quot;, &quot;Install libraries&quot;, &quot;Install Steam Support&quot;.</p>
<p>The new <a class="reference internal" href="achievement.html#var-config.steam_appid"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.steam_appid</span></code></a> variable automatically creates the
steam_appid.txt file for you. This needs to be set by a <code class="docutils literal notranslate"><span class="pre">define</span></code> statement,
or in a python early block.</p>
</section>
<section id="id93">
<h3>Translations<a class="headerlink" href="#id93" title="Link to this heading"></a></h3>
<p>The Simplified Chinese, Japanese, and Korean translations have been updated, and now
use a unified font.</p>
<p>There is a new Simplified Chinese translation of the tutorial game, courtesy of
Neoteus.</p>
</section>
<section id="depreciations-and-removals">
<h3>Depreciations and Removals<a class="headerlink" href="#depreciations-and-removals" title="Link to this heading"></a></h3>
<p>As described above, Ren'Py no longer support Windows XP.</p>
<p>As described above, Ren'Py no longer supports 32-bit iOS devices.</p>
<p>The choice of downloading the Editra text editor has been removed from Ren'Py.
Editra hadn't been updated in over 5 years, and the website it was originally
distributed from has disappeared.</p>
<p>While not completely removed, the software renderer has been simplified and
removed as an option for gameplay. Its purposes is now limited to informing
players about issues that prevent display of graphics with a GPU-based
renderer.</p>
</section>
<section id="miscellaneous">
<h3>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Link to this heading"></a></h3>
<p>Support for controllers has been improved. Repeat is now supported
on controllers, and the libraries that Ren'Py uses have been compiled
to support many of the more popular game controllers.</p>
<p>Ren'Py now uses software playback of movies on Android and iOS devices,
meaning the same files can be used on all platforms that support video
playback.</p>
<p>Defining a mouse cursor using <a class="reference internal" href="config.html#var-config.mouse"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.mouse</span></code></a> now uses SDL2's color cursor
API, which generally results in hardware acceleration and reduced mouse movement
lag.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">define</span></code> statement can now be used to set a key in a dictionary.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ren&#39;Py was started in 2004.</span>
<span class="k">define</span> <span class="n">age</span><span class="p">[</span><span class="s2">&quot;eileen&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2020</span> <span class="o">-</span> <span class="mi">2004</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">define</span></code> statement can take += and |=, to apply the appropriate
update operators.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">keymap</span><span class="p">[</span><span class="s1">&#39;dismiss&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">[</span> <span class="s1">&#39;K_KP_PLUS&#39;</span> <span class="p">]</span>

<span class="c1"># This assumes endings is a set.</span>
<span class="k">define</span> <span class="n">endings</span> <span class="o">|=</span> <span class="p">{</span> <span class="s2">&quot;best&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>It is now possible to specify a relative audio channel whenever an
audio is file is played, using the new <code class="docutils literal notranslate"><span class="pre">volume</span></code> clause to <code class="docutils literal notranslate"><span class="pre">play</span></code> and
<code class="docutils literal notranslate"><span class="pre">queue</span></code>.</p>
<p>The new <a class="reference internal" href="transform_properties.html#transform-property-fit"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">fit</span></code></a> property of transforms provides for different ways
of making an image fit size with a different aspect ratio. For example,
it can be scaled to be contained fully within the given size, or to make sure that
it completely covers the given size.</p>
<p>The <a class="reference internal" href="transform_properties.html#transform-property-xpan"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xpan</span></code></a> and <a class="reference internal" href="transform_properties.html#transform-property-ypan"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">ypan</span></code></a> transform properties no longer double
the size of the displayable they are applied to, making them easier to combine
with positioning transform properties.</p>
<p>The <a class="reference internal" href="input.html#renpy.input" title="renpy.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.input()</span></code></a> function can now take regular expressions when determining
what is and is not allowed.</p>
<p>Grids now take <a class="reference internal" href="style_properties.html#style-property-margin"><code class="xref std std-propref docutils literal notranslate"><span class="pre">margin</span></code></a> style properties, that is applied outside the
grid, and inside a containing viewport.</p>
<p>Ren'Py support an {alt} text tag, that causes the text to be spoken during
self-voicing, but not displayed. It also supports a {noalt} text tag that does
the opposite.</p>
<p>The launcher window can now be resized if necessary. A button has been added to
the launcher preferences to restore the default size.</p>
<p>The new <a class="reference internal" href="build.html#var-build.mac_info_plist"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.mac_info_plist</span></code></a> variable makes it easier to customize
the mac app.</p>
<p>The <a class="reference external" href="https://requests.readthedocs.io/en/master/">requests</a> library, is
bundled with Ren'Py, making accessing the web much easier.</p>
<p>Pressing PAUSE on your keyboard brings the player to the game menu, finally
giving that key a function.</p>
</section>
</section>
<section id="renpy-7-3-5">
<span id="id94"></span><h2>7.3.5<a class="headerlink" href="#renpy-7-3-5" title="Link to this heading"></a></h2>
<section id="id95">
<h3>Fixes<a class="headerlink" href="#id95" title="Link to this heading"></a></h3>
<p>On desktop platforms, the presplash screen has been reworked so that it
will not cause the window to become nonresponsive if clicked.</p>
<p>The iOS port has been updated to include modules that have been newly
added to Ren'Py, allowing the compilation of iOS apps.</p>
</section>
<section id="id96">
<h3>Other Changes<a class="headerlink" href="#id96" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">audio</span></code> directory, which automatically defines
names in the <a class="reference internal" href="audio.html#audio-namespace"><span class="std std-ref">audio namespace</span></a>, has been made
visible in the launcher, and is added to newly-created projects.</p>
<p>The new <a class="reference internal" href="config.html#var-config.exception_handler"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.exception_handler</span></code></a> callback allows an application to
replace Ren'Py's exception handling system in its entirety.</p>
</section>
</section>
<section id="renpy-7-3-4">
<span id="id97"></span><h2>7.3.4<a class="headerlink" href="#renpy-7-3-4" title="Link to this heading"></a></h2>
<section id="id98">
<h3>Fixes<a class="headerlink" href="#id98" title="Link to this heading"></a></h3>
<p>This release fixes major graphics glitches that were introduced in 7.3.3.</p>
<ul class="simple">
<li><p>On Windows, textures would fail to be reloaded when switching from fullscreen
to windowed mode or vice-versa. This would cause the wrong texture to be
displayed.</p></li>
<li><p>On all platforms, graphical glitches could occur when <a class="reference internal" href="displayables.html#Flatten" title="Flatten"><code class="xref py py-func docutils literal notranslate"><span class="pre">Flatten()</span></code></a>
was used.</p></li>
</ul>
</section>
<section id="id99">
<h3>Other Changes<a class="headerlink" href="#id99" title="Link to this heading"></a></h3>
<p>Dynamic images can now include &quot;[prefix_]&quot; everywhere, and especially when
<code class="docutils literal notranslate"><span class="pre">add</span></code> has been used to add a dynamic image to buttons, drags, and similar
focusable objects.</p>
<p>Creator-defined screen language statements may now take <code class="docutils literal notranslate"><span class="pre">if</span></code>
statements as children.</p>
<p>The drag and drop system has been improved to better interact with updated
screens.</p>
</section>
</section>
<section id="renpy-7-3-3">
<span id="id100"></span><h2>7.3.3<a class="headerlink" href="#renpy-7-3-3" title="Link to this heading"></a></h2>
<section id="id101">
<h3>Audio<a class="headerlink" href="#id101" title="Link to this heading"></a></h3>
<p>Ren'Py now supports an <code class="docutils literal notranslate"><span class="pre">audio</span></code> directory, which automatically defines
names in the <a class="reference internal" href="audio.html#audio-namespace"><span class="std std-ref">audio namespace</span></a>. This makes it
possible to have a file named <code class="docutils literal notranslate"><span class="pre">game/audio/overture.ogg</span></code>, and play
it using:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">play</span> <span class="k">music</span> <span class="n">overture</span>
</pre></div>
</div>
<p>The new <a class="reference internal" href="audio.html#AudioData" title="AudioData"><code class="xref py py-func docutils literal notranslate"><span class="pre">AudioData()</span></code></a> class allows you to provide compressed
audio data to Ren'Py, either generated programatically or taken
from a source other than a file. To support this, the Python wave
and sunau modules are now packaged with Ren'Py.</p>
<p>An issue with enabling the mixing of mono sound files has been fixed.
This issue caused many WAV files not to play. (We still don't recommend
the use of WAV files.)</p>
</section>
<section id="platforms">
<h3>Platforms<a class="headerlink" href="#platforms" title="Link to this heading"></a></h3>
<p>Ren'Py is now distributed as a signed and notarized binary on the
Mac. As this process takes a very long time to accomplish, the
ability to sign macOS binaries has been removed from Ren'Py itself,
in favor of external scripts that take care of the signing and
notarization process.</p>
<p>The minimum version supported by the Android port has been lowered
to Android 19 (Android 4.4 KitKat).</p>
<p>The web port of Ren'Py has seen a number of changes:</p>
<ul class="simple">
<li><p><a class="reference internal" href="screens.html#screen-variants"><span class="std std-ref">Screen variants</span></a> are now detected and set.</p></li>
<li><p>Fullscreen support has been improved, though the user may need to click to enable fullscreen.</p></li>
<li><p>Leaving the web page is detected, so persistent data may be saved.</p></li>
<li><p>'game.zip' can now be renamed. 'DEFAULT_GAME_FILENAME' in index.html controls this.</p></li>
<li><p>Portable HTTP requests (native+renpyweb): see <a class="reference external" href="https://github.com/renpy/renpyweb/blob/master/utils/asyncrequest.rpy">https://github.com/renpy/renpyweb/blob/master/utils/asyncrequest.rpy</a></p></li>
<li><p>Enable networking in Python web port for testing WebSockets, transparently available through the Python 'socket' module</p></li>
<li><p>HTTP Cache-Control allows for smoother game updates.</p></li>
<li><p>The pygame.draw module is now included, allowing Canvas support.</p></li>
<li><p>WebGL compatibility has been improved.</p></li>
</ul>
</section>
<section id="id102">
<h3>Other Changes<a class="headerlink" href="#id102" title="Link to this heading"></a></h3>
<p>During profiling conducted for the GL Rewrite project, it became
clear that the switch to framebuffer objects in 7.3.0 was the
cause of certain performance regressions. By changing how FBOs
are used, Ren'Py performance has been improved.</p>
<p>The <a class="reference internal" href="input.html#renpy.input" title="renpy.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.input()</span></code></a> function can now be given the name of a screen
that is used to prompt the user for input.</p>
<p>The creation of list, dicts, and sets inside of screen language is now
analyzed correctly. This will allow more displayables to be analyzed
as constant, improving screen performance.</p>
<p>The notify screen is now hidden on rollback.</p>
<p>The NVL mode screen indicates that it shows the window, which prevents
problems when <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">show</span></code> is in effect.</p>
<p>When a <a class="reference internal" href="screen_actions.html#Call" title="Call"><code class="xref py py-func docutils literal notranslate"><span class="pre">Call()</span></code></a> with <cite>from_current</cite> set to true occurs during a
multi-part statement (like a menu with dialogue), control is restored
to the first part of that multi-part statement (thus causing the dialogue
to be displayed).</p>
<p>More functions now use a tag's default layer.</p>
<p>The <a class="reference internal" href="other.html#renpy.is_init_phase" title="renpy.is_init_phase"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.is_init_phase()</span></code></a> function has been added.</p>
<p>Automatic voice now works for dialogue that is part of a menu
statement.</p>
<p>Support for GLES1 has been dropped. (It hadn't been used for years.)</p>
<p>The <a class="reference internal" href="screen_actions.html#SelectedIf" title="SelectedIf"><code class="xref py py-func docutils literal notranslate"><span class="pre">SelectedIf()</span></code></a> and <a class="reference internal" href="screen_actions.html#SensitiveIf" title="SensitiveIf"><code class="xref py py-func docutils literal notranslate"><span class="pre">SensitiveIf()</span></code></a> actions can now take
other actions as arguments.</p>
<p>Many BarValues now take a <cite>force_step</cite> argument, which forces changes to
the bar to be rounded to the nearest step value.</p>
<p><a class="reference internal" href="displayables.html#Frame" title="Frame"><code class="xref py py-func docutils literal notranslate"><span class="pre">Frame()</span></code></a> now allows the tile argument to be the string &quot;integer&quot;,
which tiles the contents of the frame an integer number of times.</p>
<p><a class="reference internal" href="dialogue.html#Character" title="Character"><code class="xref py py-func docutils literal notranslate"><span class="pre">Character()</span></code></a> now allows the <cite>name</cite> argument to be a function or
callable object when <cite>dynamic</cite> is true.</p>
</section>
<section id="id103">
<h3>Translations<a class="headerlink" href="#id103" title="Link to this heading"></a></h3>
<p>The Korean and Spanish translations have been updated.</p>
</section>
</section>
<section id="renpy-7-3-2">
<span id="id104"></span><h2>7.3.2<a class="headerlink" href="#renpy-7-3-2" title="Link to this heading"></a></h2>
<section id="id105">
<h3>Fixes<a class="headerlink" href="#id105" title="Link to this heading"></a></h3>
<p>Fix a regression in the platform variables, caused by the previous
release.</p>
</section>
<section id="id106">
<h3>Translations<a class="headerlink" href="#id106" title="Link to this heading"></a></h3>
<p>Update the Spanish translation.</p>
</section>
</section>
<section id="renpy-7-3-1">
<span id="id107"></span><h2>7.3.1<a class="headerlink" href="#renpy-7-3-1" title="Link to this heading"></a></h2>
<section id="id108">
<h3>Changes<a class="headerlink" href="#id108" title="Link to this heading"></a></h3>
<p>Descriptive text (text that is intended to be show when self-voicing is
enabled, so that scenes can be described to the vision impaired) has been
updated. Descriptive text is now accessed using the <code class="docutils literal notranslate"><span class="pre">alt</span></code> character
(the old <code class="docutils literal notranslate"><span class="pre">sv</span></code> character has been retained as an alias.) It's also now
possible to display descriptive text using a custom character, rather than
the narrator.</p>
<p>Ren'Py now always initializes the media playback system, so that a movie
can be played even if no audio will be played.</p>
<p>The <cite>default</cite> property of most displayables, which is used to choose a
displayable to be focused by default, has been renamed to <cite>default_focus</cite>
so that it does not conflict with the <code class="docutils literal notranslate"><span class="pre">default</span></code> statement. It also now
takes an integer, with the displayable with the highest focus number
getting focus.</p>
<p>The <a class="reference internal" href="displayables.html#Flatten" title="Flatten"><code class="xref py py-func docutils literal notranslate"><span class="pre">Flatten()</span></code></a> displayable now passes positions from the child.</p>
<p>Seeded random number generators created with renpy.random.Random now
support rollback.</p>
<p>When emulating Android or iOS, the platform variables (like renpy.android,
renpy.ios, renpy.windows, and renpy.mobile) are set properly.</p>
<p>Renpyweb now stores the date and time that a save file was created.</p>
</section>
<section id="id109">
<h3>Fixes<a class="headerlink" href="#id109" title="Link to this heading"></a></h3>
<p>This release fixes a fairly major issue that could cause screens that
interpolate text to not update, or update improperly.</p>
<p>This release properly runs the image prediction routine from the
image prediction thread.</p>
<p>A problem with the {clear} text tag has been fixed.</p>
<p>The <a class="reference internal" href="config.html#var-config.end_game_transition"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.end_game_transition</span></code></a>, which was not working properly
in most circumstances, has been fixed.</p>
</section>
<section id="id110">
<h3>Translations<a class="headerlink" href="#id110" title="Link to this heading"></a></h3>
<p>The Russian, Korean, and Spanish translations were updated.</p>
</section>
</section>
<section id="renpy-7-3-0">
<span id="id111"></span><h2>7.3.0<a class="headerlink" href="#renpy-7-3-0" title="Link to this heading"></a></h2>
<section id="renpyweb">
<h3>Renpyweb<a class="headerlink" href="#renpyweb" title="Link to this heading"></a></h3>
<p>Courtesy of Sylvain Beucler, Ren'Py now can generate distributions for
the HTML5 web platforms, capable of running on modern web browsers
that support the Web Assembly standard. This is intended for small games
and demonstrations of larger games, as right now the implementation
downloads the full game to the web browser before running any of it.</p>
<p>Web support is marked as beta, as there are cases where problem with the
web platform (most notably, a lack of threading) cause problems such as
sound glitches if an image takes too long to load. As a result, it is
possible to have a Ren'Py game that works well on all other platforms,
but not in the web browser. As web browsers themselves improve, we will
improve our implementation and eventually remove the beta tag.</p>
<p>Building a web distribution can be done from the new &quot;Web&quot; button
on the Ren'Py launcher. The launcher now includes a small web server,
that can be used to launch the game in a creator's web browser for test
purposes.</p>
</section>
<section id="creator-defined-statements">
<h3>Creator-Defined Statements<a class="headerlink" href="#creator-defined-statements" title="Link to this heading"></a></h3>
<p>Ren'Py's creator-defined statements, and the Lexer objects that are
used by them, have been extended to improve the functionality in
many ways. With respect to the Lexer:</p>
<ul class="simple">
<li><p>It is now possible to ask the Lexer object to parse a single
line as a Ren'Py statement, or all the lines remaining in the
block as Ren'Py statements.</p></li>
<li><p>It is now possible to ask the lexer to catch errors, so as to
limit the scope of errors to a part of a creator-defined statement
rather than the whole statement.</p></li>
</ul>
<p>The <a class="reference internal" href="cds.html#renpy.register_statement" title="renpy.register_statement"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.register_statement()</span></code></a> function has new arguments to enable
new functionality.</p>
<ul class="simple">
<li><p>Statement prediction can be controlled by the <cite>predict_all</cite> and <cite>predict_next</cite>
arguments, which predict all possible next statements or take a function
that determines what will run next, respectively.</p></li>
<li><p>The new <cite>post_execute</cite> argument lets one specify an execute function that is
run as the next statement - the one after the creator-defined statement.
This allows a pattern where a statement runs, executes the block inside it,
and then runs something after the block to clean it up. (For example, an event
that serves as a label, and then jumps back to a dispatcher when it is done.)</p></li>
<li><p>The new <cite>post_label</cite> argument lets one specify a function to supply the
a label that goes after the creator-defined statement, which can function
like the <code class="docutils literal notranslate"><span class="pre">from</span></code> clause to the call statement.</p></li>
</ul>
<p>Ren'Py now stores the result of parsing a creator-defined statement in the
.rpyc files. While this allows for more complex syntax and faster startup,
it means that it may be necessary to force a recompile if you change a
creator-defined statement's parse function</p>
</section>
<section id="screen-language-improvements">
<h3>Screen Language Improvements<a class="headerlink" href="#screen-language-improvements" title="Link to this heading"></a></h3>
<p>It is now possible to supply an <code class="docutils literal notranslate"><span class="pre">as</span></code> clause to a screen
language displayable. This is especially useful with drags,
as it lets the screen capture the drag object and call methods
on it as necessary.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">on</span></code> statement can now take a list of events.</p>
<p>A screen now takes a <cite>sensitive</cite> property, which determines if it is
possible to interact with the screen at all.</p>
<p>Ren'Py will now produce an error when a non-constant property follows
a Python statement, inside screen language. (This was very rare, and
almost always a mistake.)</p>
</section>
<section id="text-improvements">
<h3>Text Improvements<a class="headerlink" href="#text-improvements" title="Link to this heading"></a></h3>
<p>Ren'Py now includes support for self-closing custom text tags, which
are <a class="reference internal" href="custom_text_tags.html"><span class="doc">custom text tags</span></a> that do not require as
closing text tag.</p>
<p>Ren'Py now supports three new flags that can be applied when formatting
text:</p>
<ul class="simple">
<li><p>&quot;[varname!u]&quot; forces the text to upper-case.</p></li>
<li><p>&quot;[varname!l]&quot; forces the text to lower-case.</p></li>
<li><p>&quot;[varname!c]&quot; forces the first letter of the text to upper-case, capitalizing it.</p></li>
</ul>
</section>
<section id="android-and-ios-improvements">
<h3>Android and iOS Improvements<a class="headerlink" href="#android-and-ios-improvements" title="Link to this heading"></a></h3>
<p>Ren'Py now uses Framebuffer Objects on any device that claims to
support it. As a result <a class="reference internal" href="style_properties.html#style-property-focus_mask"><code class="xref std std-propref docutils literal notranslate"><span class="pre">focus_mask</span></code></a> now works on Android
and iOS.</p>
<p>Ren'Py now produces 64-bit arm binaries for Android. These will be
required by the Google Play store later this year.</p>
<p>Text input on Android was rewritten again, to fix problems where the user
was unable to advance. Completion was eliminated, as it was the source
of the problems. While languages that require input methods will need
a larger rewrite to function, Ren'Py should now properly handle all direct
input keyboards.</p>
</section>
<section id="id112">
<h3>Translations<a class="headerlink" href="#id112" title="Link to this heading"></a></h3>
<p>The Ren'Py launcher and sample project have been translated into Turkish
by Arda Güler.</p>
<p>The Ren'Py tutorial game has been translated into Spanish by Moshibit.</p>
<p>French, Japanese, Korean, Russian and Spanish translations have been updated for
this release.</p>
</section>
<section id="id113">
<h3>Other Improvements<a class="headerlink" href="#id113" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">side</span></code> displayable now renders its children in the order
they are provided in the control string.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">say</span></code> statement, <code class="docutils literal notranslate"><span class="pre">menu</span></code> statement, and <code class="docutils literal notranslate"><span class="pre">renpy.call_screen</span></code>
statements now take a <cite>_mode</cite> argument, which specifies the mode
Ren'Py goes into when these statements occur.</p>
<p>The <a class="reference internal" href="screen_python.html#renpy.show_screen" title="renpy.show_screen"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.show_screen()</span></code></a> and <a class="reference internal" href="screen_python.html#renpy.call_screen" title="renpy.call_screen"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.call_screen()</span></code></a> functions now
take a zorder argument.</p>
<p>Ren'Py will now play a mono sound file with the same volume as a stereo
sound file, rather than sending half the energy to each ear.</p>
<p>The new <a class="reference internal" href="config.html#var-config.load_failed_label"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.load_failed_label</span></code></a> specifies a label that is jumped
to when a load fails because Ren'Py can no longer find the current statement.
This makes it possible to a game to implement its own recovery mechanism.</p>
<p>The new <a class="reference internal" href="config.html#var-config.notify"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.notify</span></code></a> variable makes it possible to intercept the
notification system and do your own thing.</p>
<p>The interface of <a class="reference internal" href="config.html#var-config.say_attribute_transition_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.say_attribute_transition_callback</span></code></a> has been
changed in an incompatible way, to allow sets of old and new tags to be
given.</p>
<p><a class="reference internal" href="screen_python.html#Action" title="Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code></a> and <a class="reference internal" href="screen_python.html#BarValue" title="BarValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">BarValue</span></code></a> now support a get_tooltip method,
which allows the object to supply a default tooltip.</p>
</section>
<section id="id114">
<h3>Fixes<a class="headerlink" href="#id114" title="Link to this heading"></a></h3>
<p>A problem that could cause Ren'Py to drop certain characters, especially
accent markers in Arabic, has been fixed.</p>
<p>The filename of the internal copy of OpenDyslexic has been changed so as
not to cause problems with copies distributed with games.</p>
</section>
</section>
<section id="renpy-7-2-2">
<span id="id115"></span><h2>7.2.2<a class="headerlink" href="#renpy-7-2-2" title="Link to this heading"></a></h2>
<p>Ren'Py now supports a new Accessibility menu, which can be accessed
by pressing the &quot;a&quot; key. This menu, which is intended to be used by
players, let's the player override the game font, change the scaling
and spacing of text, and enable self-voicing.</p>
<p>Ren'Py will now allow files in the public game directory
(/mnt/sdcard/Android/<cite>package</cite>/files/game) to override those included with the
game proper. This has been listed as a feature in 7.2.0, but didn't work
right.</p>
<p>Ren'Py will now include temporary image attributes in the say statements
generated as part of the translation process.</p>
<p>When uploading to itch.io, Ren'Py now downloads butler itself. This means
there is no longer a dependence on the location or structure of the Itch
app, as there was before.</p>
<p>The bar values <a class="reference internal" href="screen_actions.html#DictValue" title="DictValue"><code class="xref py py-func docutils literal notranslate"><span class="pre">DictValue()</span></code></a>, <a class="reference internal" href="screen_actions.html#FieldValue" title="FieldValue"><code class="xref py py-func docutils literal notranslate"><span class="pre">FieldValue()</span></code></a>, <a class="reference internal" href="screen_actions.html#VariableValue" title="VariableValue"><code class="xref py py-func docutils literal notranslate"><span class="pre">VariableValue()</span></code></a>,
and <a class="reference internal" href="screen_actions.html#ScreenVariableValue" title="ScreenVariableValue"><code class="xref py py-func docutils literal notranslate"><span class="pre">ScreenVariableValue()</span></code></a> all take a new <cite>action</cite> parameter, which
gives an action that is performed each time the value changes.</p>
<p>The rollback system has been optimized to reduce the amount of garbage
that needs to be collected.</p>
</section>
<section id="renpy-7-2-1">
<span id="id116"></span><h2>7.2.1<a class="headerlink" href="#renpy-7-2-1" title="Link to this heading"></a></h2>
<section id="ios-improvements">
<h3>iOS Improvements<a class="headerlink" href="#ios-improvements" title="Link to this heading"></a></h3>
<p>Ren'Py will now set the version field for the iOS application when generating
a project.</p>
<p>Ren'Py will now look for the files ios-icon.png and ios-launchimage.png,
and use them to generate the icon and launch image in the sizes required
for iOS.</p>
</section>
<section id="id117">
<h3>Other Improvements<a class="headerlink" href="#id117" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="save_load_rollback.html#renpy.in_rollback" title="renpy.in_rollback"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.in_rollback()</span></code></a> function returns True when in the rollback that
occurs immediately after a load. This makes it possible to use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">python</span><span class="p">:</span>
    <span class="k">if</span> <span class="k">not</span> <span class="n">renpy</span><span class="o">.</span><span class="n">in_rollback</span><span class="p">():</span>
        <span class="n">renpy</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ShowMenu</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>To display a save menu during an initial playthough, but not during loading
or rollback.</p>
<p><a class="reference internal" href="config.html#var-config.say_attribute_transition_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.say_attribute_transition_callback</span></code></a> now exists, making it possible
to select the transition to use on a per-say-statement basis.</p>
<p>The new <code class="docutils literal notranslate"><span class="pre">RENPY_SEARCHPATH</span></code> environment variable makes it possible to
override <a class="reference internal" href="config.html#var-config.searchpath"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.searchpath</span></code></a> on launch.</p>
</section>
<section id="id118">
<h3>Fixes<a class="headerlink" href="#id118" title="Link to this heading"></a></h3>
<p>Ren'Py has been audited to make sure that the semantics of == and != match,
whenever == was redefined.</p>
<p>There was a fix to problems that might occur when a transform is added
to a screen using the <code class="docutils literal notranslate"><span class="pre">add</span></code> statement.</p>
<p>The way <code class="docutils literal notranslate"><span class="pre">extend</span></code> processes arguments was changed to ensure that newer
arguments take priority over arguments given to the statement being
extended.</p>
<p>Ren'Py now properly considers the scope when comparing dynamic images for
equality. This fixes an issue that prevented some dynamic images from
updating when part of a screen.</p>
<p>A crash when <a class="reference internal" href="config.html#var-config.save_dump"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.save_dump</span></code></a> is true on macOS has been fixed.</p>
<p>A crash when <a class="reference internal" href="config.html#var-config.profile"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.profile</span></code></a> is true has been fixed.</p>
<p>Ren'Py now explicitly asks for text (as opposed to email, password, phone number
etc) input on Android when the keyboard is displayed.</p>
<p>An issue has been fixed that prevented roll-forward from working through a
menu statement.</p>
<p>Fixes a bug that prevents roll-forward through a menu.</p>
</section>
</section>
<section id="renpy-7-1-4">
<span id="renpy-7-2"></span><span id="renpy-7-2-0"></span><span id="id119"></span><h2>7.2.0<a class="headerlink" href="#renpy-7-1-4" title="Link to this heading"></a></h2>
<section id="menu-arguments">
<h3>Menu Arguments<a class="headerlink" href="#menu-arguments" title="Link to this heading"></a></h3>
<p>Ren'Py now has support for <a class="reference internal" href="menus.html#menu-arguments"><span class="std std-ref">menu arguments</span></a>. Arguments
can be passed to a choice menu as a whole, or to the individual choices within
the menu, using the syntax:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">menu</span> <span class="p">(</span><span class="s2">&quot;jfk&quot;</span><span class="p">,</span> <span class="k">screen</span><span class="o">=</span><span class="s2">&quot;airport&quot;</span><span class="p">):</span>

    <span class="s2">&quot;Chicago, IL&quot;</span> <span class="p">(</span><span class="mi">200</span><span class="p">):</span>
        <span class="k">jump</span> <span class="n">chicago_trip</span>

    <span class="s2">&quot;Dallas, TX&quot;</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="n">sale</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">jump</span> <span class="n">dallas_trip</span>

    <span class="s2">&quot;Hot Springs, AR&quot;</span> <span class="p">(</span><span class="mi">300</span><span class="p">)</span> <span class="k">if</span> <span class="n">secret_unlocked</span><span class="p">:</span>
        <span class="k">jump</span> <span class="n">hot_springs_trip</span>
</pre></div>
</div>
<p>Menu arguments passed to the menu itself become arguments to the screen,
except the <cite>screen</cite> argument which selects the screen, and the <cite>nvl</cite>
argument, which - if present - selects the NVL-mode menu. The arguments to
the choices become arguments to the items passed to the menu screen.</p>
</section>
<section id="temporary-say-attributes">
<h3>Temporary Say Attributes<a class="headerlink" href="#temporary-say-attributes" title="Link to this heading"></a></h3>
<p>Ren'Py now supports temporary say attributes. Just like regular say
attributes, these are included as part of the say statement. However,
these temporary say attributes are reverted once the dialogue has
finished. For example, in the script:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span>

<span class="n">e</span> <span class="s2">&quot;I&#39;m happy.&quot;</span>

<span class="n">e</span> <span class="o">@</span> <span class="n">vhappy</span> <span class="s2">&quot;I&#39;m really happy!&quot;</span>

<span class="n">e</span> <span class="s2">&quot;I&#39;m still happy.&quot;</span>
</pre></div>
</div>
<p>In the first line and last line of dialogues, Eileen is using her happy
emotion. The vhappy emotion is shown before the second line of dialogue,
and replaced with the previous emotion (happy in this case), before it.</p>
</section>
<section id="id120">
<h3>Text<a class="headerlink" href="#id120" title="Link to this heading"></a></h3>
<p>There have been a number of text changes that affect text when a window
is scaled to a non-default size:</p>
<ul class="simple">
<li><p>The text is now aligned on its baseline, rather than at the top of
the text. This is relevant when an absolute outline offset is
used.</p></li>
<li><p>It is now possible to choose how the outline scales when the window
is scaled. This is done with the <a class="reference internal" href="style_properties.html#style-property-outline_scaling"><code class="xref std std-propref docutils literal notranslate"><span class="pre">outline_scaling</span></code></a> style
property.</p></li>
</ul>
<p>When positioning a Text object, the <a class="reference internal" href="style_properties.html#style-property-yanchor"><code class="xref std std-propref docutils literal notranslate"><span class="pre">yanchor</span></code></a> property can be
renpy.BASELINE. When it is, the anchor is set to the baseline of the
first line of the text.</p>
</section>
<section id="statements">
<h3>Statements<a class="headerlink" href="#statements" title="Link to this heading"></a></h3>
<p>The new <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span> <span class="pre">show</span></code> and <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span> <span class="pre">hide</span></code> statements
allow <a class="reference internal" href="dialogue.html#dialogue-window-management"><span class="std std-ref">automatic dialogue window management</span></a>
to continue while showing or hiding the dialogue window.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">screen</span></code> and <code class="docutils literal notranslate"><span class="pre">hide</span> <span class="pre">screen</span></code> statements now take a with
clause, that works the same way it does with <code class="docutils literal notranslate"><span class="pre">show</span></code> and <code class="docutils literal notranslate"><span class="pre">hide</span></code>.</p>
<p>The screen language <code class="docutils literal notranslate"><span class="pre">use</span></code> statement now can take an <code class="docutils literal notranslate"><span class="pre">expression</span></code>
clause, that makes it take an expression rather than a literal screen
name. This allows a variable to be used when selecting the screen that
is included. See <a class="reference internal" href="screens.html#sl-use"><span class="std std-ref">Use</span></a> for more details.</p>
</section>
<section id="id121">
<h3>Changes<a class="headerlink" href="#id121" title="Link to this heading"></a></h3>
<p>The new <a class="reference internal" href="other.html#renpy.is_skipping" title="renpy.is_skipping"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.is_skipping()</span></code></a> function reports if Ren'Py is currently
skipping.</p>
<p>The <a class="reference internal" href="screens.html#sl-input"><span class="std std-ref">input</span></a> displayable now takes a new <cite>copypaste</cite>
property, which when true allows copying with ctrl+C and pasting with
ctrl+V. This is enabled in the console and launcher.</p>
<p><code class="docutils literal notranslate"><span class="pre">Preference(&quot;display&quot;,</span> <span class="pre">&quot;window&quot;)</span></code> now avoids creating a window bigger
than the screen, and will be selected if the current window size is the
maximum window size, if the size selected with <a class="reference internal" href="gui_advanced.html#gui.init" title="gui.init"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.init()</span></code></a> is bigger
than the maximum window size.</p>
<p><a class="reference internal" href="cds.html"><span class="doc">Creator defined statements</span></a> now have a few more lexer methods available,
making it possible to to parse arguments, image name components, labels, and
delimited python.</p>
<p>The <a class="reference internal" href="other.html#renpy.force_autosave" title="renpy.force_autosave"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.force_autosave()</span></code></a> function takes a new argument, that causes
the autosave to block until it completes.</p>
<p>The <a class="reference internal" href="screen_special.html#ctc-screen"><span class="std std-ref">ctc screen</span></a> now takes a number of new parameters,
if required.</p>
<p>The new <a class="reference internal" href="im.html#im.Blur" title="im.Blur"><code class="xref py py-func docutils literal notranslate"><span class="pre">im.Blur()</span></code></a> image manipulator can blur an image. Thanks to
Mal Graty for contributing it.</p>
<p>LayeredImage groups now support a <code class="docutils literal notranslate"><span class="pre">multiple</span></code> property, which allows
multiple attributes in the same group to be displayed at the same time.
This is useful because it allows the auto-definition function of a group
to be applied to non-conflicting images.</p>
<p>Ren'Py will remain fullscreen when the mouse changes desktops, and will avoid
shrinking a maximized window during a reload.</p>
<p>The <code class="xref std std-var docutils literal notranslate"><span class="pre">config.allow_duplicate_labels</span></code> variable can be defined or set in an
init python block to allow duplicate labels to be defined in a game.</p>
<p>The <a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-func docutils literal notranslate"><span class="pre">Movie()</span></code></a> displayable can now be told not to loop, and displays the
associated static image when it stops looping. It also can take an image
that is displayed before the movie proper starts.</p>
</section>
<section id="android-changes">
<h3>Android Changes<a class="headerlink" href="#android-changes" title="Link to this heading"></a></h3>
<p>The downloading of the Android SDK has been updated to fix a change in the
provided tools that prevented things from downloading.</p>
<p>An explicit action is now given to the keyboard, to make sure the enter
key works.</p>
<p>Ren'Py now uses the Amazon payment APIs when sideloaded onto a device
made by Amazon, allowing their payment system to be tested on a dual-store
APK.</p>
<p>Ren'Py will now allow files in the public game directory (/mnt/sdcard/Android/<cite>package</cite>/files/game)
to override those included with the game proper.</p>
</section>
<section id="id122">
<h3>Fixes<a class="headerlink" href="#id122" title="Link to this heading"></a></h3>
<p>A bug preventing Ren'Py from displaying zero or negative-width
characters (such as certain diacritics) has been fixed.</p>
<p>An issue that prevented Ren'Py from updating a displayable that was
added to a screen with transform properties has been fixed.</p>
<p>The order of drags within a drag group is now preserved when an
interaction restart occurs.</p>
<p>Size-changing properties like <a class="reference internal" href="style_properties.html#style-property-xysize"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xysize</span></code></a> now apply to a Drag and not
the space it can move around in.</p>
<p>A bug that could cause a transparent, black, or gray line to appear on
the bottom line of a screen during a dissolve has been fixed.</p>
<p>A regression in support for imagefonts has been fixed.</p>
<p>Creating a new file from the navigation menu of the launcher now works.</p>
<p>Menu sets now work again.</p>
<p>Ren'Py will no longer crash if an incomparable type is given to <a class="reference internal" href="screen_actions.html#Function" title="Function"><code class="xref py py-func docutils literal notranslate"><span class="pre">Function()</span></code></a>
and other actions.</p>
<p>A case where rolling forward would fail is now fixed.</p>
<p>A problem that prevented the Steam overlay from showing up on macOS was fixed.</p>
</section>
</section>
<section id="renpy-7-1-3">
<span id="id123"></span><h2>7.1.3<a class="headerlink" href="#renpy-7-1-3" title="Link to this heading"></a></h2>
<p>This was a quick re-release of 7.1.2 in order to fix a single bug, which
was that a test change had been left in causing <a class="reference internal" href="config.html#var-config.default_language"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.default_language</span></code></a>
to be set on initial startup.</p>
</section>
<section id="renpy-7-1-2">
<span id="id124"></span><h2>7.1.2<a class="headerlink" href="#renpy-7-1-2" title="Link to this heading"></a></h2>
<section id="id125">
<h3>Improvements<a class="headerlink" href="#id125" title="Link to this heading"></a></h3>
<p>Ren'Py's screen language now support the inclusion of anonymous ATL
transforms. It's now possible to write:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">hello_title</span><span class="p">():</span>
    <span class="k">text</span> <span class="s2">&quot;Hello.&quot;</span><span class="p">:</span>
        <span class="k">at</span> <span class="k">transform</span><span class="p">:</span>
            <span class="na">align</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="na">alpha</span> <span class="mf">0.0</span>
            <span class="n">linear</span> <span class="mf">0.5</span> <span class="na">alpha</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>The new <a class="reference internal" href="screen_actions.html#SetLocalVariable" title="SetLocalVariable"><code class="xref py py-func docutils literal notranslate"><span class="pre">SetLocalVariable()</span></code></a> and <a class="reference internal" href="screen_actions.html#ToggleLocalVariable" title="ToggleLocalVariable"><code class="xref py py-func docutils literal notranslate"><span class="pre">ToggleLocalVariable()</span></code></a> actions
make it possible to set variables inside used screens.</p>
<p>The new <a class="reference internal" href="config.html#var-config.menu_include_disabled"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.menu_include_disabled</span></code></a> variable determines if menus
should include entries disabled by an if clause.</p>
<p>Shift-keybindings (like Shift+I and Shift+R) now work in the Android
emulation mode.</p>
<p>Ren'Py now better reports errors in text tags that require a value but are
not given one.</p>
<p>The new <a class="reference internal" href="store_variables.html#var-_version"><code class="xref std std-var docutils literal notranslate"><span class="pre">_version</span></code></a> variable indicates the version of the game itself
that was used when a new game is first created. This only stores the version
at game creation - after that, it's up to the creator to keep it updated.</p>
<p>The <a class="reference internal" href="movie.html#Movie" title="Movie"><code class="xref py py-func docutils literal notranslate"><span class="pre">Movie()</span></code></a> displayable now supports a new mode the color data and
alpha mask data are placed side-by-side in the same file. This prevents
issues where a main and mask movie could go out of sync.</p>
<p>The <a class="reference internal" href="screen_actions.html#FilePageNext" title="FilePageNext"><code class="xref py py-func docutils literal notranslate"><span class="pre">FilePageNext()</span></code></a> and <a class="reference internal" href="screen_actions.html#FilePagePrevious" title="FilePagePrevious"><code class="xref py py-func docutils literal notranslate"><span class="pre">FilePagePrevious()</span></code></a> functions now take
arguments that control if the they can bring the player to the auto or
quick save pages.</p>
<p>The new <a class="reference internal" href="config.html#var-config.skip_sounds"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.skip_sounds</span></code></a> variables determines if Ren'Py will skip
non-looping audio files that are played while Ren'Py is skipping.</p>
</section>
<section id="id126">
<h3>Translations<a class="headerlink" href="#id126" title="Link to this heading"></a></h3>
<p>Ren'Py now has the ability to automatically detect the locale of the user's
system, and use it to set the language. Please see
<a class="reference internal" href="config.html#var-config.enable_language_autodetect"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.enable_language_autodetect</span></code></a> and the <a class="reference internal" href="translation.html#translation"><span class="std std-ref">Translation</span></a>
documentation for how this works.</p>
<p>The French, German, Korean, Russian, and Simplified Chinese translations
have been updated.</p>
</section>
<section id="id127">
<h3>Fixes<a class="headerlink" href="#id127" title="Link to this heading"></a></h3>
<p>A Windows-specific bug that caused RTL (the support for languages like
Arabic and Hebrew) to corrupt the second half of text strings has been
fixed. This should prevent garbage characters from being displayed when
rendering those languages.</p>
<p>Ren'Py will now report an error if a game accesses an image that does not
exist, but has as a prefix an image that does exist. Before this change,
if <code class="docutils literal notranslate"><span class="pre">eileen</span> <span class="pre">happy</span></code> exists and <code class="docutils literal notranslate"><span class="pre">eileen</span> <span class="pre">happy</span> <span class="pre">unknown</span></code> was shown, the
additional attribute would be ignored.</p>
<p>Lint has been improved to deal with images that take attributes that are
not in the image name, like layered images.</p>
<p>Ren'Py generates choice menu images that are suitable for use on the phone.</p>
</section>
<section id="android-fixes">
<h3>Android Fixes<a class="headerlink" href="#android-fixes" title="Link to this heading"></a></h3>
<p>As Ren'Py's new Android support only worked well on a 64-bit version of
Java 8, we make that 64-bit requirement explicit.</p>
</section>
</section>
<section id="renpy-7-1-1">
<span id="id128"></span><h2>7.1.1<a class="headerlink" href="#renpy-7-1-1" title="Link to this heading"></a></h2>
<section id="history-fix">
<span id="history-7-1-1"></span><h3>History Fix<a class="headerlink" href="#history-fix" title="Link to this heading"></a></h3>
<p>This release fixes an issue with Ren'Py's history screen. The problem occurred
when a line of dialogue contained a quoted square bracket, so something like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;I [[think] I&#39;m having a problem.&quot;</span>
</pre></div>
</div>
<p>When this occurs, the string &quot;I [think] I'm having a problem.&quot; is added to
the history. Ren'Py would then display that in history, substitute the
<code class="docutils literal notranslate"><span class="pre">think</span></code> variable, and crash.</p>
<p>This is fixed by adding <code class="docutils literal notranslate"><span class="pre">substitute</span> <span class="pre">False</span></code> to the history screen. This
is done to new projects, but for existing ones you'll need to make the fix
yourself. Here's the new history screen:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">history</span><span class="p">():</span>

    <span class="k">tag</span> <span class="k">menu</span>

    <span class="c1">## Avoid predicting this screen, as it can be very large.</span>
    <span class="na">predict</span> <span class="kc">False</span>

    <span class="k">use</span> <span class="n">game_menu</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;History&quot;</span><span class="p">),</span> <span class="n">scroll</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;vpgrid&quot;</span> <span class="k">if</span> <span class="n">gui</span><span class="o">.</span><span class="n">history_height</span> <span class="k">else</span> <span class="s2">&quot;viewport&quot;</span><span class="p">),</span> <span class="na">yinitial</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>

        <span class="na">style_prefix</span> <span class="s2">&quot;history&quot;</span>

        <span class="k">for</span> <span class="n">h</span> <span class="k">in</span> <span class="n">_history_list</span><span class="p">:</span>

            <span class="k">window</span><span class="p">:</span>

                <span class="c1">## This lays things out properly if history_height is None.</span>
                <span class="k">has</span> <span class="k">fixed</span><span class="p">:</span>
                    <span class="na">yfit</span> <span class="kc">True</span>

                <span class="k">if</span> <span class="n">h</span><span class="o">.</span><span class="n">who</span><span class="p">:</span>

                    <span class="k">label</span> <span class="n">h</span><span class="o">.</span><span class="n">who</span><span class="p">:</span>
                        <span class="k">style</span> <span class="s2">&quot;history_name&quot;</span>
                        <span class="na">substitute</span> <span class="kc">False</span>

                        <span class="c1">## Take the color of the who text from the Character, if set.</span>
                        <span class="k">if</span> <span class="s2">&quot;color&quot;</span> <span class="k">in</span> <span class="n">h</span><span class="o">.</span><span class="n">who_args</span><span class="p">:</span>
                            <span class="na">text_color</span> <span class="n">h</span><span class="o">.</span><span class="n">who_args</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span>

                <span class="k">$</span> <span class="n">what</span> <span class="o">=</span> <span class="n">renpy</span><span class="o">.</span><span class="n">filter_text_tags</span><span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">what</span><span class="p">,</span> <span class="na">allow</span><span class="o">=</span><span class="n">gui</span><span class="o">.</span><span class="n">history_allow_tags</span><span class="p">)</span>
                <span class="k">text</span> <span class="n">what</span> <span class="na">substitute</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="k">not</span> <span class="n">_history_list</span><span class="p">:</span>
            <span class="k">label</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The dialogue history is empty.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The new lines are the ones with <code class="docutils literal notranslate"><span class="pre">substitute</span> <span class="pre">False</span></code> on them. You'll want to make
this change to your history screen to prevent his problem from happening.</p>
</section>
<section id="android-improvements">
<h3>Android Improvements<a class="headerlink" href="#android-improvements" title="Link to this heading"></a></h3>
<p>Ren'Py now sets the amount of memory used by the Android build tool to
the Google-set default of 1536 megabytes. To change this, edit
rapt/project/gradle.properties. To make sure you're capable of building
larger games, please make sure your computer has a 64-bit version of Java 8.</p>
<p>Ren'Py explicitly tells Android to pass the Enter key to an input.</p>
<p>Ren'Py now crops and sizes the icon correctly for versions of Android below
Android 8 (Oreo).</p>
<p>Ren'Py gives a different numeric version number to the x86_64 apk. This will
allow both x86_64 and armeabi-v7a builds to be uploaded to Google Play and
other stores, rather than having to first created one build and then the other,
manually changing the version numbers between.</p>
</section>
<section id="id129">
<h3>Other Improvements<a class="headerlink" href="#id129" title="Link to this heading"></a></h3>
<p>Ren'Py now handles the (lack of) drawing of zero width characters itself, preventing
such characters from appearing as squares in text if the font does not support
the zero width character.</p>
<p>Ren'Py supports the use of non-breaking space and zero-width non-breaking space
characters to prevent images in text from being wrapped.</p>
<p>Ren'Py supports the a new &quot;nestled-close&quot; value for the <cite>ctc_position</cite> parameter
of <a class="reference internal" href="dialogue.html#Character" title="Character"><code class="xref py py-func docutils literal notranslate"><span class="pre">Character()</span></code></a>. This value prevents there from being a break between the
click-to-continue indicator and the other lines.</p>
<p>Drags (in drag-and-drop) now support alternate clicks. (Right clicks on desktop
and long-clicks on touch platforms.)</p>
</section>
<section id="id130">
<h3>Fixes<a class="headerlink" href="#id130" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="screen_actions.html#SetVariable" title="SetVariable"><code class="xref py py-func docutils literal notranslate"><span class="pre">SetVariable()</span></code></a> and <a class="reference internal" href="screen_actions.html#ToggleVariable" title="ToggleVariable"><code class="xref py py-func docutils literal notranslate"><span class="pre">ToggleVariable()</span></code></a> functions have been extended
to accept namespaces and fields. So it's now possible to have actions like
<code class="docutils literal notranslate"><span class="pre">SetVariable(&quot;hero.strength&quot;,</span> <span class="pre">hero.strength</span> <span class="pre">+</span> <span class="pre">1)</span></code> or
<code class="docutils literal notranslate"><span class="pre">ToggleVariable(&quot;persistent.alternate_perspective&quot;)</span></code>.</p>
<p>Automatic management of the dialogue window (as enabled by the <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">auto</span></code>
statement) now considers if an in-game menu has a dialogue or caption associated
with it, and handles that appropriately.</p>
<p>The source code to the embedded version of fribidi that Ren'Py is expected
to build with is now included in the -source archive.</p>
<p>There have been a number of fixes to the voice sustain preference to make
it work better with history and the voice replay action.</p>
</section>
</section>
<section id="renpy-7-1">
<span id="id131"></span><h2>7.1<a class="headerlink" href="#renpy-7-1" title="Link to this heading"></a></h2>
<section id="id132">
<h3>Android<a class="headerlink" href="#id132" title="Link to this heading"></a></h3>
<p>This release sees a major rewrite of Ren'Py's support for Android to
modernize it. This is required so Ren'Py games can be uploaded to the
Google Play store. Some of these changes may require you to update
a game's files. Most notably, the format of icons has changed, so the
icons will need to be redone.</p>
<p>The minimum version of Android that Ren'Py will run on has been raised
to Android 19 (aka 4.4 KitKat), while it targets Android 28 (aka 9 Pie).</p>
<p>The x86_64 architecture has been added, while x86 has been dropped. (Some x86
devices may be able to run the arm platform version through binary translation
layers.)</p>
</section>
<section id="monologue-mode">
<h3>Monologue Mode<a class="headerlink" href="#monologue-mode" title="Link to this heading"></a></h3>
<p>It's now possible to write multiple blocks of dialogue or narration at
once, using triple-quoted strings. For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">This is one block of dialogue.</span>

<span class="s2">And this is a second block.</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>will create two blocks of dialogue. See <a class="reference internal" href="dialogue.html#monologue-mode"><span class="std std-ref">Monologue Mode</span></a> for more
info.</p>
<p>There is also a new {clear} text tag that works with monologue. When
the {clear} tag is part of a line by itself, it is the equivalent of
the <code class="docutils literal notranslate"><span class="pre">nvl</span> <span class="pre">clear</span></code> statement. See <a class="reference internal" href="nvl_mode.html#nvl-monologue-mode"><span class="std std-ref">NVL Monlologue Mode</span></a> for more
about this.</p>
</section>
<section id="say-with-attribute-change">
<h3>Say-With-Attribute Change<a class="headerlink" href="#say-with-attribute-change" title="Link to this heading"></a></h3>
<p>There has been a change to the way a say-with-attributes is handled
when there is not an image with the tag displaying. Previously, Ren'Py
would use the attributes given in the most recent say-with-attributes statement
to selected the side image to show.</p>
<p>Now, Ren'Py will use the provided attributes and existing attributes to resolve
the side image. This makes a say-with-attributes that occurs when an image
is not showing work the same way as when it is. When the attributes do not
select a single side image, Ren'Py will select the image with all of the given
attributes, and the most possible of the existing attributes.</p>
<p>The rationale for this change is to help with side images that are defined
as layered images, where providing only the attributes that change makes
sense.</p>
</section>
<section id="updater-changes">
<h3>Updater Changes<a class="headerlink" href="#updater-changes" title="Link to this heading"></a></h3>
<p>The updater for Ren'Py itself now asks you to select the update channel
each time you go to update. The purpose of this is to make it clear
which channel you're updating to each time you update, so you don't
accidentally update to a prerelease or nightly version after a
release comes out.</p>
<p>As part of this, you might see the Prerelease channel missing for some
updates. That's normal – unlike in previous versions, the channel only
appears when there are prereleases available.</p>
</section>
<section id="id133">
<h3>Translations<a class="headerlink" href="#id133" title="Link to this heading"></a></h3>
<p>The Ren'Py launcher, template game, and The Question have been translated
into the Latin script of Malay by Muhammad Nur Hidayat Yasuyoshi.</p>
<p>The Korean translation has been significantly updated.</p>
<p>It is now possible to translate the strings used by RAPT into non-English
languages.</p>
</section>
<section id="id134">
<h3>Other<a class="headerlink" href="#id134" title="Link to this heading"></a></h3>
<p>Ren'Py can now automatically save the game upon quit, in a reliable
fashion. (As compared to the previous autosave, which could fail or
be cycled out.) This is controlled by the <a class="reference internal" href="store_variables.html#var-_quit_slot"><code class="xref std std-var docutils literal notranslate"><span class="pre">_quit_slot</span></code></a> variable.</p>
<p>File actions (like <a class="reference internal" href="screen_actions.html#FileSave" title="FileSave"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileSave()</span></code></a>, <a class="reference internal" href="screen_actions.html#FileLoad" title="FileLoad"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileLoad()</span></code></a>, and <a class="reference internal" href="screen_actions.html#FileAction" title="FileAction"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileAction()</span></code></a>)
can now take a slot=True argument. When this is given, the action loads
a named slot, without involving the page.</p>
<p>The developer menu (accessed through Shift+D) can now display a screen
that shows the attributes associated with displayed and hidden images.</p>
<p>Added <a class="reference internal" href="text.html#renpy.transform_text" title="renpy.transform_text"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.transform_text()</span></code></a>, a function to transform text without
touching text tags or interpolation.</p>
<p>Buttons created using the <code class="docutils literal notranslate"><span class="pre">make_buttons</span></code> method of a Gallery object now
inherit from the empty style, and not button. This prevents properties from
the button style from causing problems.</p>
<p>The code to finish displaying text is now called from the event method,
as if the mouse button was clicked. This helps prevent interaction ends
when menus are up.</p>
<p>Displayable prefixes are supported when evaluating auto images in imagebuttons
and image maps.</p>
<p>A bug that caused an error in an NVL-mode statement if the next statement
was an NVL-mode statement with an undefined character name has been fixed.</p>
<p>When two ATL transforms are nested, the state from both is propagated, not
just the outermost.</p>
<p>Ren'Py now updates dynamic images that are used in windows, bars, and
frames. (And derived displayables, like buttons and imagemaps.)</p>
<p>An issue that caused Ren'Py to consume 100% of a core when modal True was
given has been fixed.</p>
<p>Ren'Py now includes a copy of fribidi, rather than requiring an OS-installed
version.</p>
<p>The new <a class="reference internal" href="style_properties.html#style-property-box_wrap_spacing"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_wrap_spacing</span></code></a> allows control of the spacing between
rows or columns introduced by <a class="reference internal" href="style_properties.html#style-property-box_wrap"><code class="xref std std-propref docutils literal notranslate"><span class="pre">box_wrap</span></code></a>.</p>
<p>The <a class="reference internal" href="style_properties.html#style-property-adjust_spacing"><code class="xref std std-propref docutils literal notranslate"><span class="pre">adjust_spacing</span></code></a> style property can now take &quot;horizontal&quot; and
&quot;vertical&quot; as values, causing text spacing to be adjusted in only the
specified direction.</p>
<p>LayerdImageProxy can now take an interpolated string.</p>
<p>The new <a class="reference internal" href="config.html#var-config.context_callback"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.context_callback</span></code></a> is called when starting the game or
entering a new context, like a menu context. It can be used to stop voice
or sounds from playing when entering that context.</p>
<p>The <a class="reference internal" href="drag_drop.html#Drag" title="Drag"><code class="xref py py-func docutils literal notranslate"><span class="pre">Drag()</span></code></a> displayable (and the screen language equivalent, <code class="docutils literal notranslate"><span class="pre">drag</span></code>)
have grown a new <cite>activated</cite> property. This is callback that is called when
the user first clicks the mouse on a drag. (Before it starts moving.)</p>
</section>
</section>
<section id="renpy-7-0">
<span id="id135"></span><h2>7.0<a class="headerlink" href="#renpy-7-0" title="Link to this heading"></a></h2>
<p>Ren'Py 7.0 marks the completion of over a decade of development since
Ren'Py 6 that brought features like ATL, Screen Language, OpenGL and DirectX
acceleration, support for the Android and iOS platforms, Translation,
Accessibility, and so much more.</p>
<p>For releases between 6.0 and 7.0, see the other entries in this changelog,
and the older changelog on the Ren'Py website. The rest of this entry
contains the differences between 7.0 and 6.99.14.3.</p>
<section id="layered-images">
<h3>Layered Images<a class="headerlink" href="#layered-images" title="Link to this heading"></a></h3>
<p>A <a class="reference internal" href="layeredimage.html"><span class="doc">layered image</span></a> is a new way of defining images
for use in Ren'Py. It's intended to be used with a sprite that has been
created in Photoshop or some other program as a series of layers.
The layered image system can use the attributes the image was displayed
with and Python conditions to determine what layers to display.</p>
<p>Layered images are intended to be a replacement for the use of <a class="reference internal" href="displayables.html#Composite" title="Composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">Composite()</span></code></a>
and <a class="reference internal" href="displayables.html#ConditionSwitch" title="ConditionSwitch"><code class="xref py py-func docutils literal notranslate"><span class="pre">ConditionSwitch()</span></code></a> to define layered images. It includes a language
that makes defining such images simpler, and Ren'Py can generate portions
of the definitions from appropriately named files. It also integrates better
with the rest of Ren'Py, as attributes can be predicted in ways that a
ConditionSwitch cannot, and layered images work with the interactive director.</p>
</section>
<section id="dict-transitions">
<h3>Dict Transitions<a class="headerlink" href="#dict-transitions" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="transitions.html#dict-transitions"><span class="std std-ref">Dict Transitions</span></a> makes it
possible to use the with statement and certain other functions to apply
transitions to one or more layers. Ren'Py will not pause for these
transitions to occur. Dict transitions make it possible – and even
convenient – to have a transition apply to the sprites alone while dialogue is
being displayed.</p>
</section>
<section id="id136">
<h3>Changes<a class="headerlink" href="#id136" title="Link to this heading"></a></h3>
<p>The old tutorial and old templates are no longer included with Ren'Py.
They can still be used with new version of Ren'Py if copied into
this or later versions.</p>
<p>The new <a class="reference internal" href="screen_actions.html#Scroll" title="Scroll"><code class="xref py py-func docutils literal notranslate"><span class="pre">Scroll()</span></code></a> action makes it possible to have buttons that
change the position of a viewport or the value of a bar.</p>
<p>The <a class="reference internal" href="transitions.html#Dissolve" title="Dissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">Dissolve()</span></code></a>, <a class="reference internal" href="transitions.html#ImageDissolve" title="ImageDissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageDissolve()</span></code></a>, and <a class="reference internal" href="transitions.html#AlphaDissolve" title="AlphaDissolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">AlphaDissolve()</span></code></a>
transitions now respect the alpha channels of their source displayables, as
if given the <code class="docutils literal notranslate"><span class="pre">alpha=True</span></code> argument. As omitting the alpha channel is no
longer an optimization, this change allows the same transitions to be
used in more places.</p>
<p>Automatic image definitions now take place at init level 0, rather than
an init level of greater than 999. This allows <a class="reference internal" href="displaying_images.html#renpy.has_image" title="renpy.has_image"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.has_image()</span></code></a> to
be used in <code class="docutils literal notranslate"><span class="pre">init</span></code> blocks.</p>
<p>The interactive director now has a button that allows you to choose if it
is displayed at the top or the bottom of the screen.</p>
<p>The <a class="reference internal" href="screens.html#sl-for"><span class="std std-ref">screen language for</span></a> statement now takes an index clause:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="k">index</span> <span class="n">i</span><span class="o">.</span><span class="n">name</span> <span class="k">in</span> <span class="n">party</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>When provided, it should return a unique value that can map information like
button and transform state to the object it originates from.</p>
<p>There is now alternate ruby text, allowing two kinds of ruby text
to be displayed at once (such as a translation and pronunciation guide).</p>
<p>The new <a class="reference internal" href="displayables.html#displayable-prefix"><span class="std std-ref">displayable prefix</span></a> system make it possible to define your
own displayables that can be accessed using strings, the same way that
images, image files, and solids have a string form.</p>
<p>Ren'Py now supports creating .zip files that have single files (such as
.rpa files) that are larger than 2GB. As this requires the use of the
Zip64 standard, unpacking such files may not be supported on some platforms,
most notably Windows XP.</p>
<p>The new <a class="reference internal" href="displaying_images.html#renpy.get_hidden_tags" title="renpy.get_hidden_tags"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_hidden_tags()</span></code></a> function returns the set of tags that
have attributes but or otherwise hidden, while the <a class="reference internal" href="displaying_images.html#renpy.get_showing_tags" title="renpy.get_showing_tags"><code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.get_showing_tags()</span></code></a>
function can return a list of tags in sorted order.</p>
<p>Showing a movie sprite a second time will now replay the movie from the start,
for consistency with ATL and other animations.</p>
<p>The documentation has received an editing pass, courtesy of Craig P. Donson.</p>
</section>
<section id="id137">
<h3>Translations<a class="headerlink" href="#id137" title="Link to this heading"></a></h3>
<p>The Ren'Py tutorial and The Question now have French translations, thanks
to Alexandre Tranchant.</p>
<p>The Japanese and Russian translations have been updated.</p>
</section>
<section id="id138">
<h3>Fixes<a class="headerlink" href="#id138" title="Link to this heading"></a></h3>
<p>This fixes a regression that prevented screens from handling the hide or
replaced events when the screen was not being shown. (This might be the
case when the player is skipping through the game.)</p>
<p>An issue that caused the interactive director to be translated into
Russian when the default (English) language was being used has been
fixed.</p>
<p>The <a class="reference internal" href="displayables.html#Composite" title="Composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">Composite()</span></code></a>, <a class="reference internal" href="displayables.html#Crop" title="Crop"><code class="xref py py-func docutils literal notranslate"><span class="pre">Crop()</span></code></a> and <a class="reference internal" href="displayables.html#Tile" title="Tile"><code class="xref py py-func docutils literal notranslate"><span class="pre">Tile()</span></code></a> displayables are now
actually available under their new names.</p>
<p>An issue that could cause Ren'Py to roll back to an incorrect place when
accessing the console has been fixed. This could cause the console to
display incorrect data, while in the console itself.</p>
</section>
</section>
<section id="older-changelogs">
<h2>Older Changelogs<a class="headerlink" href="#older-changelogs" title="Link to this heading"></a></h2>
<p>The changelogs for some Ren'Py 6 versions can be found <a class="reference internal" href="changelog6.html#changelog-6"><span class="std std-ref">here</span></a>,
with older changelogs being found at:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.renpy.org/dl/6.10.2/CHANGELOG.txt">https://www.renpy.org/dl/6.10.2/CHANGELOG.txt</a></p>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="translating_renpy.html" class="btn btn-neutral float-left" title="Translating Ren&#39;Py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="changelog6.html" class="btn btn-neutral float-right" title="Changelog (Ren&#39;Py 6.11 - 6.99)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>