<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3D Stage &mdash; Ren&#39;Py Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=c659a740" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css?v=70edf1c7" />

  
    <link rel="canonical" href="https://www.renpy.org/doc/html/3dstage.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=986d2f06"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
        <script src="_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Live2D Cubism" href="live2d.html" />
    <link rel="prev" title="Layered Images" href="layeredimage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

<a href="https://www.renpy.org/" style="margin-bottom: 0">Ren'Py Visual Novel Engine
<img src="_static/navbar-logo.png" alt="Logo" style="width: 93px; height: 100px; border-radius: 0; margin: 0 auto; padding: 0; margin-top: 5px; background-color: unset;" />
</a>

<a href="index.html" style="margin-bottom: 0px">8.3.4 Documentation</a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI Customization Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Ren'Py Language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="language_basics.html">Language Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">Labels &amp; Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="dialogue.html">Dialogue and Narration</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaying_images.html">Displaying Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="menus.html">In-Game Menus</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditional.html">Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio_filters.html">Audio Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="movie.html">Movie</a></li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">Voice</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Text, Displayables, Transforms, and Transitions</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="displayables.html">Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform_properties.html">Transform Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="transitions.html">Transitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrixcolor.html">Matrixcolor</a></li>
<li class="toctree-l1"><a class="reference internal" href="layeredimage.html">Layered Images</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3D Stage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#coordinates">Coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#camera">Camera</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-3d-stage">Using the 3D Stage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#depth">Depth</a></li>
<li class="toctree-l2"><a class="reference internal" href="#matrix-transforms">Matrix Transforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#structural-similarity">Structural Similarity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#transformmatrix">TransformMatrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="#built-in-transformmatrix-subclasses">Built-In TransformMatrix Subclasses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#OffsetMatrix"><code class="docutils literal notranslate"><span class="pre">OffsetMatrix</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#RotateMatrix"><code class="docutils literal notranslate"><span class="pre">RotateMatrix</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ScaleMatrix"><code class="docutils literal notranslate"><span class="pre">ScaleMatrix</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#transform-properties">Transform Properties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Camera"><code class="docutils literal notranslate"><span class="pre">Camera</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="live2d.html">Live2D Cubism</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customizing Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="style.html">Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="style_properties.html">Style Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="screens.html">Screens and Screen Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_actions.html">Screen Actions, Values, and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_special.html">Special Screen Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_optimization.html">Screen Language Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">Preference Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="store_variables.html">Store Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="mouse.html">Custom Mouse Cursors</a></li>
<li class="toctree-l1"><a class="reference internal" href="textshaders.html">Text Shaders</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="launcher.html">Launcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_tools.html">Developer Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="director.html">Interactive Director</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Functionality</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nvl_mode.html">NVL-Mode Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="bubble.html">Speech Bubbles</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Text Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="side_image.html">Side Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms.html">Image Gallery, Music Room, and Replay Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="drag_drop.html">Drag and Drop</a></li>
<li class="toctree-l1"><a class="reference internal" href="sprites.html">Sprites</a></li>
<li class="toctree-l1"><a class="reference internal" href="keymap.html">Customizing the Keymap</a></li>
<li class="toctree-l1"><a class="reference internal" href="achievement.html">Achievements</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Dialogue History</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple.html">Multiple Character Dialogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="splashscreen_presplash.html">Splashscreen and Presplash</a></li>
<li class="toctree-l1"><a class="reference internal" href="lifecycle.html">Lifecycle of a Ren'Py game</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python and Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="statement_equivalents.html">Statement Equivalents</a></li>
<li class="toctree-l1"><a class="reference internal" href="save_load_rollback.html">Saving, Loading, and Rollback</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent.html">Persistent Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_advanced.html">Advanced GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_python.html">Screens and Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="cdd.html">Creator-Defined Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="cds.html">Creator-Defined Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_text_tags.html">Custom Text Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="character_callbacks.html">Character Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_python.html">File Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="color_class.html">Color Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix.html">Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model-Based Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">Other Functions and Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="ren_py.html">_ren.py Files - Ren'Py in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">HTTPS/HTTP Fetch</a></li>
<li class="toctree-l1"><a class="reference internal" href="screenshot.html">Screenshots</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building, Updating, and Other Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="android.html">Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios.html">iOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web.html">Web / HTML5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chromeos.html">Chrome OS/Chromebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="raspi.html">Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="iap.html">In-App Purchasing</a></li>
<li class="toctree-l1"><a class="reference internal" href="updater.html">HTTPS/HTTP Updater</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloader.html">Downloader for Large Games on Mobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="gesture.html">Gestures</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">End-User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems.html">Dealing with Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="self_voicing.html">Self-Voicing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library and Tool Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="template_projects.html">Template Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Engine Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="editor.html">Text Editor Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="skins.html">Skins</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating_renpy.html">Translating Ren'Py</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes, License, and Credits</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog (Ren'Py 7.x-)</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog6.html">Changelog (Ren'Py 6.11 - 6.99)</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompatible.html">Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="sponsors.html">Ren'Py Development Sponsors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ren'Py Visual Novel Engine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">3D Stage</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/renpy/renpy/blob/master/sphinx/source/3dstage.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="d-stage">
<span id="dstage"></span><h1>3D Stage<a class="headerlink" href="#d-stage" title="Link to this heading"></a></h1>
<p>The 3D Stage, named after the stages that plays are performed on, is a concept
that allows displayables to be positioned in 3 dimensions. Ren'Py will then
render the displayables with the proper perspective, and will also make the
z dimension available, to make things like lighting and depth rendering
possible.</p>
<section id="coordinates">
<h2>Coordinates<a class="headerlink" href="#coordinates" title="Link to this heading"></a></h2>
<p>Probably the most important thing to understand about the 3D Stage is the
coordinate system that Ren'Py uses for the 3D state. Here's the coordinate
system that's used to place displayables in 2D:</p>
<img alt="_images/axes_3d_1.png" src="_images/axes_3d_1.png" />
<p>In 2D, the rectangle is the size of the screen, and the width and height
of the visible area is set using <a class="reference internal" href="gui_advanced.html#gui.init" title="gui.init"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.init()</span></code></a> (usually when first making
a new game).</p>
<img alt="_images/axes_3d_2.png" src="_images/axes_3d_2.png" />
<p>The 3D stage extends this coordinate system with a new axis, one facing
towards the viewer, so that values greater than 0 bring an image closer
(and make it bigger), and those less than 0 move the image away from the viewer
(and make it smaller).</p>
<img alt="_images/axes_3d_3.png" src="_images/axes_3d_3.png" />
<p>Finally, when a rotation in 3d happens, it's in the directions given here:</p>
<ul class="simple">
<li><p>When rotating around Z, X moves toward Y.</p></li>
<li><p>When rotating around X, Y moves toward Z.</p></li>
<li><p>When rotating around Y, Z moves toward X.</p></li>
</ul>
<p>These coordinate systems are based on those used in Ren'Py, making it
easy to move from 2D to the 3D stage. When importing 3D models, coordinate
transforms may be applied to ensure the model coordinates are sensible.</p>
</section>
<section id="camera">
<h2>Camera<a class="headerlink" href="#camera" title="Link to this heading"></a></h2>
<p>The initial placement of the camera is controlled by the parameters to
<a class="reference internal" href="gui_advanced.html#gui.init" title="gui.init"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.init()</span></code></a>. First, Ren'Py uses <cite>width</cite> and <cite>fov</cite> to compute the
default <cite>z</cite> distance. For the default <cite>fov</cite> of 75:</p>
<ul class="simple">
<li><p>When width = 1280, z is about 834</p></li>
<li><p>When width = 1920, z is about 1251</p></li>
<li><p>When width = 3840, z is about 2502</p></li>
</ul>
<p>Where the actual value of z is less than 1 higher than the values given
here. The default z placement can be overridden with the <a class="reference internal" href="#transform-property-perspective"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">perspective</span></code></a>
style property, or the <a class="reference internal" href="#var-config.perspective"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.perspective</span></code></a> variable.</p>
<p>Ren'Py automatically applies an offset of (<cite>width</cite> / 2, <cite>height</cite> / 2, <cite>z</cite>)
to the camera, and it looks down the -Z axis.</p>
<p>The <cite>z</cite> distance is also the distance from the camera to the plane where
pixels on-screen have the same size as they do in the original images (ignoring
window scaling). Increasing the camera's z position will make everything
smaller, while decreasing it will make everything bigger.</p>
<p>Finally, <a class="reference internal" href="#transform-property-perspective"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">perspective</span></code></a> and <a class="reference internal" href="#var-config.perspective"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.perspective</span></code></a> describe the
near and far planes, defaulting to 100 and 100000, respectively. This
means that when an image is closer than 100 z-units from the camera,
it disappears, and it also disappears if it's more than 100,000 z-units
away.</p>
<dl class="std var">
<dt class="sig sig-object std" id="var-config.perspective">
<span class="pre">define</span> <span class="sig-name descname"><span class="pre">config.perspective</span></span> <span class="pre">=</span> <span class="pre">(100,</span> <span class="pre">z,</span> <span class="pre">100000)</span><a class="headerlink" href="#var-config.perspective" title="Link to this definition"></a></dt>
<dd><p>The default value used when <a class="reference internal" href="#transform-property-perspective"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">perspective</span></code></a> is not set to a 3-tuple.
<code class="docutils literal notranslate"><span class="pre">z</span></code> depends on the size of the game, as defined above.</p>
</dd></dl>

</section>
<section id="using-the-3d-stage">
<h2>Using the 3D Stage<a class="headerlink" href="#using-the-3d-stage" title="Link to this heading"></a></h2>
<p>The first thing to do to use the 3D stage is to enable it for a layer, using
the <code class="docutils literal notranslate"><span class="pre">camera</span></code> statement. If no layer name is provided, <code class="docutils literal notranslate"><span class="pre">master</span></code> is used by
default. This is usually done with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enabling the 3D stage for the master layer.</span>
<span class="k">camera</span><span class="p">:</span>
    <span class="na">perspective</span> <span class="kc">True</span>
</pre></div>
</div>
<p>though it's possible that you'll want to include a default camera position, as
described below.</p>
<p>Alternatively, you can provide a specific layer name to enable the 3D stage only
for that layer.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enabling the 3D stage for the background layer.</span>
<span class="k">camera</span> <span class="na">background</span><span class="p">:</span>
    <span class="na">perspective</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Showing images (backgrounds and sprites) works the same way as it does in
when using 2D coordinates.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">scene</span> <span class="n">bg</span> <span class="n">washington</span>

<span class="k">show</span> <span class="n">lucy</span> <span class="n">mad</span> <span class="k">at</span> <span class="n">right</span>

<span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span>
</pre></div>
</div>
<p>However, it's possible to use transforms to move these displayables in
three dimensional space:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">scene</span> <span class="n">bg</span> <span class="n">washington</span><span class="p">:</span>
    <span class="na">xalign</span> <span class="mf">0.5</span> <span class="na">yalign</span> <span class="mf">1.0</span> <span class="na">zpos</span> <span class="o">-</span><span class="mi">1000</span>

<span class="k">show</span> <span class="n">lucy</span> <span class="n">mad</span><span class="p">:</span>
    <span class="na">xalign</span> <span class="mf">1.0</span> <span class="na">yalign</span> <span class="mf">1.0</span> <span class="na">zpos</span> <span class="mi">100</span>

<span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span><span class="p">:</span>
    <span class="na">xalign</span> <span class="mf">0.5</span> <span class="na">yalign</span> <span class="mf">1.0</span> <span class="na">zpos</span> <span class="mi">200</span>
</pre></div>
</div>
<p>As an ATL transform is given, the default transform is not used, and it's
necessary to specify <a class="reference internal" href="transform_properties.html#transform-property-xalign"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xalign</span></code></a> and <a class="reference internal" href="transform_properties.html#transform-property-yalign"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">yalign</span></code></a> to position the
displayable in the x and y axes. Of course, transforms can also be used.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">transform</span> <span class="n">zbg</span><span class="p">:</span>
    <span class="na">zpos</span> <span class="o">-</span><span class="mi">100</span>

<span class="k">transform</span> <span class="n">z100</span><span class="p">:</span>
    <span class="na">zpos</span> <span class="mi">100</span>

<span class="k">transform</span> <span class="n">z200</span><span class="p">:</span>
    <span class="na">zpos</span> <span class="mi">200</span>

<span class="k">scene</span> <span class="n">bg</span> <span class="n">washington</span> <span class="k">at</span> <span class="n">center</span><span class="p">,</span> <span class="n">zbg</span>

<span class="k">show</span> <span class="n">lucy</span> <span class="n">mad</span> <span class="k">at</span> <span class="n">right</span><span class="p">,</span> <span class="n">z100</span>

<span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span> <span class="k">at</span> <span class="n">center</span><span class="p">,</span> <span class="n">z200</span>
</pre></div>
</div>
<p>If you try this, you'll see an empty space around the background. That's
because by moving it back, it becomes smaller, and doesn't fill the screen.
Ren'Py has an easy way of fixing this problem - <a class="reference internal" href="#transform-property-zzoom"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">zzoom</span></code></a>. Setting
the <a class="reference internal" href="#transform-property-zzoom"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">zzoom</span></code></a> property to True will scale an image by the amount it was shrunk
due to having a negative zpos. It's useful for backgrounds.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">transform</span> <span class="n">zbg</span><span class="p">:</span>
    <span class="na">zpos</span> <span class="o">-</span><span class="mi">100</span> <span class="na">zzoom</span> <span class="kc">True</span>
</pre></div>
</div>
<p>It's also possible to use ATL to vary zpos, just like you would xpos and
ypos.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span> <span class="k">at</span> <span class="n">center</span><span class="p">:</span>
    <span class="na">zpos</span> <span class="mi">0</span>
    <span class="n">linear</span> <span class="mf">4.0</span> <span class="na">zpos</span> <span class="mi">200</span>
</pre></div>
</div>
<p>Note that zpos can interact strangely with positions like <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code>,
and with <a class="reference internal" href="style_properties.html#style-property-xalign"><code class="xref std std-propref docutils literal notranslate"><span class="pre">xalign</span></code></a> and <a class="reference internal" href="style_properties.html#style-property-yalign"><code class="xref std std-propref docutils literal notranslate"><span class="pre">yalign</span></code></a>. That's because Ren'Py will
position the images in a three dimensional rectangular volume (like a cube, but
not all the sides are the same length), and then apply perspective to the image,
which can cause parts of the image to move offscreen.</p>
<p>It's possible to move the camera, as well, using <code class="docutils literal notranslate"><span class="pre">camera</span></code>. For example,</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">camera</span><span class="p">:</span>
    <span class="na">perspective</span> <span class="kc">True</span>
    <span class="na">xpos</span> <span class="mi">0</span>
    <span class="n">linear</span> <span class="mf">3.0</span> <span class="na">xpos</span> <span class="mi">500</span>
</pre></div>
</div>
<p>When doing this, it probably makes sense to use background images that are
larger than the window.</p>
<p>If you apply a zpos to a sprite, and it doesn't take effect, the reason is
probably because you omitted the <code class="docutils literal notranslate"><span class="pre">perspective</span></code> clause of the <code class="docutils literal notranslate"><span class="pre">camera</span></code>
transform.</p>
<p>The camera can be rotated, with:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">camera</span><span class="p">:</span>
    <span class="na">perspective</span> <span class="kc">True</span>
    <span class="na">rotate</span> <span class="mi">45</span>
</pre></div>
</div>
<p>As the camera is what is rotating, the rotation is in the opposite
direction as one that rotates a displayable.</p>
</section>
<section id="depth">
<h2>Depth<a class="headerlink" href="#depth" title="Link to this heading"></a></h2>
<p>By default, Ren'Py will display the images in its usual order, with the last
image to be shown above the others. This might lead to odd results, like
an image that is closer (using perspective) beign shown behind one that's
farther away.</p>
<p>If your game shows images out of order like this, you can tell the GPU
to sort by depth, using <code class="xref std std-tpref docutils literal notranslate"><span class="pre">gl_depth</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">camera</span><span class="p">:</span>
    <span class="na">perspective</span> <span class="kc">True</span>
    <span class="na">gl_depth</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Slight rounding errors can cause images that are nominally at the same depth to
appear above or below each other. Flattening these images and displaying them
together may be the solution to this.</p>
</section>
<section id="matrix-transforms">
<h2>Matrix Transforms<a class="headerlink" href="#matrix-transforms" title="Link to this heading"></a></h2>
<p>Ren'Py uses the <a class="reference internal" href="#transform-property-matrixtransform"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">matrixtransform</span></code></a> transform property to apply a matrix
to displayables, which allows an image to be scaled, offset, and rotated in
three-dimensional space. This property takes either a <a class="reference internal" href="matrix.html#Matrix" title="Matrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">Matrix()</span></code></a> or a
TransformMatrix (defined below), and applies it to the vertices at the corners
of the images being displayed.</p>
<p>Ren'Py uses the <a class="reference internal" href="#transform-property-matrixanchor"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">matrixanchor</span></code></a> transform property to make applying a
matrix easier. This defaults to (0.5, 0.5), and is translated to a pixel offset
inside the image being transformed using the usual Ren'Py anchor rules. (If it's
an integer or absolute, it's considered a number of pixels, otherwise it's a
fraction of the size of the image.)</p>
<p>Ren'Py applies the image by first shifting the image so the anchor is at (0, 0, 0).
It then applies the transform, and then shifts it back by the same amount. Using
the defaults, this means that the matrix will be applied to the center of the
image.</p>
<p>For example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span> <span class="k">at</span> <span class="n">center</span><span class="p">:</span>
    <span class="na">matrixtransform</span> <span class="n">RotateMatrix</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Will rotate the image around the line going horizontally through it's center. The
top of the image will move back, and then bottom of the image will move
forwards.</p>
<p>Matrixes can be chained together with multiplication. It's easiest to think
about them being applied right to left. In this example:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span> <span class="k">at</span> <span class="n">center</span><span class="p">:</span>
    <span class="na">matrixtransform</span> <span class="n">RotateMatrix</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">OffsetMatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">300</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>The image will be shifted up by 300 pixels, and then will be rotated around
the X axis.</p>
<section id="structural-similarity">
<h3>Structural Similarity<a class="headerlink" href="#structural-similarity" title="Link to this heading"></a></h3>
<p>In ATL, interpolating the <a class="reference internal" href="#transform-property-matrixtransform"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">matrixtransform</span></code></a> property requires the
use of TransformMatrixes that have structural similarity. That means the same
types of TransformMatrix, multiplied together in the same order.</p>
<p>As an example, the following will rotate and offset, then move back:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span> <span class="k">at</span> <span class="n">center</span><span class="p">:</span>
    <span class="na">matrixtransform</span> <span class="n">RotateMatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">OffsetMatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">linear</span> <span class="mf">2.0</span> <span class="na">matrixtransform</span> <span class="n">RotateMatrix</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">OffsetMatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">300</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">linear</span> <span class="mf">2.0</span> <span class="na">matrixtransform</span> <span class="n">RotateMatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">OffsetMatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>While the first setting of matrixtransform may seem unnecessary, it is required
to provide a base for the first linear interpolation. If it wasn't present, that
interpolation would be skipped.</p>
</section>
</section>
<section id="transformmatrix">
<h2>TransformMatrix<a class="headerlink" href="#transformmatrix" title="Link to this heading"></a></h2>
<p>While Matrix objects are suitable for static transformations, they're not
useful for animating changing transformations. It's also useful to have a way of
taking common matrices and encapsulating them in a way that allows the
matrix to be parameterized.</p>
<p>The TransformMatrix is a base class that is extended by a number of
Matrix-creating classes. Instances of TransformMatrix are called by Ren'Py,
and return Matrixes. TransformMatrix is well integrated with ATL, allowing
for matrixtransform animations.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">transform</span> <span class="na">xrotate</span><span class="p">:</span>
    <span class="na">matrixtransform</span> <span class="n">RotateMatrix</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="n">linear</span> <span class="mf">4.0</span> <span class="na">matrixtransform</span> <span class="n">RotateMatrix</span><span class="p">(</span><span class="mf">360.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="k">repeat</span>
</pre></div>
</div>
<p>Subclasses of TransformMatrix are expected to implement the <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method.
This method takes:</p>
<ul class="simple">
<li><p>An old object to interpolate off of. This object may be of any class,
and may be None if no old object exists.</p></li>
<li><p>A value between 0.0 and 1.0, representing the point to interpolate.
0.0 is entirely the old object, and 1.0 is entirely the new object.</p></li>
</ul>
</section>
<section id="built-in-transformmatrix-subclasses">
<h2>Built-In TransformMatrix Subclasses<a class="headerlink" href="#built-in-transformmatrix-subclasses" title="Link to this heading"></a></h2>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">SplineMatrix</span></code>, which works with TransformMatrix subclasses.</p>
</div>
<p>The following is the list of TransformMatrix subclasses that are built into
Ren'Py.</p>
<dl class="py class">
<dt class="sig sig-object py" id="OffsetMatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OffsetMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#OffsetMatrix" title="Link to this definition"></a></dt>
<dd><p>A TransformMatrix that returns a matrix that offsets the vertex by a fixed amount.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="RotateMatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RotateMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RotateMatrix" title="Link to this definition"></a></dt>
<dd><p>A TransformMatrix that returns a matrix that rotates the displayable around the
origin.</p>
<dl class="simple">
<dt><cite>x</cite>, <cite>y</cite>, <cite>z</cite></dt><dd><p>The amount to rotate around the origin, in degrees.</p>
</dd>
</dl>
<p>The rotations are applied in order:</p>
<ul class="simple">
<li><p>A clockwise rotation by <cite>x</cite> degrees in the Y/Z plane.</p></li>
<li><p>A clockwise rotation by <cite>y</cite> degrees in the Z/X plane.</p></li>
<li><p>A clockwise rotation by <cite>z</cite> degrees in the X/Y plane.</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ScaleMatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ScaleMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ScaleMatrix" title="Link to this definition"></a></dt>
<dd><p>A TransformMatrix that returns a matrix that scales the displayable.</p>
<dl class="simple">
<dt><cite>x</cite>, <cite>y</cite>, <cite>z</cite></dt><dd><p>The factor to scale each axis by.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="transform-properties">
<h2>Transform Properties<a class="headerlink" href="#transform-properties" title="Link to this heading"></a></h2>
<p>The following transform properties are used by the 3D Stage.</p>
<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-matrixanchor">
<span class="sig-name descname"><span class="pre">matrixanchor</span></span><a class="headerlink" href="#transform-property-matrixanchor" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(position, position)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>(0.5, 0.5)</p>
</dd>
</dl>
<p>This gives the position of the matrix anchor relative to the image. If the
variables are floats, this is relative to the size of the child, otherwise
it's absolute pixels.</p>
<p>This sets the location of the (0, 0, 0) point that point_to, orientation,
xrotate, yrotate, zrotate and matrixtransform apply their transforms to.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-point_to">
<span class="sig-name descname"><span class="pre">point_to</span></span><a class="headerlink" href="#transform-property-point_to" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(float, float, float), Camera, or None</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>This gives a position to which to point. The camera or the
displayable being transformed are rotated to face that point,
even if the position of the camera or the displayable is changed.</p>
<p>If this is None, no point-of-interest rotation is applied.</p>
<p>If this is not None, this is a 3-tuple or an instance of <a class="reference internal" href="#Camera" title="Camera"><code class="xref py py-func docutils literal notranslate"><span class="pre">Camera()</span></code></a>.
An (x, y, z) format tuple represents the position of the point of interest.
An instance of Camera means to point at the camera.</p>
<p>Note point_to isn't updated automatically. so, you should write like below if
you want it is updated:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># eileen always faces to the camera.</span>
<span class="k">show</span> <span class="n">eileen</span> <span class="n">happy</span> <span class="k">at</span> <span class="n">center</span><span class="p">:</span>
    <span class="na">point_to</span> <span class="n">Camera</span><span class="p">()</span>
    <span class="mi">0</span>
    <span class="k">repeat</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="Camera">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'master'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Camera" title="Link to this definition"></a></dt>
<dd><p>Instances of this class can be used with point_to to point
at the location of the camera for a particular layer.</p>
<dl class="simple">
<dt><cite>layer</cite></dt><dd><p>The name of the layer.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-orientation">
<span class="sig-name descname"><span class="pre">orientation</span></span><a class="headerlink" href="#transform-property-orientation" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(float, float, float) or None</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>This rotates the camera or the displayable. The three values are the
x, y, and z rotations, in degrees. The rotations are applied in x, y, z
order for displayables, and z, y, x order for the camera.</p>
<p>When interpolation is used with orientation, the shortest path is taken
between the old and new orientations.</p>
<p>If this is None, no orientation is applied.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-xrotate">
<span class="sig-name descname"><span class="pre">xrotate</span></span><a class="headerlink" href="#transform-property-xrotate" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or None</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>This rotates the camera or the displayable around the x axis. The value is
the rotation, in degrees. Rotations are applied to displayables in x, y, z
order. Rotations are applied to the camera in z, y, x order.</p>
<p>If this is None, no x-axis rotation is applied.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-yrotate">
<span class="sig-name descname"><span class="pre">yrotate</span></span><a class="headerlink" href="#transform-property-yrotate" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or None</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>This rotates the camera or the displayable around the y axis. The value is
the rotation, in degrees. Rotations are applied to displayables in x, y, z
order. Rotations are applied to the camera in z, y, x order.</p>
<p>If this is None, no y-axis rotation is applied.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-zrotate">
<span class="sig-name descname"><span class="pre">zrotate</span></span><a class="headerlink" href="#transform-property-zrotate" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or None</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>This rotates the camera or the displayable around the z axis. The value is
the rotation, in degrees. Rotations are applied to displayables in x, y, z
order. Rotations are applied to the camera in z, y, x order.</p>
<p>If this is None, no z-axis rotation is applied.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-matrixtransform">
<span class="sig-name descname"><span class="pre">matrixtransform</span></span><a class="headerlink" href="#transform-property-matrixtransform" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None or Matrix or TransformMatrix</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>If not None, this gives a matrix that is used to transform the vertices
of the child of the transform. The transformation goes from the coordinates
used by the screen to the coordinates used by the child of the transform.</p>
<p>Interpolations involving this property are only supported when using a
TransformMatrix, and when the TransformMatrix values are structurally similar,
as described above.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-perspective">
<span class="sig-name descname"><span class="pre">perspective</span></span><a class="headerlink" href="#transform-property-perspective" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>True or False or Float or (Float, Float, Float)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>When applied to a transform, this enables perspective rendering. This
takes a triple, giving the near plane, z-distance to the 1:1 plane, and
far plane.</p>
<p>If a single float, the distances to the near and far planes are taken
from <a class="reference internal" href="#var-config.perspective"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.perspective</span></code></a>. If True, all three values are taken
from that variable.</p>
<p>When perspective is not false, the meaning of the <a class="reference internal" href="transform_properties.html#transform-property-xpos"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xpos</span></code></a>, <a class="reference internal" href="transform_properties.html#transform-property-ypos"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">ypos</span></code></a>,
<a class="reference internal" href="#transform-property-zpos"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">zpos</span></code></a>, and <a class="reference internal" href="transform_properties.html#transform-property-rotate"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">rotate</span></code></a> are inverted, providing the effect of positioning the
camera rather than the child.</p>
<p>As the perspective transformation assumes it's aligned with the window,
it doesn't make sense to reposition it using <a class="reference internal" href="transform_properties.html#transform-property-xanchor"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">xanchor</span></code></a>, and <a class="reference internal" href="transform_properties.html#transform-property-yanchor"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">yanchor</span></code></a>,
or properties that set those, such as <a class="reference internal" href="transform_properties.html#transform-property-anchor"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">anchor</span></code></a>, <a class="reference internal" href="transform_properties.html#transform-property-align"><code class="xref std std-tpref docutils literal notranslate"><span class="pre">align</span></code></a>, <code class="xref std std-tpref docutils literal notranslate"><span class="pre">center</span></code>,
etc.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-zpos">
<span class="sig-name descname"><span class="pre">zpos</span></span><a class="headerlink" href="#transform-property-zpos" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
</dl>
<p>This offsets the child along the z-axis. When perspective is false,
this is used directly, otherwise it is multiplied by -1 and used.</p>
<p>If setting this causes the child to disappear, it's likely that the
transform is not being used with a displayable where zpos is False.</p>
</dd></dl>

<dl class="std transform-property">
<dt class="sig sig-object std" id="transform-property-zzoom">
<span class="sig-name descname"><span class="pre">zzoom</span></span><a class="headerlink" href="#transform-property-zzoom" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>False</p>
</dd>
</dl>
<p>If this is true, the z-distance to the 1:1 plane (<cite>zone</cite>) is determined,
along with this displayable's zpos. The child is then scaled by (<cite>zone</cite> - <cite>zpos</cite>) / <cite>zone</cite>
in the x and y axes.</p>
<p>The intended use for this is in displaying a background with a negative <cite>zpos</cite>, which
would normally make the background small. Setting this to true means that the background
will be displayed at 1:1 size.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="layeredimage.html" class="btn btn-neutral float-left" title="Layered Images" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="live2d.html" class="btn btn-neutral float-right" title="Live2D Cubism" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>