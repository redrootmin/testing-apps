<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTTPS/HTTP Updater &mdash; Ren&#39;Py Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=c659a740" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css?v=70edf1c7" />

  
    <link rel="canonical" href="https://www.renpy.org/doc/html/updater.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=986d2f06"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
        <script src="_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Downloader for Large Games on Mobile" href="downloader.html" />
    <link rel="prev" title="In-App Purchasing" href="iap.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

<a href="https://www.renpy.org/" style="margin-bottom: 0">Ren'Py Visual Novel Engine
<img src="_static/navbar-logo.png" alt="Logo" style="width: 93px; height: 100px; border-radius: 0; margin: 0 auto; padding: 0; margin-top: 5px; background-color: unset;" />
</a>

<a href="index.html" style="margin-bottom: 0px">8.3.4 Documentation</a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI Customization Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Ren'Py Language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="language_basics.html">Language Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">Labels &amp; Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="dialogue.html">Dialogue and Narration</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaying_images.html">Displaying Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="menus.html">In-Game Menus</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditional.html">Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio_filters.html">Audio Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="movie.html">Movie</a></li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">Voice</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Text, Displayables, Transforms, and Transitions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="displayables.html">Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform_properties.html">Transform Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="transitions.html">Transitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrixcolor.html">Matrixcolor</a></li>
<li class="toctree-l1"><a class="reference internal" href="layeredimage.html">Layered Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="3dstage.html">3D Stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="live2d.html">Live2D Cubism</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customizing Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="style.html">Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="style_properties.html">Style Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="screens.html">Screens and Screen Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_actions.html">Screen Actions, Values, and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_special.html">Special Screen Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_optimization.html">Screen Language Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">Preference Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="store_variables.html">Store Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="mouse.html">Custom Mouse Cursors</a></li>
<li class="toctree-l1"><a class="reference internal" href="textshaders.html">Text Shaders</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="launcher.html">Launcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_tools.html">Developer Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="director.html">Interactive Director</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Functionality</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nvl_mode.html">NVL-Mode Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="bubble.html">Speech Bubbles</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Text Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="side_image.html">Side Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms.html">Image Gallery, Music Room, and Replay Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="drag_drop.html">Drag and Drop</a></li>
<li class="toctree-l1"><a class="reference internal" href="sprites.html">Sprites</a></li>
<li class="toctree-l1"><a class="reference internal" href="keymap.html">Customizing the Keymap</a></li>
<li class="toctree-l1"><a class="reference internal" href="achievement.html">Achievements</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Dialogue History</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple.html">Multiple Character Dialogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="splashscreen_presplash.html">Splashscreen and Presplash</a></li>
<li class="toctree-l1"><a class="reference internal" href="lifecycle.html">Lifecycle of a Ren'Py game</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python and Ren'Py</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="statement_equivalents.html">Statement Equivalents</a></li>
<li class="toctree-l1"><a class="reference internal" href="save_load_rollback.html">Saving, Loading, and Rollback</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent.html">Persistent Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_advanced.html">Advanced GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_python.html">Screens and Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="cdd.html">Creator-Defined Displayables</a></li>
<li class="toctree-l1"><a class="reference internal" href="cds.html">Creator-Defined Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_text_tags.html">Custom Text Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="character_callbacks.html">Character Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_python.html">File Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="color_class.html">Color Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix.html">Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model-Based Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">Other Functions and Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="ren_py.html">_ren.py Files - Ren'Py in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">HTTPS/HTTP Fetch</a></li>
<li class="toctree-l1"><a class="reference internal" href="screenshot.html">Screenshots</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building, Updating, and Other Platforms</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="build.html">Building Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="android.html">Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios.html">iOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web.html">Web / HTML5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chromeos.html">Chrome OS/Chromebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="raspi.html">Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="iap.html">In-App Purchasing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">HTTPS/HTTP Updater</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#server-requirements">Server Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-an-update">Building an Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#updater.Update"><code class="docutils literal notranslate"><span class="pre">updater.Update()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#updater.UpdateVersion"><code class="docutils literal notranslate"><span class="pre">updater.UpdateVersion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#updater.can_update"><code class="docutils literal notranslate"><span class="pre">updater.can_update()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#updater.get_installed_packages"><code class="docutils literal notranslate"><span class="pre">updater.get_installed_packages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#updater.update"><code class="docutils literal notranslate"><span class="pre">updater.update()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#screen">Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#updater.Updater"><code class="docutils literal notranslate"><span class="pre">updater.Updater</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.state"><code class="docutils literal notranslate"><span class="pre">updater.Updater.state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.message"><code class="docutils literal notranslate"><span class="pre">updater.Updater.message</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.progress"><code class="docutils literal notranslate"><span class="pre">updater.Updater.progress</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.can_proceed"><code class="docutils literal notranslate"><span class="pre">updater.Updater.can_proceed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.proceed"><code class="docutils literal notranslate"><span class="pre">updater.Updater.proceed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.can_cancel"><code class="docutils literal notranslate"><span class="pre">updater.Updater.can_cancel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.cancel"><code class="docutils literal notranslate"><span class="pre">updater.Updater.cancel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.old_disk_total"><code class="docutils literal notranslate"><span class="pre">updater.Updater.old_disk_total</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.new_disk_total"><code class="docutils literal notranslate"><span class="pre">updater.Updater.new_disk_total</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.download_total"><code class="docutils literal notranslate"><span class="pre">updater.Updater.download_total</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.download_done"><code class="docutils literal notranslate"><span class="pre">updater.Updater.download_done</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.write_total"><code class="docutils literal notranslate"><span class="pre">updater.Updater.write_total</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater.Updater.write_done"><code class="docutils literal notranslate"><span class="pre">updater.Updater.write_done</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="downloader.html">Downloader for Large Games on Mobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="gesture.html">Gestures</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">End-User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems.html">Dealing with Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="self_voicing.html">Self-Voicing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library and Tool Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="template_projects.html">Template Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Engine Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="editor.html">Text Editor Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="skins.html">Skins</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating_renpy.html">Translating Ren'Py</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes, License, and Credits</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog (Ren'Py 7.x-)</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog6.html">Changelog (Ren'Py 6.11 - 6.99)</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompatible.html">Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="sponsors.html">Ren'Py Development Sponsors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ren'Py Visual Novel Engine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">HTTPS/HTTP Updater</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/renpy/renpy/blob/master/sphinx/source/updater.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="https-http-updater">
<h1>HTTPS/HTTP Updater<a class="headerlink" href="#https-http-updater" title="Link to this heading"></a></h1>
<p>Ren'Py includes an updater that can automatically download and install
updates to a Ren'Py game from a web host. The updates work on desktop
platforms, with the exception of macOS apps.</p>
<p>The Ren'Py updater shows an updater screen during this process,
prompting the user to proceed and allowing the user to cancel
when appropriate.</p>
<p>There are two update formats supported. The modern format is called rpu,
and was introduced in Ren'Py 8.2. An older format called zsync is obsolete,
but can be generated to update from older versions.</p>
<section id="server-requirements">
<h2>Server Requirements<a class="headerlink" href="#server-requirements" title="Link to this heading"></a></h2>
<p>The updater requires that you provide your own hosting. You should be
able to download the update files by going to the appropriate URL
directly, and your server must support HTTP range queries.</p>
</section>
<section id="building-an-update">
<h2>Building an Update<a class="headerlink" href="#building-an-update" title="Link to this heading"></a></h2>
<p>Updates are built automatically when distributions are built. To build
an update, set <a class="reference internal" href="build.html#var-build.include_update"><code class="xref std std-var docutils literal notranslate"><span class="pre">build.include_update</span></code></a> to True in options.rpy. This will
unlock the &quot;Build Updates&quot; option in the &quot;Build Distributions&quot; section
of the launcher. Check this option, and Ren'Py will create the update
files.</p>
<p>The update files consist of:</p>
<dl class="simple">
<dt>updates.json</dt><dd><p>An index of available updates and their versions.</p>
</dd>
<dt>updates.ecdsa</dt><dd><p>A signature of updates.json, used to verify that it has not been
tampered with.</p>
</dd>
<dt>rpu/</dt><dd><p>The rpu directory contains the metadata and data used by the updates.</p>
</dd>
</dl>
<p>You should upload these to the same place on your webserver.</p>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h2>
<p>To cause an update to occur, invoke either updater.update or the
updater.Update action.</p>
<dl class="py function">
<dt class="sig sig-object py" id="updater.Update">
<span class="sig-prename descclassname"><span class="pre">updater.</span></span><span class="sig-name descname"><span class="pre">Update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#updater.Update" title="Link to this definition"></a></dt>
<dd><p>An action that calls <a class="reference internal" href="#updater.update" title="updater.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">updater.update()</span></code></a>. All arguments are
stored and passed to that function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="updater.UpdateVersion">
<span class="sig-prename descclassname"><span class="pre">updater.</span></span><span class="sig-name descname"><span class="pre">UpdateVersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">21600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#updater.UpdateVersion" title="Link to this definition"></a></dt>
<dd><p>This function contacts the server at <cite>url</cite>, and determines if there is
a newer version of software available at that url. If there is, this
function returns the new version. Otherwise, it returns None.</p>
<p>Since contacting the server can take some time, this function launches
a thread in the background, and immediately returns the version from
the last time the server was contacted, or None if the server has never
been contacted. The background thread will restart the current interaction
once the server has been contacted, which will cause screens that call
this function to update.</p>
<p>Each url will be contacted at most once per Ren'Py session, and not
more than once every <cite>check_interval</cite> seconds. When the server is not
contacted, cached data will be returned.</p>
<p>Additional keyword arguments (including <cite>simulate</cite>) are passed to the
update mechanism as if they were given to <a class="reference internal" href="#updater.update" title="updater.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">updater.update()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="updater.can_update">
<span class="sig-prename descclassname"><span class="pre">updater.</span></span><span class="sig-name descname"><span class="pre">can_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#updater.can_update" title="Link to this definition"></a></dt>
<dd><p>Returns true if it's possible that an update can succeed. Returns false
if updating is totally impossible. (For example, if the update directory
was deleted.)</p>
<p>Note that this does not determine if an update is actually available.
To do that, use <a class="reference internal" href="#updater.UpdateVersion" title="updater.UpdateVersion"><code class="xref py py-func docutils literal notranslate"><span class="pre">updater.UpdateVersion()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="updater.get_installed_packages">
<span class="sig-prename descclassname"><span class="pre">updater.</span></span><span class="sig-name descname"><span class="pre">get_installed_packages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#updater.get_installed_packages" title="Link to this definition"></a></dt>
<dd><p>Returns a list of installed DLC package names.</p>
<dl class="simple">
<dt><cite>base</cite></dt><dd><p>The base directory to update. Defaults to the current project's
base directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="updater.update">
<span class="sig-prename descclassname"><span class="pre">updater.</span></span><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confirm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefer_rpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">done_pause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_cancel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'updater'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#updater.update" title="Link to this definition"></a></dt>
<dd><p>Updates this Ren'Py game to the latest version.</p>
<dl>
<dt><cite>url</cite></dt><dd><p>The URL to the updates.json file.</p>
</dd>
<dt><cite>base</cite></dt><dd><p>The base directory that will be updated. Defaults to the base
of the current game. (This can usually be ignored.)</p>
</dd>
<dt><cite>force</cite></dt><dd><p>Force the update to occur even if the version numbers are
the same. (Used for testing.)</p>
</dd>
<dt><cite>public_key</cite></dt><dd><p>The path to a PEM file containing a public key that the
update signature is checked against. (This can usually be ignored.)</p>
</dd>
<dt><cite>simulate</cite></dt><dd><p>This is used to test update guis without actually performing
an update. This can be:</p>
<ul class="simple">
<li><p>None to perform an update.</p></li>
<li><p>&quot;available&quot; to test the case where an update is available.</p></li>
<li><p>&quot;not_available&quot; to test the case where no update is available.</p></li>
<li><p>&quot;error&quot; to test an update error.</p></li>
</ul>
</dd>
<dt><cite>add</cite></dt><dd><p>A list of packages to add during this update. This is only necessary
for dlc.</p>
</dd>
<dt><cite>restart</cite></dt><dd><p>If true, the game will be re-run when the update completes. If
&quot;utter&quot;, <code class="xref py py-func docutils literal notranslate"><span class="pre">renpy.utter_restart()</span></code> will be called instead. If False,
the update will simply end.</p>
</dd>
<dt><cite>confirm</cite></dt><dd><p>Should Ren'Py prompt the user to confirm the update? If False, the
update will proceed without confirmation.</p>
</dd>
<dt><cite>patch</cite></dt><dd><p>If true, Ren'Py will attempt to patch the game, downloading only
changed data. If false, Ren'Py will download a complete copy of
the game, and update from that. This is set to false automatically
when the url does not begin with &quot;http:&quot;.</p>
<p>This is ignored if the RPU update format is being used.</p>
</dd>
<dt><cite>prefer_rpu</cite></dt><dd><p>If True, Ren'Py will prefer the RPU format for updates, if both
zsync and RPU are available.</p>
</dd>
<dt><cite>allow_empty</cite></dt><dd><p>If True, Ren'Py will allow the update to proceed even if the
base directory does not contain update information. (<cite>add</cite> must
be provided in this case.)</p>
</dd>
<dt><cite>done_pause</cite></dt><dd><p>If true, the game will pause after the update is complete. If false,
it will immediately proceed (either to a restart, or a return).</p>
</dd>
<dt><cite>allow_cancel</cite></dt><dd><p>If true, the user will be allowed to cancel the update. If false,
the user will not be allowed to cancel the update.</p>
</dd>
<dt><cite>screen</cite></dt><dd><p>The name of the screen to use.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="screen">
<h2>Screen<a class="headerlink" href="#screen" title="Link to this heading"></a></h2>
<p>To customize the look of the updater, you may override the <code class="docutils literal notranslate"><span class="pre">updater</span></code>
screen. Here's an example screen:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">updater</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

   <span class="k">add</span> <span class="s2">&quot;#000&quot;</span>

   <span class="k">frame</span><span class="p">:</span>
      <span class="na">style_group</span> <span class="s2">&quot;&quot;</span>

      <span class="k">has</span> <span class="k">side</span> <span class="s2">&quot;t c b&quot;</span><span class="p">:</span>
         <span class="na">spacing</span> <span class="n">gui</span><span class="o">.</span><span class="n">_scale</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

      <span class="k">label</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Updater&quot;</span><span class="p">)</span>

      <span class="k">fixed</span><span class="p">:</span>

         <span class="k">vbox</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;An error has occured:&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">CHECKING</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Checking for updates.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">UPDATE_NOT_AVAILABLE</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;This program is up to date.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">UPDATE_AVAILABLE</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;[u.version] is available. Do you want to install it?&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">PREPARING</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Preparing to download the updates.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">DOWNLOADING</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Downloading the updates.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">UNPACKING</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Unpacking the updates.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">FINISHING</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Finishing up.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">DONE</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The updates have been installed. The program will restart.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">DONE_NO_RESTART</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The updates have been installed.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">CANCELLED</span><span class="p">:</span>
               <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The updates were cancelled.&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">message</span> <span class="k">is</span> <span class="k">not</span> <span class="kc">None</span><span class="p">:</span>
               <span class="k">null</span> <span class="na">height</span> <span class="n">gui</span><span class="o">.</span><span class="n">_scale</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
               <span class="k">text</span> <span class="s2">&quot;[u.message!q]&quot;</span>

            <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">progress</span> <span class="k">is</span> <span class="k">not</span> <span class="kc">None</span><span class="p">:</span>
               <span class="k">null</span> <span class="na">height</span> <span class="n">gui</span><span class="o">.</span><span class="n">_scale</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
               <span class="k">bar</span> <span class="na">value</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">progress</span> <span class="k">or</span> <span class="mf">0.0</span><span class="p">)</span> <span class="na">range</span> <span class="mf">1.0</span> <span class="k">style</span> <span class="s2">&quot;_bar&quot;</span>

      <span class="k">hbox</span><span class="p">:</span>

         <span class="na">spacing</span> <span class="n">gui</span><span class="o">.</span><span class="n">_scale</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>

         <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">can_proceed</span><span class="p">:</span>
            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Proceed&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">u</span><span class="o">.</span><span class="n">proceed</span>

         <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">can_cancel</span><span class="p">:</span>
            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cancel&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">u</span><span class="o">.</span><span class="n">cancel</span>
</pre></div>
</div>
<p>The updater screen is supplied a single parameter, an Updater object, which
must be named <cite>u</cite>. The Updater object has the following fields on it, which
can be used to customize the screen:</p>
<dl class="py class">
<dt class="sig sig-object py" id="updater.Updater">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">updater.</span></span><span class="sig-name descname"><span class="pre">Updater</span></span><a class="headerlink" href="#updater.Updater" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.state">
<span class="sig-name descname"><span class="pre">state</span></span><a class="headerlink" href="#updater.Updater.state" title="Link to this definition"></a></dt>
<dd><p>The current state of the updater. See the example above for possible
values and their meanings. The values are all constants on the Updater
object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.message">
<span class="sig-name descname"><span class="pre">message</span></span><a class="headerlink" href="#updater.Updater.message" title="Link to this definition"></a></dt>
<dd><p>If not None, a message to display to the user.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.progress">
<span class="sig-name descname"><span class="pre">progress</span></span><a class="headerlink" href="#updater.Updater.progress" title="Link to this definition"></a></dt>
<dd><p>If not None, the progress of the current operation, as a float between
0.0 and 1.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.can_proceed">
<span class="sig-name descname"><span class="pre">can_proceed</span></span><a class="headerlink" href="#updater.Updater.can_proceed" title="Link to this definition"></a></dt>
<dd><p>If True, the screen is being asked to display a button that will allow
the user to proceed with the update.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.proceed">
<span class="sig-name descname"><span class="pre">proceed</span></span><a class="headerlink" href="#updater.Updater.proceed" title="Link to this definition"></a></dt>
<dd><p>If can_proceed is True, this is the action that should be invoked when
the user presses the proceed button.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.can_cancel">
<span class="sig-name descname"><span class="pre">can_cancel</span></span><a class="headerlink" href="#updater.Updater.can_cancel" title="Link to this definition"></a></dt>
<dd><p>If True, the screen is being asked to display a button that will allow
the user to cancel the update.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.cancel">
<span class="sig-name descname"><span class="pre">cancel</span></span><a class="headerlink" href="#updater.Updater.cancel" title="Link to this definition"></a></dt>
<dd><p>If can_cancel is True, this is the action that should be invoked when
the user presses the cancel button.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.old_disk_total">
<span class="sig-name descname"><span class="pre">old_disk_total</span></span><a class="headerlink" href="#updater.Updater.old_disk_total" title="Link to this definition"></a></dt>
<dd><p>If not None, an integer giving the total number of bytes on the disk
the game consumed at the start of the update.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.new_disk_total">
<span class="sig-name descname"><span class="pre">new_disk_total</span></span><a class="headerlink" href="#updater.Updater.new_disk_total" title="Link to this definition"></a></dt>
<dd><p>If not None, an integer giving the total number of bytes on the disk
the game will consume at the end of the update.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.download_total">
<span class="sig-name descname"><span class="pre">download_total</span></span><a class="headerlink" href="#updater.Updater.download_total" title="Link to this definition"></a></dt>
<dd><p>If not None, an integer giving the total number of bytes that will be
downloaded during the update.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.download_done">
<span class="sig-name descname"><span class="pre">download_done</span></span><a class="headerlink" href="#updater.Updater.download_done" title="Link to this definition"></a></dt>
<dd><p>If not None, an integer giving the number of bytes that have been
downloaded during the update, so far.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.write_total">
<span class="sig-name descname"><span class="pre">write_total</span></span><a class="headerlink" href="#updater.Updater.write_total" title="Link to this definition"></a></dt>
<dd><p>If not None, an integer giving the total number of bytes that will be
written to disk during the update.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="updater.Updater.write_done">
<span class="sig-name descname"><span class="pre">write_done</span></span><a class="headerlink" href="#updater.Updater.write_done" title="Link to this definition"></a></dt>
<dd><p>If not None, an integer giving the number of bytes that have been
written to disk during the update, so far.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="iap.html" class="btn btn-neutral float-left" title="In-App Purchasing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="downloader.html" class="btn btn-neutral float-right" title="Downloader for Large Games on Mobile" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>